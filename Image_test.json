{
  "name": "Image test",
  "nodes": [
    {
      "parameters": {
        "operation": "toBinary",
        "sourceProperty": "base64",
        "binaryPropertyName": "Image",
        "options": {}
      },
      "type": "n8n-nodes-base.convertToFile",
      "typeVersion": 1.1,
      "position": [
        2144,
        720
      ],
      "id": "14788949-f984-4d76-913a-66d27e1ca29c",
      "name": "Convert Base64 To File"
    },
    {
      "parameters": {
        "operation": "resize",
        "dataPropertyName": "Image",
        "width": "={{ $('caculate subimage size').all()[0].json.resize_width }}",
        "height": "={{ $('caculate subimage size').all()[0].json.resize_height }}",
        "options": {}
      },
      "type": "n8n-nodes-base.editImage",
      "typeVersion": 1,
      "position": [
        3280,
        720
      ],
      "id": "476d0613-4f19-4aef-a307-e054e8235680",
      "name": "Resize Image"
    },
    {
      "parameters": {
        "operation": "binaryToPropery",
        "binaryPropertyName": "Image",
        "destinationKey": "Info_Image",
        "options": {}
      },
      "type": "n8n-nodes-base.extractFromFile",
      "typeVersion": 1.1,
      "position": [
        4752,
        720
      ],
      "id": "d91e3a94-9d70-47d4-9ea8-ac84e4273542",
      "name": "Extract from File1"
    },
    {
      "parameters": {
        "jsCode": "// ì…ë ¥ í•„ë“œ ì´ë¦„ë§Œ ë³€ê²½í•´ì„œ ì‚¬ìš©í•˜ì„¸ìš”.\nconst ThumbNailImage = $('get images API').all()[0].json.data.thumbNailImageBase64;\nconst SubImage = $('get images API').all()[0].json.data.subImageSumImage;   // â† ì—¬ê¸°ì— í•„ë“œëª… ì§€ì •\n\n\n\nlet ThumbNailImageBase64 = null;\nlet SubImageBase64 = null;\n// ë¬¸ìì—´ì¸ì§€ ì²´í¬\nif (typeof ThumbNailImage === \"string\" && ThumbNailImage.includes(\",\")) {\n  ThumbNailImageBase64 = ThumbNailImage.split(\",\")[1];\n}\n\nif (typeof SubImage === \"string\" && SubImage.includes(\",\")) {\n  SubImageBase64 = SubImage.split(\",\")[1];\n}\n\nreturn [\n  {\n    json: {\n      ThumbNailImageBase64: ThumbNailImageBase64,\n      SubImageBase64: SubImageBase64\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1264,
        720
      ],
      "id": "2b5a5301-ea28-4e62-b67b-1ca33f0e1f77",
      "name": "make pure base64"
    },
    {
      "parameters": {
        "jsCode": "const category = $('get images API').all()[0].json.data.category;\n\nconst prompt = `[ì‹œìŠ¤í…œ ì—­í• ]\në‹¹ì‹ ì€ ì—„ê²©í•œ ê·œì •ì„ ë”°ë¥´ëŠ” ì „ë¬¸ íŒ¨ì…˜ ì´ì»¤ë¨¸ìŠ¤ ì—ë””í„°ì´ë©°,\nì¹´í…Œê³ ë¦¬ì™€ ì²¨ë¶€ëœ ì œí’ˆ ì´ë¯¸ì§€ë“¤ì„ ê¸°ë°˜ìœ¼ë¡œ ëª¨ë¸ ì°©ìš© ì´ë¯¸ì§€ë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.\n\në‹¹ì‹ ì˜ ì„ë¬´ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n**ì¹´í…Œê³ ë¦¬ : ${category}**ë¥¼ ê¸°ì¤€ìœ¼ë¡œ\nì²¨ë¶€ëœ ì´ë¯¸ì§€ ì•ˆì—ì„œ í•´ë‹¹ ì¹´í…Œê³ ë¦¬ì— í•´ë‹¹í•˜ëŠ” ì œí’ˆì„ ì •í™•íˆ ì°¾ì•„ë‚´ê³ \nê·¸ ì œí’ˆì„ ëª¨ë¸ì´ ì°©ìš©í•œ ìƒˆë¡œìš´ ì°©ìš©ì»· ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\nI. [ëª¨ë¸ í˜ë¥´ì†Œë‚˜ ì¹´ë“œ] â€“ ì¼ê´€ì„± ìœ ì§€ (Critical Model Consistency)\nëª¨ë“  ì´ë¯¸ì§€ì—ì„œ ì•„ë˜ ëª¨ë¸ í˜ë¥´ì†Œë‚˜ë¥¼ ì™„ì „íˆ ìœ ì§€í•´ì•¼ í•©ë‹ˆë‹¤.\nì„±ë³„/ì—°ë ¹: 20ëŒ€ í›„ë°˜â€“30ëŒ€ ì´ˆë°˜ì˜ ì„¸ë ¨ëœ í•œêµ­ ì—¬ì„±/ë‚¨ì„±\nì–¼êµ´ íŠ¹ì§•:\n\nì–¼êµ´ ì „ì²´ê°€ ëª…í™•íˆ ë³´ì„\nì‹œí¬í•˜ê³  ë¬´ì‹¬í•œ í‘œì •\nì…ì²´ì ì¸ ì´ëª©êµ¬ë¹„\nì •ë©´ ë˜ëŠ” ì‚´ì§ ë¹„ì¼œê°€ëŠ” ì‹œì„ \n\ní—¤ì–´:\n\nìì—°ìŠ¤ëŸ¬ìš´ ì§ˆê°ì˜ ì§§ì€ ë‹¨ë°œ ë˜ëŠ” ì •ëˆëœ ë¯¸ë””ì—„\nì§™ì€ ê°ˆìƒ‰ ì»¬ëŸ¬\n\ní”¼ë¶€í†¤:\n\në§¤íŠ¸í•˜ê³  ê±´ê°•í•œ ì¿¨í†¤\nìì—°ìŠ¤ëŸ¬ìš´ ë©”ì´í¬ì—…\n\në¶„ìœ„ê¸°:\n\në„ì‹œì , ì „ë¬¸ì , í•˜ì´ì—”ë“œ ë§¤ê±°ì§„ í™”ë³´ ëŠë‚Œ\n\nII. ì œí’ˆ ì‹ë³„ ê·œì¹™ (ì¹´í…Œê³ ë¦¬ ê¸°ë°˜ Product Identification Rule)\n1) ì²¨ë¶€ ì´ë¯¸ì§€ ì†ì—ì„œ í•´ë‹¹ ì¹´í…Œê³ ë¦¬ì™€ ë§¤ì¹­ë˜ëŠ” ì œí’ˆì„ íƒì§€\n\nì¹´í…Œê³ ë¦¬ êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±ë¨:\nëŒ€ë¶„ë¥˜-ì¤‘ë¶„ë¥˜-ì†Œë¶„ë¥˜\nì˜ˆ) ì˜ë¥˜â€“ìŠ¤ì»¤íŠ¸â€“ë¡±, ì•…ì„¸ì‚¬ë¦¬â€“ëª¨ìâ€“ë¹„ë‹ˆ ë“±\n\nì´ë¯¸ì§€ ì† ì‹¤ì œ ì œí’ˆì˜ í˜•íƒœÂ·ì¬ì§ˆÂ·ì‹¤ë£¨ì—£ì„ ê¸°ë°˜ìœ¼ë¡œ ê°€ì¥ ì •í™•í•˜ê²Œ ë§¤ì¹­ë˜ëŠ” ì œí’ˆì„ ì„ íƒ.\n\n2) ì„ íƒëœ ì œí’ˆì˜ ëª¨ë“  ë””í…Œì¼ì„ ê·¸ëŒ€ë¡œ ìœ ì§€\n\nâœ” ìƒ‰ìƒ (Hue/Saturation/Brightness)\nâœ” ì‹¤ë£¨ì—£\nâœ” ì£¼ë¦„\nâœ” íŒ¨í„´\nâœ” ë²„íŠ¼Â·í¬ì¼“ ìœ„ì¹˜\nâœ” ì§ˆê°\nâœ” í•\n\nâš  ì›ë³¸ê³¼ ë‹¨ 1pxë„ ë‹¤ë¥´ê²Œ ìƒì„±ë˜ë©´ ì•ˆ ë¨.\n\n3) í•´ë‹¹ ì œí’ˆì„ ëª¨ë¸ì´ ìì—°ìŠ¤ëŸ½ê²Œ ì°©ìš©í•œ ìƒíƒœë¡œ ì¬êµ¬ì„±\n\nì œí’ˆ ë³€í˜• ê¸ˆì§€\n\nì™œê³¡ ê¸ˆì§€\n\nìƒ‰ ë³´ì • ê¸ˆì§€\n\nIII. ì´ë¯¸ì§€ ìƒì„± ê·œì¹™ (ìƒí’ˆ ìœ ì§€ê°€ ìµœìš°ì„ )\nì›ë³¸ ìƒí’ˆì´ ì ˆëŒ€ì ìœ¼ë¡œ ë™ì¼í•´ì•¼ í•œë‹¤.\n\nìƒ‰ìƒ ë³€ê²½ ê¸ˆì§€\nâ¤ ì›ë³¸ ìƒí’ˆì˜ ìƒ‰ìƒ(Hue, Saturation, Brightness í¬í•¨ ëª¨ë“  Color Attribute)ì€ 1pxë„ ë³€í™”í•˜ë©´ ì•ˆ ëœë‹¤.\nâ¤ AIê°€ ìë™ ë³´ì •/í™”ì´íŠ¸ë°¸ëŸ°ìŠ¤/ì¡°ëª… ì˜í–¥ ë“±ì„ í•‘ê³„ë¡œ ìƒ‰ì¡°ê°€ ë°”ë€ŒëŠ” ê²ƒë„ ê¸ˆì§€.\nâ¤ ì›ë³¸ ì œí’ˆ ìƒ‰ìƒì€ RAW Colorì²˜ëŸ¼ ê·¸ëŒ€ë¡œ ì ê¸ˆ ìƒíƒœ(Color-locked)ë¡œ ìœ ì§€í•´ì•¼ í•œë‹¤.\në””í…Œì¼ ë³€ê²½ ê¸ˆì§€\nì†Œì¬/í•/ë²„íŠ¼/í¬ì¼“ ìœ„ì¹˜/íŒ¨í„´/ì²œ ì§ˆê° ëª¨ë‘ ë™ì¼í•˜ê²Œ ìœ ì§€\nëª¨ë¸ì´ ì‹¤ì œë¡œ ê·¸ ìƒí’ˆì„ ì…ì€ ê²ƒì²˜ëŸ¼ ìì—°ìŠ¤ëŸ½ê²Œ ì¬í˜„í•  ê²ƒ\n\nì˜·ì´ ë‹ë³´ì´ë„ë¡ ì½”ë””ëŠ” ë”ìš± ì„¸ë ¨ë˜ê²Œ êµ¬ì„±í•˜ë˜, ìƒí’ˆì„ ë°©í•´í•˜ì§€ ì•Šì„ ê²ƒ.\nëª¨ë¸ ì–¼êµ´ì€ ê¼­ ë³´ì—¬ì•¼ í•œë‹¤.\nëª¨ë¸ í¬ì¦ˆ:\n\nëª¨ë¸ì€ ì •ë©´ì„ ë³´ê³  ì„œ ìˆìœ¼ë©°, í•œìª½ ì†ì€ ë°”ì§€ ì£¼ë¨¸ë‹ˆì— ë„£ê³  ë‹¤ë¥¸ ìª½ ì–´ê¹¨ì—ëŠ” ê°€ë°©ì„ ë©”ê³  ìˆìŠµë‹ˆë‹¤.\nëª¸ì€ ì •ë©´ì„ í–¥í•˜ì§€ë§Œ ì‹œì„ ì€ ì•½ê°„ ì˜¤ë¥¸ìª½\nì „ì²´ì ìœ¼ë¡œ í¸ì•ˆí•˜ê³  ì•ˆì •ì ì¸ ìŠ¤íƒ ë”© í¬ì¦ˆ\n\nìƒì„¸ ì´ë¯¸ì§€ ë¹„ìœ¨: 1 : 1.2\nì½”ë”” ê·œì¹™:\n\nì½”ë””ë˜ëŠ” ë‹¤ë¥¸ ì˜ë¥˜ëŠ” ì²´í¬ íŒ¨í„´ ì ˆëŒ€ ê¸ˆì§€\ní•˜ì˜ëŠ” ë‹¤ìŒ ì¤‘ í•˜ë‚˜ë§Œ í—ˆìš©: ë¶€ì¸ ì»· íŒ¬ì¸  / ìŠ¬ë™ìŠ¤ ì™€ì´ë“œ í•\nì‹ ë°œì€ ë‹¤ìŒ ì¤‘ í•˜ë‚˜ë§Œ í—ˆìš©: í”Œë« ë¡œí¼ / ìš´ë™í™” (êµ½ ë†’ì€ êµ¬ë‘ ì ˆëŒ€ ê¸ˆì§€)\nwinter season â†’ ì§™ì€ ìƒ‰ìƒ\nê°€ë°©ì€ ëª…í’ˆ ëŠë‚Œ ê¸ˆì§€, ì‹¬í”Œí•˜ê³  ë¯¸ë‹ˆë©€í•œ ë””ìì¸ë§Œ ì‚¬ìš©\n\nìƒí’ˆ ë””í…Œì¼ ì¬í˜„ ë§¤ìš° ì¤‘ìš”:\n\nì˜·ì˜ ì§ˆê°, ì£¼ë¦„, ë²„íŠ¼, ì‹¤ë£¨ì—£, ì»¬ëŸ¬, í• ëª¨ë‘ ì›ë³¸ê³¼ ë™ì¼\nì‚¬ì§„ ì† ì¡°ëª…/í™˜ê²½ ë³€í™”ì—ë„ ìƒí’ˆì´ ì›ë³¸ê³¼ ì •í™•íˆ ê°™ì•„ì•¼ í•¨\n\n\nâš¡ ì¶”ê°€ ê·œì¹™ â€” \"ëª¨ë¸ ë‹¤ë¦¬ ê¸¸ì´ ì¦ê°€ (Leg-Elongation Rule)\"\nì•„ë˜ ê·œì¹™ì„ ìƒˆë¡œ ì¶”ê°€í•©ë‹ˆë‹¤. í•„ìˆ˜ ì ìš©ì…ë‹ˆë‹¤.\n\nëª¨ë¸ì˜ ë‹¤ë¦¬ëŠ” ì¼ë°˜ì ì¸ ë¹„ìœ¨ë³´ë‹¤ ê¸¸ê³  ìŠ¬ë¦¼í•˜ê²Œ, íŒ¨ì…˜ í™”ë³´ ìŠ¤íƒ€ì¼ì˜ ë¡± ë ˆê·¸ ë¹„ìœ¨ì„ ì ìš©í•˜ì—¬ ì—°ì¶œí•˜ì‹­ì‹œì˜¤.\në‹¨, ì‹ ì²´ ë¹„ìœ¨ì´ ë¶€ìì—°ìŠ¤ëŸ½ì§€ ì•Šë„ë¡ í”„ë¡œ íŒ¨ì…˜ ì´¬ì˜ì²˜ëŸ¼ ìì—°ìŠ¤ëŸ½ê²Œ ì—°ì¥í•˜ì‹­ì‹œì˜¤.\në‹¤ë¦¬ë¥¼ ê¸¸ê²Œ ë§Œë“¤ ë•Œì—ë„ ìƒí’ˆ(ì™¸íˆ¬/ì•„ìš°í„°/ìƒì˜)ì˜ í•ì´ ì™œê³¡ë˜ê±°ë‚˜ ë³€í˜•ë˜ë©´ ì ˆëŒ€ ì•ˆ ëœë‹¤.\ní•˜ì˜ ì‹¤ë£¨ì—£(ë¶€ì¸ ì»·/ì™€ì´ë“œí•)ë„ ê·¸ëŒ€ë¡œ ìœ ì§€í•œ ìƒíƒœì—ì„œ ì „ì²´ì ì¸ ë¹„ìœ¨ë§Œ ìŠ¬ë¦¼í•˜ê³  ê¸¸ì–´ ë³´ì´ë„ë¡ ì²˜ë¦¬.\në°œ ìœ„ì¹˜Â·ë°”ë‹¥Â·ê·¸ë¦¼ìë„ í˜„ì‹¤ì ì¸ ë¹„ë¡€ê°ìœ¼ë¡œ ì¡°ì •í•´ ìì—°ìŠ¤ëŸ¬ì›€ì„ ìœ ì§€í•  ê²ƒ.\n\n\nğŸš« III. í…ìŠ¤íŠ¸ ìƒì„± ì ˆëŒ€ ê¸ˆì§€ (NO TEXT GENERATION - CRITICAL)\nâš ï¸ ì´ ê·œì¹™ì€ ìµœìš°ì„  ì ìš©ë©ë‹ˆë‹¤.\nâŒ ì ˆëŒ€ ê¸ˆì§€ ì‚¬í•­:\n\nì´ë¯¸ì§€ ë‚´ì— ìƒˆë¡œìš´ í…ìŠ¤íŠ¸, ê¸€ì, ë¬¸ì, ìˆ«ì, ê¸°í˜¸ë¥¼ ìƒì„±í•˜ì§€ ë§ˆì‹­ì‹œì˜¤\në¸Œëœë“œëª…, ë¡œê³ , ì›Œí„°ë§ˆí¬, ë¼ë²¨ì„ ìƒˆë¡œ ë§Œë“¤ì§€ ë§ˆì‹­ì‹œì˜¤\nì˜·ì— ê¸€ì”¨ë‚˜ í”„ë¦°íŠ¸ë¥¼ ì¶”ê°€í•˜ì§€ ë§ˆì‹­ì‹œì˜¤ (ì›ë³¸ì— ì—†ëŠ” ê²½ìš°)\në°°ê²½ì— ê°„íŒ, ë¬¸êµ¬, ì¥ì‹ í…ìŠ¤íŠ¸ë¥¼ ë„£ì§€ ë§ˆì‹­ì‹œì˜¤\nì–´ë–¤ í˜•íƒœì˜ í…ìŠ¤íŠ¸ë„ AIê°€ ì„ì˜ë¡œ ìƒì„±í•´ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤\n\n\"DO NOT generate, add, or create ANY text, letters, numbers, logos, watermarks, or written elements that do not exist in the original image. Text generation is strictly prohibited.\"\n\nIV. ì£¼ì˜ì‚¬í•­ (Critical)\n\nì›ë³¸ ìƒí’ˆ ë””í…Œì¼ì´ 1pxë„ ë°”ë€Œë©´ ì•ˆ ëœë‹¤\nì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ë”ë¼ë„ í…ìŠ¤íŠ¸, ì„¤ëª…, ì •ë³´ ë°°ì¹˜ëŠ” 100% ë™ì¼í•˜ê²Œ ìœ ì§€\nëª¨ë¸ì»·ë§Œ êµì²´\nìƒí’ˆ ì‹¤ë£¨ì—£/ìƒ‰ìƒ/ì§ˆê° ì¶©ì‹¤í•˜ê²Œ ë³µì›\në‹¤ë¦¬ ê¸¸ì´ ì¦ê°€ í¬í•¨\nìƒˆë¡œìš´ í…ìŠ¤íŠ¸ ìƒì„± ì ˆëŒ€ ê¸ˆì§€\nì „ì²´ ê²°ê³¼ë¬¼ì€ \"ì§„ì§œ ëª¨ë¸ì´ ê·¸ ìƒí’ˆì„ ì°©ìš©í•œ ê²ƒì²˜ëŸ¼\" ë³´ì—¬ì•¼ í•œë‹¤`;\n\n \n\nreturn [\n  {\n    json: {\n      cleanedPrompt: JSON.stringify(prompt)\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1104,
        720
      ],
      "id": "d1d07188-0eb2-4c34-aec2-7fd277c73998",
      "name": "make pure thumbnailPrompt"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://generativelanguage.googleapis.com/v1beta/models/gemini-3-pro-image-preview:generateContent\n",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"contents\" : [{\n    \"parts\": [\n      {\n          \"text\": {{ $json.cleanedPrompt }} },\n      {\n        \"inline_data\": {\n          \"mime_type\": \"image/jpeg\",\n          \"data\": \"{{ $('make pure base64').all()[0].json.ThumbNailImageBase64 }}\"\n        }\n      }\n    ]\n  }],\n  \"generationConfig\": {\n    \"responseModalities\": [\"TEXT\", \"IMAGE\"],\n    \"imageConfig\": {\n      \"aspectRatio\": \"4:5\",\n      \"imageSize\": \"1K\"\n    }\n  } \n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        -928,
        720
      ],
      "id": "c9d5cb4a-3036-400f-bc15-8faa4184fdaf",
      "name": "create thumbnail",
      "retryOnFail": true,
      "waitBetweenTries": 5000,
      "credentials": {
        "httpHeaderAuth": {
          "id": "evcIz8tBtY6ypLqT",
          "name": "Soonicorn_GeminiAPI"
        }
      }
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "import base64\nfrom io import BytesIO\nfrom PIL import Image\n\n# ==========================================================\n# 1) base64 ì…ë ¥ ë°›ê¸°\n# ==========================================================\nbase64_input = _input.first().json.candidates[0].content.parts[0].inlineData.data\n\nif not base64_input:\n    raise Exception(\"base64 ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\")\n\nimage_data = base64.b64decode(base64_input)\n\n# ==========================================================\n# 2) ì´ë¯¸ì§€ ë¡œë“œ\n# ==========================================================\nimg = Image.open(BytesIO(image_data))\n\n# ==========================================================\n# 3) ë¹„ìœ¨ ìœ ì§€ + width 700px ë¦¬ì‚¬ì´ì¦ˆ\n# ==========================================================\ntarget_width = 700\nw, h = img.size\nratio = target_width / float(w)\ntarget_height = int(h * ratio)\n\nresized_img = img.resize((target_width, target_height), Image.LANCZOS)\n\n# ==========================================================\n# 4) ë‹¤ì‹œ base64ë¡œ ë³€í™˜\n# ==========================================================\nbuffered = BytesIO()\nresized_img.save(buffered, format=\"JPEG\")\noutput_base64 = base64.b64encode(buffered.getvalue()).decode(\"utf-8\")\n\n# ==========================================================\n# 5) n8n Output (ë°˜ë“œì‹œ list ë°˜í™˜)\n# ==========================================================\nreturn [\n    {\n        \"width\": target_width,\n        \"height\": target_height,\n        \"ThumbnailImage_Base64\": output_base64\n    }\n]\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -768,
        720
      ],
      "id": "da493f01-8d5a-4945-b1b8-dbcef141f1bd",
      "name": "resize thumbnail"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://generativelanguage.googleapis.com/v1beta/models/gemini-3-pro-image-preview:generateContent\n",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"contents\" : [{\n    \"parts\": [\n      {\n          \"text\": {{ $json.cleanedPrompt }} },\n      {\n        \"inline_data\": {\n          \"mime_type\": \"image/jpeg\",\n          \"data\": \"{{ $('resize thumbnail').all()[0].json.ThumbnailImage_Base64 }}\"\n        }\n      }\n    ]\n  }],\n  \"generationConfig\": {\n    \"responseModalities\": [\"TEXT\", \"IMAGE\"],\n    \"imageConfig\": {\n      \"aspectRatio\": \"4:5\",\n      \"imageSize\": \"1K\"\n    }\n  } \n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        -128,
        240
      ],
      "id": "24d75eaf-aebe-46ab-87b7-ac52f4b1753c",
      "name": "create model-cut 1",
      "retryOnFail": true,
      "waitBetweenTries": 5000,
      "credentials": {
        "httpHeaderAuth": {
          "id": "evcIz8tBtY6ypLqT",
          "name": "Soonicorn_GeminiAPI"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const prompt = `\n[ì‹œìŠ¤í…œ ì—­í• ]\në‹¹ì‹ ì€ ì—„ê²©í•œ ê·œì •ì„ ë”°ë¥´ëŠ” ì „ë¬¸ íŒ¨ì…˜ ì´ì»¤ë¨¸ìŠ¤ ì—ë””í„°ì´ë©°, íŠ¹ì • ëª¨ë¸ì˜ ì¼ê´€ëœ ì™¸í˜•ì„ ìœ ì§€í•´ì•¼ í•˜ëŠ” ì„ë¬´ë¥¼ ë°›ì•˜ìŠµë‹ˆë‹¤.\n\nì„ë¬´:\nëª¨ë¸ì˜ í¬ì¦ˆë§Œ ì•„ë˜ ì§€ì‹œì‚¬í•­ì— ë”°ë¼ êµì²´ëœ ìƒˆë¡œìš´ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ì‹­ì‹œì˜¤.\n\nI. [ëª¨ë¸ í˜ë¥´ì†Œë‚˜ ì¹´ë“œ] â€“ ì¼ê´€ì„± ìœ ì§€ (Critical Model Consistency)\n- 20ëŒ€ í›„ë°˜~30ëŒ€ ì´ˆë°˜ ì„¸ë ¨ëœ í•œêµ­ ëª¨ë¸\n- ì–¼êµ´ ì „ì²´ ëª…í™•íˆ ë³´ì„, ì‹œí¬í•˜ê³  ë¬´ì‹¬í•œ í‘œì •\n- ì…ì²´ì  ì´ëª©êµ¬ë¹„\n- ì‹œì„ : ì •ë©´ ë˜ëŠ” ì•½ê°„ ë¹„ì¼œê°\n- ìì—°ìŠ¤ëŸ¬ìš´ ì§ˆê°ì˜ ì§§ì€ ë‹¨ë°œ~ë¯¸ë””ì—„ í—¤ì–´, ì§™ì€ ê°ˆìƒ‰\n- ë§¤íŠ¸í•˜ê³  ê±´ê°•í•œ ì¿¨í†¤ í”¼ë¶€, ìì—°ìŠ¤ëŸ¬ìš´ ë©”ì´í¬ì—…\n- ë¶„ìœ„ê¸°: ë„ì‹œì , ì „ë¬¸ì , í•˜ì´ì—”ë“œ í™”ë³´\n\nII. ì´ë¯¸ì§€ ìƒì„± ê·œì¹™ (ì›ë³¸ ì°©ì¥ 100% ìœ ì§€, í¬ì¦ˆë§Œ ë³€ê²½)âš ï¸ í•µì‹¬ ì›ì¹™: ì¸í’‹ ì´ë¯¸ì§€ì˜ ëª¨ë¸ ì°©ì¥ì„ ì™„ë²½íˆ ë™ì¼í•˜ê²Œ ìœ ì§€í•˜ê³ , í¬ì¦ˆë§Œ ë³€ê²½í•©ë‹ˆë‹¤.ğŸ”’ ì›ë³¸ ì°©ì¥ ì™„ì „ ë³´ì¡´ (CRITICAL - DO NOT MODIFY)\nìƒì˜/ì•„ìš°í„°: ì›ë³¸ê³¼ 100% ë™ì¼ (ìƒ‰ìƒ/í•/ì†Œì¬/ë²„íŠ¼/í¬ì¼“/ì§ˆê°/íŒ¨í„´/ì£¼ë¦„/ë””í…Œì¼)\ní•˜ì˜: ì›ë³¸ ì´ë¯¸ì§€ì˜ í•˜ì˜ ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¢…ë¥˜/ìƒ‰ìƒ/í•/ì†Œì¬ ë³€ê²½ ê¸ˆì§€)\nì‹ ë°œ: ì›ë³¸ ì´ë¯¸ì§€ì˜ ì‹ ë°œ ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¢…ë¥˜/ìƒ‰ìƒ/ìŠ¤íƒ€ì¼ ë³€ê²½ ê¸ˆì§€)\nê°€ë°©/ì•¡ì„¸ì„œë¦¬: ì›ë³¸ ì´ë¯¸ì§€ì— ìˆëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¶”ê°€/ì œê±°/ë³€ê²½ ê¸ˆì§€)\nì „ì²´ ì½”ë””: ì¸í’‹ ì´ë¯¸ì§€ì˜ ì°©ì¥ì„ 1pxë„ ë³€ê²½í•˜ì§€ ì•ŠìŒ\n\nâŒ ì ˆëŒ€ ê¸ˆì§€:\ní•˜ì˜ë¥¼ ë‹¤ë¥¸ ì¢…ë¥˜ë¡œ êµì²´\nì‹ ë°œì„ ë‹¤ë¥¸ ì¢…ë¥˜ë¡œ êµì²´\nê°€ë°©ì„ ì¶”ê°€/ì œê±°/ë³€ê²½\nì•¡ì„¸ì„œë¦¬ë¥¼ ì¶”ê°€/ì œê±°/ë³€ê²½\nì›ë³¸ì— ì—†ëŠ” ì•„ì´í…œ ì¶”ê°€\nì›ë³¸ì— ìˆëŠ” ì•„ì´í…œ ì œê±°\n\nIII. Leg-Elongation Rule (í•„ìˆ˜ ì ìš©)\n- ëª¨ë¸ì˜ ë‹¤ë¦¬ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ê¸¸ê³  ìŠ¬ë¦¼í•˜ê²Œ ì—°ì¶œ\n- ì‹ ì²´ê°€ ë¶€ìì—°ìŠ¤ëŸ½ì§€ ì•Šë„ë¡ í”„ë¡œ íŒ¨ì…˜ ì´¬ì˜ ë¹„ìœ¨ë¡œ ì¡°ì •\n- ìƒì˜/ì•„ìš°í„° ì‹¤ë£¨ì—£ì€ ë³€í˜• ê¸ˆì§€  \n- í•˜ì˜ ì‹¤ë£¨ì—£ ê·¸ëŒ€ë¡œ ìœ ì§€  \n- ë°œÂ·ë°”ë‹¥Â·ê·¸ë¦¼ì ìì—°ìŠ¤ëŸ¬ìš´ ë¹„ë¡€ ìœ ì§€\n\nIV. ì£¼ì˜ì‚¬í•­\n- ì›ë³¸ ìƒí’ˆ ë””í…Œì¼ 1pxë„ ë³€ê²½ ê¸ˆì§€\n- í…ìŠ¤íŠ¸/ë ˆì´ì•„ì›ƒ 100% ë™ì¼í•˜ê²Œ ìœ ì§€\n- ëª¨ë¸ì»·ë§Œ êµì²´\n- ìƒí’ˆ ì¬í˜„ ì •í™•ë„ ìµœìš°ì„ \n\n[í¬ì¦ˆ ì§€ì‹œì‚¬í•­]\nëª¨ë¸ì€ í•œ ì†ì€ ë°”ì§€ ì£¼ë¨¸ë‹ˆì— ë„£ê³ , ë‹¤ë¥¸ ì†ìœ¼ë¡œëŠ” ê°€ë°©ì„ ë“¤ê³  ìˆìŠµë‹ˆë‹¤.\nëª¸ì˜ ì¤‘ì‹¬ì€ í•œìª½ ë‹¤ë¦¬ì— ì‹¤ë ¤ ìˆìœ¼ë©°, ìì—°ìŠ¤ëŸ½ê³  ì•ˆì •ì ì¸ ìŠ¤íƒ ë”© í¬ì¦ˆì…ë‹ˆë‹¤.\nì‹œì„ ì€ ê°€ë³ê²Œ ì •ë©´ì„ í–¥í•˜ê±°ë‚˜ ì•½ê°„ ì˜†ìœ¼ë¡œ.\nì „ì²´ì ìœ¼ë¡œ íŒ¨ì…˜ í™”ë³´ ê°™ì€ ì—¬ìœ ë¡œìš´ ë¶„ìœ„ê¸°.\nìƒí’ˆì˜ í•Â·ìƒ‰ìƒÂ·ì‹¤ë£¨ì—£ì€ ì›ë³¸ê³¼ ë™ì¼í•˜ê²Œ ìœ ì§€í•˜ì‹­ì‹œì˜¤.\n`;\n\nreturn [\n  {\n    json: {\n      cleanedPrompt: JSON.stringify(prompt)\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -304,
        240
      ],
      "id": "30090a74-8ba6-46a1-a6ef-dc799d51f24b",
      "name": "make pure model-cut prompt 1"
    },
    {
      "parameters": {
        "jsCode": "const prompt = `\n[ì‹œìŠ¤í…œ ì—­í• ]\në‹¹ì‹ ì€ ì—„ê²©í•œ ê·œì •ì„ ë”°ë¥´ëŠ” ì „ë¬¸ íŒ¨ì…˜ ì´ì»¤ë¨¸ìŠ¤ ì—ë””í„°ì´ë©°, íŠ¹ì • ëª¨ë¸ì˜ ì¼ê´€ëœ ì™¸í˜•ì„ ìœ ì§€í•´ì•¼ í•˜ëŠ” ì„ë¬´ë¥¼ ë°›ì•˜ìŠµë‹ˆë‹¤.\n\nì„ë¬´:\nëª¨ë¸ì˜ í¬ì¦ˆë§Œ ì•„ë˜ ì§€ì‹œì‚¬í•­ì— ë”°ë¼ êµì²´ëœ ìƒˆë¡œìš´ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ì‹­ì‹œì˜¤.\n\n\nI. [ëª¨ë¸ í˜ë¥´ì†Œë‚˜ ì¹´ë“œ] â€“ ì¼ê´€ì„± ìœ ì§€ (Critical Model Consistency)\n- 20ëŒ€ í›„ë°˜~30ëŒ€ ì´ˆë°˜ ì„¸ë ¨ëœ í•œêµ­ ëª¨ë¸\n- ì–¼êµ´ ì „ì²´ ëª…í™•íˆ ë³´ì„, ì‹œí¬í•˜ê³  ë¬´ì‹¬í•œ í‘œì •\n- ì…ì²´ì  ì´ëª©êµ¬ë¹„\n- ì‹œì„ : ì •ë©´ ë˜ëŠ” ì•½ê°„ ë¹„ì¼œê°\n- ìì—°ìŠ¤ëŸ¬ìš´ ì§ˆê°ì˜ ì§§ì€ ë‹¨ë°œ~ë¯¸ë””ì—„ í—¤ì–´, ì§™ì€ ê°ˆìƒ‰\n- ë§¤íŠ¸í•˜ê³  ê±´ê°•í•œ ì¿¨í†¤ í”¼ë¶€, ìì—°ìŠ¤ëŸ¬ìš´ ë©”ì´í¬ì—…\n- ë¶„ìœ„ê¸°: ë„ì‹œì , ì „ë¬¸ì , í•˜ì´ì—”ë“œ í™”ë³´\n\nII. ì´ë¯¸ì§€ ìƒì„± ê·œì¹™ (ì›ë³¸ ì°©ì¥ 100% ìœ ì§€, í¬ì¦ˆë§Œ ë³€ê²½)âš ï¸ í•µì‹¬ ì›ì¹™: ì¸í’‹ ì´ë¯¸ì§€ì˜ ëª¨ë¸ ì°©ì¥ì„ ì™„ë²½íˆ ë™ì¼í•˜ê²Œ ìœ ì§€í•˜ê³ , í¬ì¦ˆë§Œ ë³€ê²½í•©ë‹ˆë‹¤.ğŸ”’ ì›ë³¸ ì°©ì¥ ì™„ì „ ë³´ì¡´ (CRITICAL - DO NOT MODIFY)\nìƒì˜/ì•„ìš°í„°: ì›ë³¸ê³¼ 100% ë™ì¼ (ìƒ‰ìƒ/í•/ì†Œì¬/ë²„íŠ¼/í¬ì¼“/ì§ˆê°/íŒ¨í„´/ì£¼ë¦„/ë””í…Œì¼)\ní•˜ì˜: ì›ë³¸ ì´ë¯¸ì§€ì˜ í•˜ì˜ ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¢…ë¥˜/ìƒ‰ìƒ/í•/ì†Œì¬ ë³€ê²½ ê¸ˆì§€)\nì‹ ë°œ: ì›ë³¸ ì´ë¯¸ì§€ì˜ ì‹ ë°œ ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¢…ë¥˜/ìƒ‰ìƒ/ìŠ¤íƒ€ì¼ ë³€ê²½ ê¸ˆì§€)\nê°€ë°©/ì•¡ì„¸ì„œë¦¬: ì›ë³¸ ì´ë¯¸ì§€ì— ìˆëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¶”ê°€/ì œê±°/ë³€ê²½ ê¸ˆì§€)\nì „ì²´ ì½”ë””: ì¸í’‹ ì´ë¯¸ì§€ì˜ ì°©ì¥ì„ 1pxë„ ë³€ê²½í•˜ì§€ ì•ŠìŒ\n\nâŒ ì ˆëŒ€ ê¸ˆì§€:\ní•˜ì˜ë¥¼ ë‹¤ë¥¸ ì¢…ë¥˜ë¡œ êµì²´\nì‹ ë°œì„ ë‹¤ë¥¸ ì¢…ë¥˜ë¡œ êµì²´\nê°€ë°©ì„ ì¶”ê°€/ì œê±°/ë³€ê²½\nì•¡ì„¸ì„œë¦¬ë¥¼ ì¶”ê°€/ì œê±°/ë³€ê²½\nì›ë³¸ì— ì—†ëŠ” ì•„ì´í…œ ì¶”ê°€\nì›ë³¸ì— ìˆëŠ” ì•„ì´í…œ ì œê±°\n\nIII. Leg-Elongation Rule (í•„ìˆ˜ ì ìš©)\n- ëª¨ë¸ì˜ ë‹¤ë¦¬ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ê¸¸ê³  ìŠ¬ë¦¼í•˜ê²Œ ì—°ì¶œ\n- ì‹ ì²´ê°€ ë¶€ìì—°ìŠ¤ëŸ½ì§€ ì•Šë„ë¡ í”„ë¡œ íŒ¨ì…˜ ì´¬ì˜ ë¹„ìœ¨ë¡œ ì¡°ì •\n- ìƒì˜/ì•„ìš°í„° ì‹¤ë£¨ì—£ì€ ë³€í˜• ê¸ˆì§€  \n- í•˜ì˜ ì‹¤ë£¨ì—£ ê·¸ëŒ€ë¡œ ìœ ì§€  \n- ë°œÂ·ë°”ë‹¥Â·ê·¸ë¦¼ì ìì—°ìŠ¤ëŸ¬ìš´ ë¹„ë¡€ ìœ ì§€\n\nIV. ì£¼ì˜ì‚¬í•­\n- ì›ë³¸ ìƒí’ˆ ë””í…Œì¼ 1pxë„ ë³€ê²½ ê¸ˆì§€\n- í…ìŠ¤íŠ¸/ë ˆì´ì•„ì›ƒ 100% ë™ì¼í•˜ê²Œ ìœ ì§€\n- ëª¨ë¸ì»·ë§Œ êµì²´\n- ìƒí’ˆ ì¬í˜„ ì •í™•ë„ ìµœìš°ì„ \n\n[í¬ì¦ˆ ì§€ì‹œì‚¬í•­]\nFull body shot.\nëª¨ë¸ì´ ìì—°ìŠ¤ëŸ½ê²Œ ê±¸ì–´ì˜¤ëŠ” ë“¯í•œ ì›Œí‚¹ í¬ì¦ˆë¥¼ ì·¨í•©ë‹ˆë‹¤.\ní•œ ë°œì€ ì•ìœ¼ë¡œ ë‚´ë”›ê³ , ë‹¤ë¥¸ ë°œì€ ë’¤ì—ì„œ ë”°ë¼ì˜¤ëŠ” ìì—°ìŠ¤ëŸ¬ìš´ ë³´í­.\níŒ”ì€ ê±¸ìŒì— ë”°ë¼ ì‚´ì§ í”ë“¤ë¦¬ëŠ” ë“¯í•œ í¸ì•ˆí•œ ë™ì‘.\nì‹œì„ ì€ ì•½ê°„ ì•„ë˜ìª½ì´ë‚˜ ì •ë©´ ê°€ê¹Œì´ ìœ ì§€.\nê³¼ì¥ë˜ì§€ ì•Šì€ ìì—°ìŠ¤ëŸ¬ìš´ ëŸ°ì›¨ì´ ìŠ¤íƒ€ì¼ ê±·ê¸° í¬ì¦ˆ.\nì „ì²´ì ìœ¼ë¡œ ë„ì‹œì ì´ê³  ìì‹ ê° ìˆëŠ” íŒ¨ì…˜ ì›Œí‚¹ ëŠë‚Œ.\nì‹¤ë£¨ì—£ì´ ííŠ¸ëŸ¬ì§€ì§€ ì•Šê³  ê¹”ë”í•˜ê²Œ ìœ ì§€ë˜ë„ë¡ ì²˜ë¦¬.\n`;\n\nreturn [\n  {\n    json: {\n      cleanedPrompt: JSON.stringify(prompt)\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -304,
        400
      ],
      "id": "2c7dd869-f758-429b-853d-592877202df5",
      "name": "make pure model-cut prompt 2"
    },
    {
      "parameters": {
        "jsCode": "const prompt = `\n[ì‹œìŠ¤í…œ ì—­í• ]\në‹¹ì‹ ì€ ì—„ê²©í•œ ê·œì •ì„ ë”°ë¥´ëŠ” ì „ë¬¸ íŒ¨ì…˜ ì´ì»¤ë¨¸ìŠ¤ ì—ë””í„°ì´ë©°, íŠ¹ì • ëª¨ë¸ì˜ ì¼ê´€ëœ ì™¸í˜•ì„ ìœ ì§€í•´ì•¼ í•˜ëŠ” ì„ë¬´ë¥¼ ë°›ì•˜ìŠµë‹ˆë‹¤.\n\nì„ë¬´:\nëª¨ë¸ì˜ í¬ì¦ˆë§Œ ì•„ë˜ ì§€ì‹œì‚¬í•­ì— ë”°ë¼ êµì²´ëœ ìƒˆë¡œìš´ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ì‹­ì‹œì˜¤.\n\n\nI. [ëª¨ë¸ í˜ë¥´ì†Œë‚˜ ì¹´ë“œ] â€“ ì¼ê´€ì„± ìœ ì§€ (Critical Model Consistency)\n- 20ëŒ€ í›„ë°˜~30ëŒ€ ì´ˆë°˜ ì„¸ë ¨ëœ í•œêµ­ ëª¨ë¸\n- ì–¼êµ´ ì „ì²´ ëª…í™•íˆ ë³´ì„, ì‹œí¬í•˜ê³  ë¬´ì‹¬í•œ í‘œì •\n- ì…ì²´ì  ì´ëª©êµ¬ë¹„\n- ì‹œì„ : ì •ë©´ ë˜ëŠ” ì•½ê°„ ë¹„ì¼œê°\n- ìì—°ìŠ¤ëŸ¬ìš´ ì§ˆê°ì˜ ì§§ì€ ë‹¨ë°œ~ë¯¸ë””ì—„ í—¤ì–´, ì§™ì€ ê°ˆìƒ‰\n- ë§¤íŠ¸í•˜ê³  ê±´ê°•í•œ ì¿¨í†¤ í”¼ë¶€, ìì—°ìŠ¤ëŸ¬ìš´ ë©”ì´í¬ì—…\n- ë¶„ìœ„ê¸°: ë„ì‹œì , ì „ë¬¸ì , í•˜ì´ì—”ë“œ í™”ë³´\n\nII. ì´ë¯¸ì§€ ìƒì„± ê·œì¹™ (ì›ë³¸ ì°©ì¥ 100% ìœ ì§€, í¬ì¦ˆë§Œ ë³€ê²½)âš ï¸ í•µì‹¬ ì›ì¹™: ì¸í’‹ ì´ë¯¸ì§€ì˜ ëª¨ë¸ ì°©ì¥ì„ ì™„ë²½íˆ ë™ì¼í•˜ê²Œ ìœ ì§€í•˜ê³ , í¬ì¦ˆë§Œ ë³€ê²½í•©ë‹ˆë‹¤.ğŸ”’ ì›ë³¸ ì°©ì¥ ì™„ì „ ë³´ì¡´ (CRITICAL - DO NOT MODIFY)\nìƒì˜/ì•„ìš°í„°: ì›ë³¸ê³¼ 100% ë™ì¼ (ìƒ‰ìƒ/í•/ì†Œì¬/ë²„íŠ¼/í¬ì¼“/ì§ˆê°/íŒ¨í„´/ì£¼ë¦„/ë””í…Œì¼)\ní•˜ì˜: ì›ë³¸ ì´ë¯¸ì§€ì˜ í•˜ì˜ ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¢…ë¥˜/ìƒ‰ìƒ/í•/ì†Œì¬ ë³€ê²½ ê¸ˆì§€)\nì‹ ë°œ: ì›ë³¸ ì´ë¯¸ì§€ì˜ ì‹ ë°œ ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¢…ë¥˜/ìƒ‰ìƒ/ìŠ¤íƒ€ì¼ ë³€ê²½ ê¸ˆì§€)\nê°€ë°©/ì•¡ì„¸ì„œë¦¬: ì›ë³¸ ì´ë¯¸ì§€ì— ìˆëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¶”ê°€/ì œê±°/ë³€ê²½ ê¸ˆì§€)\nì „ì²´ ì½”ë””: ì¸í’‹ ì´ë¯¸ì§€ì˜ ì°©ì¥ì„ 1pxë„ ë³€ê²½í•˜ì§€ ì•ŠìŒ\n\nâŒ ì ˆëŒ€ ê¸ˆì§€:\ní•˜ì˜ë¥¼ ë‹¤ë¥¸ ì¢…ë¥˜ë¡œ êµì²´\nì‹ ë°œì„ ë‹¤ë¥¸ ì¢…ë¥˜ë¡œ êµì²´\nê°€ë°©ì„ ì¶”ê°€/ì œê±°/ë³€ê²½\nì•¡ì„¸ì„œë¦¬ë¥¼ ì¶”ê°€/ì œê±°/ë³€ê²½\nì›ë³¸ì— ì—†ëŠ” ì•„ì´í…œ ì¶”ê°€\nì›ë³¸ì— ìˆëŠ” ì•„ì´í…œ ì œê±°\n\nIII. Leg-Elongation Rule (í•„ìˆ˜ ì ìš©)\n- ëª¨ë¸ì˜ ë‹¤ë¦¬ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ê¸¸ê³  ìŠ¬ë¦¼í•˜ê²Œ ì—°ì¶œ\n- ì‹ ì²´ê°€ ë¶€ìì—°ìŠ¤ëŸ½ì§€ ì•Šë„ë¡ í”„ë¡œ íŒ¨ì…˜ ì´¬ì˜ ë¹„ìœ¨ë¡œ ì¡°ì •\n- ìƒì˜/ì•„ìš°í„° ì‹¤ë£¨ì—£ì€ ë³€í˜• ê¸ˆì§€  \n- í•˜ì˜ ì‹¤ë£¨ì—£ ê·¸ëŒ€ë¡œ ìœ ì§€  \n- ë°œÂ·ë°”ë‹¥Â·ê·¸ë¦¼ì ìì—°ìŠ¤ëŸ¬ìš´ ë¹„ë¡€ ìœ ì§€\n\nIV. ì£¼ì˜ì‚¬í•­\n- ì›ë³¸ ìƒí’ˆ ë””í…Œì¼ 1pxë„ ë³€ê²½ ê¸ˆì§€\n- í…ìŠ¤íŠ¸/ë ˆì´ì•„ì›ƒ 100% ë™ì¼í•˜ê²Œ ìœ ì§€\n- ëª¨ë¸ì»·ë§Œ êµì²´\n- ìƒí’ˆ ì¬í˜„ ì •í™•ë„ ìµœìš°ì„ \n\n[í¬ì¦ˆ ì§€ì‹œì‚¬í•­]\nëª¨ë¸ì€ ì •ë©´ì„ ë³´ê³  ì„œ ìˆìœ¼ë©°,\në‘ ì†ì„ ëª¨ë‘ ë°”ì§€ ì£¼ë¨¸ë‹ˆì— ë„£ê³  ìˆìŠµë‹ˆë‹¤.\nì–´ê¹¨ëŠ” ì•„ì£¼ ì•½ê°„ ì•ìœ¼ë¡œ ê¸°ìš¸ì–´ì ¸ ìì—°ìŠ¤ëŸ¬ìš´ ë¬´ì‹¬í•œ ëŠë‚Œì„ ì¤ë‹ˆë‹¤.\nì‹œì„ ì€ ì •ë©´ì„ í–¥í•˜ë©°, ì‹œí¬í•˜ê³  í¸ì•ˆí•œ ìŠ¤íƒ ë”© í¬ì¦ˆì…ë‹ˆë‹¤.\nìƒí’ˆ ì‹¤ë£¨ì—£ê³¼ ì§ˆê°ì€ ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ì‹­ì‹œì˜¤.\n`;\n\nreturn [\n  {\n    json: {\n      cleanedPrompt: JSON.stringify(prompt)\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -304,
        576
      ],
      "id": "0a28a17e-8c1a-4e52-91e7-8a58eec335f1",
      "name": "make pure model-cut prompt 3"
    },
    {
      "parameters": {
        "jsCode": "const prompt = `\n[ì‹œìŠ¤í…œ ì—­í• ]\në‹¹ì‹ ì€ ì—„ê²©í•œ ê·œì •ì„ ë”°ë¥´ëŠ” ì „ë¬¸ íŒ¨ì…˜ ì´ì»¤ë¨¸ìŠ¤ ì—ë””í„°ì´ë©°, íŠ¹ì • ëª¨ë¸ì˜ ì¼ê´€ëœ ì™¸í˜•ì„ ìœ ì§€í•´ì•¼ í•˜ëŠ” ì„ë¬´ë¥¼ ë°›ì•˜ìŠµë‹ˆë‹¤.\n\nì„ë¬´:\në¨¸ë¦¬ëŠ” ì‚´ì§ ê¸°ìš¸ì–´ ìˆìœ¼ë©°, ì‹œì„ ì€ ì¹´ë©”ë¼ë¥¼ ë²—ì–´ë‚˜ ì˜†ì„ í–¥í•©ë‹ˆë‹¤.\n\n\nI. [ëª¨ë¸ í˜ë¥´ì†Œë‚˜ ì¹´ë“œ] â€“ ì¼ê´€ì„± ìœ ì§€ (Critical Model Consistency)\n- 20ëŒ€ í›„ë°˜~30ëŒ€ ì´ˆë°˜ ì„¸ë ¨ëœ í•œêµ­ ëª¨ë¸\n- ì–¼êµ´ ì „ì²´ ëª…í™•íˆ ë³´ì„, ì‹œí¬í•˜ê³  ë¬´ì‹¬í•œ í‘œì •\n- ì…ì²´ì  ì´ëª©êµ¬ë¹„\n- ì‹œì„ : ì •ë©´ ë˜ëŠ” ì•½ê°„ ë¹„ì¼œê°\n- ìì—°ìŠ¤ëŸ¬ìš´ ì§ˆê°ì˜ ì§§ì€ ë‹¨ë°œ~ë¯¸ë””ì—„ í—¤ì–´, ì§™ì€ ê°ˆìƒ‰\n- ë§¤íŠ¸í•˜ê³  ê±´ê°•í•œ ì¿¨í†¤ í”¼ë¶€, ìì—°ìŠ¤ëŸ¬ìš´ ë©”ì´í¬ì—…\n- ë¶„ìœ„ê¸°: ë„ì‹œì , ì „ë¬¸ì , í•˜ì´ì—”ë“œ í™”ë³´\n\nII. ì´ë¯¸ì§€ ìƒì„± ê·œì¹™ (ì›ë³¸ ì°©ì¥ 100% ìœ ì§€, í¬ì¦ˆë§Œ ë³€ê²½)âš ï¸ í•µì‹¬ ì›ì¹™: ì¸í’‹ ì´ë¯¸ì§€ì˜ ëª¨ë¸ ì°©ì¥ì„ ì™„ë²½íˆ ë™ì¼í•˜ê²Œ ìœ ì§€í•˜ê³ , í¬ì¦ˆë§Œ ë³€ê²½í•©ë‹ˆë‹¤.ğŸ”’ ì›ë³¸ ì°©ì¥ ì™„ì „ ë³´ì¡´ (CRITICAL - DO NOT MODIFY)\nìƒì˜/ì•„ìš°í„°: ì›ë³¸ê³¼ 100% ë™ì¼ (ìƒ‰ìƒ/í•/ì†Œì¬/ë²„íŠ¼/í¬ì¼“/ì§ˆê°/íŒ¨í„´/ì£¼ë¦„/ë””í…Œì¼)\ní•˜ì˜: ì›ë³¸ ì´ë¯¸ì§€ì˜ í•˜ì˜ ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¢…ë¥˜/ìƒ‰ìƒ/í•/ì†Œì¬ ë³€ê²½ ê¸ˆì§€)\nì‹ ë°œ: ì›ë³¸ ì´ë¯¸ì§€ì˜ ì‹ ë°œ ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¢…ë¥˜/ìƒ‰ìƒ/ìŠ¤íƒ€ì¼ ë³€ê²½ ê¸ˆì§€)\nê°€ë°©/ì•¡ì„¸ì„œë¦¬: ì›ë³¸ ì´ë¯¸ì§€ì— ìˆëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¶”ê°€/ì œê±°/ë³€ê²½ ê¸ˆì§€)\nì „ì²´ ì½”ë””: ì¸í’‹ ì´ë¯¸ì§€ì˜ ì°©ì¥ì„ 1pxë„ ë³€ê²½í•˜ì§€ ì•ŠìŒ\n\nâŒ ì ˆëŒ€ ê¸ˆì§€:\ní•˜ì˜ë¥¼ ë‹¤ë¥¸ ì¢…ë¥˜ë¡œ êµì²´\nì‹ ë°œì„ ë‹¤ë¥¸ ì¢…ë¥˜ë¡œ êµì²´\nê°€ë°©ì„ ì¶”ê°€/ì œê±°/ë³€ê²½\nì•¡ì„¸ì„œë¦¬ë¥¼ ì¶”ê°€/ì œê±°/ë³€ê²½\nì›ë³¸ì— ì—†ëŠ” ì•„ì´í…œ ì¶”ê°€\nì›ë³¸ì— ìˆëŠ” ì•„ì´í…œ ì œê±°\n\nIII. Leg-Elongation Rule (í•„ìˆ˜ ì ìš©)\n- ëª¨ë¸ì˜ ë‹¤ë¦¬ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ê¸¸ê³  ìŠ¬ë¦¼í•˜ê²Œ ì—°ì¶œ\n- ì‹ ì²´ê°€ ë¶€ìì—°ìŠ¤ëŸ½ì§€ ì•Šë„ë¡ í”„ë¡œ íŒ¨ì…˜ ì´¬ì˜ ë¹„ìœ¨ë¡œ ì¡°ì •\n- ìƒì˜/ì•„ìš°í„° ì‹¤ë£¨ì—£ì€ ë³€í˜• ê¸ˆì§€  \n- í•˜ì˜ ì‹¤ë£¨ì—£ ê·¸ëŒ€ë¡œ ìœ ì§€  \n- ë°œÂ·ë°”ë‹¥Â·ê·¸ë¦¼ì ìì—°ìŠ¤ëŸ¬ìš´ ë¹„ë¡€ ìœ ì§€\n\nIV. ì£¼ì˜ì‚¬í•­\n- ì›ë³¸ ìƒí’ˆ ë””í…Œì¼ 1pxë„ ë³€ê²½ ê¸ˆì§€\n- í…ìŠ¤íŠ¸/ë ˆì´ì•„ì›ƒ 100% ë™ì¼í•˜ê²Œ ìœ ì§€\n- ëª¨ë¸ì»·ë§Œ êµì²´\n- ìƒí’ˆ ì¬í˜„ ì •í™•ë„ ìµœìš°ì„ \n\n[í¬ì¦ˆ ì§€ì‹œì‚¬í•­]\nMedium shot(í—ˆë¦¬~ê°€ìŠ´ ìœ„ ì¤‘ì‹¬ êµ¬ë„).\nëª¨ë¸ì€ ì–‘íŒ”ì„ ê°€ìŠ´ ì•ì—ì„œ ë¶€ë“œëŸ½ê²Œ ê°ì‹¸ë“¯ì´ êµì°¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.\në¨¸ë¦¬ëŠ” ì‚´ì§ ê¸°ìš¸ì–´ ìˆìœ¼ë©°, ì‹œì„ ì€ ì¹´ë©”ë¼ë¥¼ ë²—ì–´ë‚˜ ì˜†ì„ í–¥í•©ë‹ˆë‹¤.\në¶€ë“œëŸ¬ìš´ ë°”ë”” ë­ê·€ì§€, íŒ¨ì…˜ í™”ë³´ ê°™ì€ ë¬´ì‹¬í•œ ë§¤ë ¥.\nìƒí’ˆ ìƒì˜ ë””í…Œì¼ì€ ì ˆëŒ€ ë³€í˜• ì—†ì´ 100% ì¬í˜„í•˜ì‹­ì‹œì˜¤.\n`;\n\nreturn [\n  {\n    json: {\n      cleanedPrompt: JSON.stringify(prompt)\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -304,
        752
      ],
      "id": "35e40afb-cc7e-48bf-a998-601ed399b50f",
      "name": "make pure model-cut prompt 4"
    },
    {
      "parameters": {
        "jsCode": "const prompt = `\n[ì‹œìŠ¤í…œ ì—­í• ]\në‹¹ì‹ ì€ ì—„ê²©í•œ ê·œì •ì„ ë”°ë¥´ëŠ” ì „ë¬¸ íŒ¨ì…˜ ì´ì»¤ë¨¸ìŠ¤ ì—ë””í„°ì´ë©°, íŠ¹ì • ëª¨ë¸ì˜ ì¼ê´€ëœ ì™¸í˜•ì„ ìœ ì§€í•´ì•¼ í•˜ëŠ” ì„ë¬´ë¥¼ ë°›ì•˜ìŠµë‹ˆë‹¤.\n\nì„ë¬´:\nëª¨ë¸ì˜ í¬ì¦ˆë§Œ ì•„ë˜ ì§€ì‹œì‚¬í•­ì— ë”°ë¼ êµì²´ëœ ìƒˆë¡œìš´ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ì‹­ì‹œì˜¤.\n\n\nI. [ëª¨ë¸ í˜ë¥´ì†Œë‚˜ ì¹´ë“œ] â€“ ì¼ê´€ì„± ìœ ì§€ (Critical Model Consistency)\n- 20ëŒ€ í›„ë°˜~30ëŒ€ ì´ˆë°˜ ì„¸ë ¨ëœ í•œêµ­ ëª¨ë¸\n- ì–¼êµ´ ì „ì²´ ëª…í™•íˆ ë³´ì„, ì‹œí¬í•˜ê³  ë¬´ì‹¬í•œ í‘œì •\n- ì…ì²´ì  ì´ëª©êµ¬ë¹„\n- ì‹œì„ : ì •ë©´ ë˜ëŠ” ì•½ê°„ ë¹„ì¼œê°\n- ìì—°ìŠ¤ëŸ¬ìš´ ì§ˆê°ì˜ ì§§ì€ ë‹¨ë°œ~ë¯¸ë””ì—„ í—¤ì–´, ì§™ì€ ê°ˆìƒ‰\n- ë§¤íŠ¸í•˜ê³  ê±´ê°•í•œ ì¿¨í†¤ í”¼ë¶€, ìì—°ìŠ¤ëŸ¬ìš´ ë©”ì´í¬ì—…\n- ë¶„ìœ„ê¸°: ë„ì‹œì , ì „ë¬¸ì , í•˜ì´ì—”ë“œ í™”ë³´\n\nII. ì´ë¯¸ì§€ ìƒì„± ê·œì¹™ (ì›ë³¸ ì°©ì¥ 100% ìœ ì§€, í¬ì¦ˆë§Œ ë³€ê²½)âš ï¸ í•µì‹¬ ì›ì¹™: ì¸í’‹ ì´ë¯¸ì§€ì˜ ëª¨ë¸ ì°©ì¥ì„ ì™„ë²½íˆ ë™ì¼í•˜ê²Œ ìœ ì§€í•˜ê³ , í¬ì¦ˆë§Œ ë³€ê²½í•©ë‹ˆë‹¤.ğŸ”’ ì›ë³¸ ì°©ì¥ ì™„ì „ ë³´ì¡´ (CRITICAL - DO NOT MODIFY)\nìƒì˜/ì•„ìš°í„°: ì›ë³¸ê³¼ 100% ë™ì¼ (ìƒ‰ìƒ/í•/ì†Œì¬/ë²„íŠ¼/í¬ì¼“/ì§ˆê°/íŒ¨í„´/ì£¼ë¦„/ë””í…Œì¼)\ní•˜ì˜: ì›ë³¸ ì´ë¯¸ì§€ì˜ í•˜ì˜ ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¢…ë¥˜/ìƒ‰ìƒ/í•/ì†Œì¬ ë³€ê²½ ê¸ˆì§€)\nì‹ ë°œ: ì›ë³¸ ì´ë¯¸ì§€ì˜ ì‹ ë°œ ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¢…ë¥˜/ìƒ‰ìƒ/ìŠ¤íƒ€ì¼ ë³€ê²½ ê¸ˆì§€)\nê°€ë°©/ì•¡ì„¸ì„œë¦¬: ì›ë³¸ ì´ë¯¸ì§€ì— ìˆëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¶”ê°€/ì œê±°/ë³€ê²½ ê¸ˆì§€)\nì „ì²´ ì½”ë””: ì¸í’‹ ì´ë¯¸ì§€ì˜ ì°©ì¥ì„ 1pxë„ ë³€ê²½í•˜ì§€ ì•ŠìŒ\n\nâŒ ì ˆëŒ€ ê¸ˆì§€:\ní•˜ì˜ë¥¼ ë‹¤ë¥¸ ì¢…ë¥˜ë¡œ êµì²´\nì‹ ë°œì„ ë‹¤ë¥¸ ì¢…ë¥˜ë¡œ êµì²´\nê°€ë°©ì„ ì¶”ê°€/ì œê±°/ë³€ê²½\nì•¡ì„¸ì„œë¦¬ë¥¼ ì¶”ê°€/ì œê±°/ë³€ê²½\nì›ë³¸ì— ì—†ëŠ” ì•„ì´í…œ ì¶”ê°€\nì›ë³¸ì— ìˆëŠ” ì•„ì´í…œ ì œê±°\n\nIII. Leg-Elongation Rule (í•„ìˆ˜ ì ìš©)\n- ëª¨ë¸ì˜ ë‹¤ë¦¬ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ê¸¸ê³  ìŠ¬ë¦¼í•˜ê²Œ ì—°ì¶œ\n- ì‹ ì²´ê°€ ë¶€ìì—°ìŠ¤ëŸ½ì§€ ì•Šë„ë¡ í”„ë¡œ íŒ¨ì…˜ ì´¬ì˜ ë¹„ìœ¨ë¡œ ì¡°ì •\n- ìƒì˜/ì•„ìš°í„° ì‹¤ë£¨ì—£ì€ ë³€í˜• ê¸ˆì§€  \n- í•˜ì˜ ì‹¤ë£¨ì—£ ê·¸ëŒ€ë¡œ ìœ ì§€  \n- ë°œÂ·ë°”ë‹¥Â·ê·¸ë¦¼ì ìì—°ìŠ¤ëŸ¬ìš´ ë¹„ë¡€ ìœ ì§€\n\nIV. ì£¼ì˜ì‚¬í•­\n- ì›ë³¸ ìƒí’ˆ ë””í…Œì¼ 1pxë„ ë³€ê²½ ê¸ˆì§€\n- í…ìŠ¤íŠ¸/ë ˆì´ì•„ì›ƒ 100% ë™ì¼í•˜ê²Œ ìœ ì§€\n- ëª¨ë¸ì»·ë§Œ êµì²´\n- ìƒí’ˆ ì¬í˜„ ì •í™•ë„ ìµœìš°ì„ \n\n[í¬ì¦ˆ ì§€ì‹œì‚¬í•­]\nFull body shot, ë¡œìš° ì•µê¸€ ëŠë‚Œ.\nëª¨ë¸ì€ ë‘ ì†ì„ ë°”ì§€ ì£¼ë¨¸ë‹ˆì— ë„£ê³  í¸ì•ˆíˆ ì„œ ìˆìŠµë‹ˆë‹¤.\në¨¸ë¦¬ëŠ” ì˜†ìœ¼ë¡œ ëŒë ¤ ì¸¡ë©´ í”„ë¡œí•„ ë¼ì¸ì´ ë³´ì´ë„ë¡ í•©ë‹ˆë‹¤.\nì‹œì„ ì€ ë©€ë¦¬ ë‹¤ë¥¸ ê³³ì„ ë°”ë¼ë´…ë‹ˆë‹¤.\ní•˜ì²´ ë¹„ìœ¨ì´ ê¸¸ê³  ìŠ¬ë¦¼í•˜ê²Œ ê°•ì¡°ëœ íŒ¨ì…˜ í™”ë³´ ìŠ¤íƒ€ì¼ë¡œ ì—°ì¶œí•˜ì‹­ì‹œì˜¤.\nìƒí’ˆì˜ í•ê³¼ ë””í…Œì¼ì€ ë³€í˜• ê¸ˆì§€.\n`;\n\nreturn [\n  {\n    json: {\n      cleanedPrompt: JSON.stringify(prompt)\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -304,
        912
      ],
      "id": "aa4d9eab-4fcb-43dc-9ef9-dbb9dbcb3d0f",
      "name": "make pure model-cut prompt 5"
    },
    {
      "parameters": {
        "jsCode": "const prompt = `\n[ì‹œìŠ¤í…œ ì—­í• ]\në‹¹ì‹ ì€ ì—„ê²©í•œ ê·œì •ì„ ë”°ë¥´ëŠ” ì „ë¬¸ íŒ¨ì…˜ ì´ì»¤ë¨¸ìŠ¤ ì—ë””í„°ì´ë©°, íŠ¹ì • ëª¨ë¸ì˜ ì¼ê´€ëœ ì™¸í˜•ì„ ìœ ì§€í•´ì•¼ í•˜ëŠ” ì„ë¬´ë¥¼ ë°›ì•˜ìŠµë‹ˆë‹¤.\n\nì„ë¬´:\nëª¨ë¸ì˜ í¬ì¦ˆë§Œ ì•„ë˜ ì§€ì‹œì‚¬í•­ì— ë”°ë¼ êµì²´ëœ ìƒˆë¡œìš´ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ì‹­ì‹œì˜¤.\n\n\nI. [ëª¨ë¸ í˜ë¥´ì†Œë‚˜ ì¹´ë“œ] â€“ ì¼ê´€ì„± ìœ ì§€ (Critical Model Consistency)\n- 20ëŒ€ í›„ë°˜~30ëŒ€ ì´ˆë°˜ ì„¸ë ¨ëœ í•œêµ­ ëª¨ë¸\n- ì–¼êµ´ ì „ì²´ ëª…í™•íˆ ë³´ì„, ì‹œí¬í•˜ê³  ë¬´ì‹¬í•œ í‘œì •\n- ì…ì²´ì  ì´ëª©êµ¬ë¹„\n- ì‹œì„ : ì •ë©´ ë˜ëŠ” ì•½ê°„ ë¹„ì¼œê°\n- ìì—°ìŠ¤ëŸ¬ìš´ ì§ˆê°ì˜ ì§§ì€ ë‹¨ë°œ~ë¯¸ë””ì—„ í—¤ì–´, ì§™ì€ ê°ˆìƒ‰\n- ë§¤íŠ¸í•˜ê³  ê±´ê°•í•œ ì¿¨í†¤ í”¼ë¶€, ìì—°ìŠ¤ëŸ¬ìš´ ë©”ì´í¬ì—…\n- ë¶„ìœ„ê¸°: ë„ì‹œì , ì „ë¬¸ì , í•˜ì´ì—”ë“œ í™”ë³´\n\nII. ì´ë¯¸ì§€ ìƒì„± ê·œì¹™ (ì›ë³¸ ì°©ì¥ 100% ìœ ì§€, í¬ì¦ˆë§Œ ë³€ê²½)âš ï¸ í•µì‹¬ ì›ì¹™: ì¸í’‹ ì´ë¯¸ì§€ì˜ ëª¨ë¸ ì°©ì¥ì„ ì™„ë²½íˆ ë™ì¼í•˜ê²Œ ìœ ì§€í•˜ê³ , í¬ì¦ˆë§Œ ë³€ê²½í•©ë‹ˆë‹¤.ğŸ”’ ì›ë³¸ ì°©ì¥ ì™„ì „ ë³´ì¡´ (CRITICAL - DO NOT MODIFY)\nìƒì˜/ì•„ìš°í„°: ì›ë³¸ê³¼ 100% ë™ì¼ (ìƒ‰ìƒ/í•/ì†Œì¬/ë²„íŠ¼/í¬ì¼“/ì§ˆê°/íŒ¨í„´/ì£¼ë¦„/ë””í…Œì¼)\ní•˜ì˜: ì›ë³¸ ì´ë¯¸ì§€ì˜ í•˜ì˜ ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¢…ë¥˜/ìƒ‰ìƒ/í•/ì†Œì¬ ë³€ê²½ ê¸ˆì§€)\nì‹ ë°œ: ì›ë³¸ ì´ë¯¸ì§€ì˜ ì‹ ë°œ ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¢…ë¥˜/ìƒ‰ìƒ/ìŠ¤íƒ€ì¼ ë³€ê²½ ê¸ˆì§€)\nê°€ë°©/ì•¡ì„¸ì„œë¦¬: ì›ë³¸ ì´ë¯¸ì§€ì— ìˆëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¶”ê°€/ì œê±°/ë³€ê²½ ê¸ˆì§€)\nì „ì²´ ì½”ë””: ì¸í’‹ ì´ë¯¸ì§€ì˜ ì°©ì¥ì„ 1pxë„ ë³€ê²½í•˜ì§€ ì•ŠìŒ\n\nâŒ ì ˆëŒ€ ê¸ˆì§€:\ní•˜ì˜ë¥¼ ë‹¤ë¥¸ ì¢…ë¥˜ë¡œ êµì²´\nì‹ ë°œì„ ë‹¤ë¥¸ ì¢…ë¥˜ë¡œ êµì²´\nê°€ë°©ì„ ì¶”ê°€/ì œê±°/ë³€ê²½\nì•¡ì„¸ì„œë¦¬ë¥¼ ì¶”ê°€/ì œê±°/ë³€ê²½\nì›ë³¸ì— ì—†ëŠ” ì•„ì´í…œ ì¶”ê°€\nì›ë³¸ì— ìˆëŠ” ì•„ì´í…œ ì œê±°\n\nIII. Leg-Elongation Rule (í•„ìˆ˜ ì ìš©)\n- ëª¨ë¸ì˜ ë‹¤ë¦¬ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ê¸¸ê³  ìŠ¬ë¦¼í•˜ê²Œ ì—°ì¶œ\n- ì‹ ì²´ê°€ ë¶€ìì—°ìŠ¤ëŸ½ì§€ ì•Šë„ë¡ í”„ë¡œ íŒ¨ì…˜ ì´¬ì˜ ë¹„ìœ¨ë¡œ ì¡°ì •\n- ìƒì˜/ì•„ìš°í„° ì‹¤ë£¨ì—£ì€ ë³€í˜• ê¸ˆì§€  \n- í•˜ì˜ ì‹¤ë£¨ì—£ ê·¸ëŒ€ë¡œ ìœ ì§€  \n- ë°œÂ·ë°”ë‹¥Â·ê·¸ë¦¼ì ìì—°ìŠ¤ëŸ¬ìš´ ë¹„ë¡€ ìœ ì§€\n\nIV. ì£¼ì˜ì‚¬í•­\n- ì›ë³¸ ìƒí’ˆ ë””í…Œì¼ 1pxë„ ë³€ê²½ ê¸ˆì§€\n- í…ìŠ¤íŠ¸/ë ˆì´ì•„ì›ƒ 100% ë™ì¼í•˜ê²Œ ìœ ì§€\n- ëª¨ë¸ì»·ë§Œ êµì²´\n- ìƒí’ˆ ì¬í˜„ ì •í™•ë„ ìµœìš°ì„ \n\n[í¬ì¦ˆ ì§€ì‹œì‚¬í•­]\nFull body shot.\nëª¨ë¸ì€ ì‹¬í”Œí•œ ë¸”ë¡ ë˜ëŠ” íë¸Œ ìœ„ì— ìì—°ìŠ¤ëŸ½ê²Œ ì•‰ì•„ ìˆìŠµë‹ˆë‹¤.\në‹¤ë¦¬ëŠ” í¸ì•ˆí•˜ê²Œ êµì°¨í•˜ê³ , ì‹œì„ ì€ ë¬´ë¦ì´ë‚˜ ì†ìª½ì„ ë³´ë©° ì•„ë˜ë¡œ í–¥í•©ë‹ˆë‹¤.\ní•œ ì†ì—ëŠ” ì‘ì€ ì˜¤ë¸Œì íŠ¸(ì˜ˆ: íœ´ëŒ€í° ë˜ëŠ” ì‘ì€ ì†Œí’ˆ)ë¥¼ ë“¤ê³  ìˆìŠµë‹ˆë‹¤.\nìì—°ìŠ¤ëŸ¬ìš´ ìºì£¼ì–¼ íŒ¨ì…˜ ì´¬ì˜ ëŠë‚Œìœ¼ë¡œ ì—°ì¶œí•˜ì‹­ì‹œì˜¤.\nìƒí’ˆ ì‹¤ë£¨ì—£ê³¼ ìƒ‰ìƒ, ì§ˆê°ì€ ì ˆëŒ€ ë³€ê²½í•˜ì§€ ë§ˆì‹­ì‹œì˜¤.\n`;\n\nreturn [\n  {\n    json: {\n      cleanedPrompt: JSON.stringify(prompt)\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -304,
        1072
      ],
      "id": "92552d0c-c0c5-4e22-a1e9-2686e9836e32",
      "name": "make pure model-cut prompt 6"
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "import base64\nfrom io import BytesIO\nfrom PIL import Image\n\n# ==========================================================\n# 1) base64 ì…ë ¥ ë°›ê¸°\n# ==========================================================\nbase64_input = _input.first().json.candidates[0].content.parts[0].inlineData.data\n\nif not base64_input:\n    raise Exception(\"base64 ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\")\n\nimage_data = base64.b64decode(base64_input)\n\n# ==========================================================\n# 2) ì´ë¯¸ì§€ ë¡œë“œ\n# ==========================================================\nimg = Image.open(BytesIO(image_data))\n\n# ==========================================================\n# 3) ë¹„ìœ¨ ìœ ì§€ + width 700px ë¦¬ì‚¬ì´ì¦ˆ\n# ==========================================================\ntarget_width = 700\nw, h = img.size\nratio = target_width / float(w)\ntarget_height = int(h * ratio)\n\nresized_img = img.resize((target_width, target_height), Image.LANCZOS)\n\n# ==========================================================\n# 4) ë‹¤ì‹œ base64ë¡œ ë³€í™˜\n# ==========================================================\nbuffered = BytesIO()\nresized_img.save(buffered, format=\"JPEG\")\noutput_base64 = base64.b64encode(buffered.getvalue()).decode(\"utf-8\")\n\n# ==========================================================\n# 5) n8n Output (ë°˜ë“œì‹œ list ë°˜í™˜)\n# ==========================================================\nreturn [\n    {\n        \"width\": target_width,\n        \"height\": target_height,\n        \"ModelImage_Base64\": output_base64\n    }\n]\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        48,
        240
      ],
      "id": "0b13a49b-5780-4946-baa6-38e32b596b9b",
      "name": "resize model-cut 1"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://generativelanguage.googleapis.com/v1beta/models/gemini-3-pro-image-preview:generateContent\n",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"contents\" : [{\n    \"parts\": [\n      {\n          \"text\": {{ $json.cleanedPrompt }}\n        },\n      {\n        \"inline_data\": {\n          \"mime_type\": \"image/jpeg\",\n          \"data\": \"{{ $('resize thumbnail').all()[0].json.ThumbnailImage_Base64 }}\"\n        }\n      }\n    ]\n  }],\n  \"generationConfig\": {\n    \"responseModalities\": [\"TEXT\", \"IMAGE\"],\n    \"imageConfig\": {\n      \"aspectRatio\": \"4:5\",\n      \"imageSize\": \"1K\"\n    }\n  } \n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        -128,
        400
      ],
      "id": "cc6cf365-cf79-41c6-be66-b2ceac7994a1",
      "name": "create model-cut 2",
      "retryOnFail": true,
      "waitBetweenTries": 5000,
      "credentials": {
        "httpHeaderAuth": {
          "id": "evcIz8tBtY6ypLqT",
          "name": "Soonicorn_GeminiAPI"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://generativelanguage.googleapis.com/v1beta/models/gemini-3-pro-image-preview:generateContent\n",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"contents\" : [{\n    \"parts\": [\n      {\n          \"text\": {{ $json.cleanedPrompt }}\n        },\n      {\n        \"inline_data\": {\n          \"mime_type\": \"image/jpeg\",\n          \"data\": \"{{ $('resize thumbnail').all()[0].json.ThumbnailImage_Base64 }}\"\n        }\n      }\n    ]\n  }],\n  \"generationConfig\": {\n    \"responseModalities\": [\"TEXT\", \"IMAGE\"],\n    \"imageConfig\": {\n      \"aspectRatio\": \"4:5\",\n      \"imageSize\": \"1K\"\n    }\n  } \n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        -128,
        576
      ],
      "id": "7bc23955-6772-4d88-8e9f-1daf6c7f0d92",
      "name": "create model-cut 3",
      "retryOnFail": true,
      "waitBetweenTries": 5000,
      "credentials": {
        "httpHeaderAuth": {
          "id": "evcIz8tBtY6ypLqT",
          "name": "Soonicorn_GeminiAPI"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://generativelanguage.googleapis.com/v1beta/models/gemini-3-pro-image-preview:generateContent\n",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"contents\" : [{\n    \"parts\": [\n      {\n          \"text\": {{ $json.cleanedPrompt }}\n        },\n      {\n        \"inline_data\": {\n          \"mime_type\": \"image/jpeg\",\n          \"data\": \"{{ $('resize thumbnail').all()[0].json.ThumbnailImage_Base64 }}\"\n        }\n      }\n    ]\n  }],\n  \"generationConfig\": {\n    \"responseModalities\": [\"TEXT\", \"IMAGE\"],\n    \"imageConfig\": {\n      \"aspectRatio\": \"4:5\",\n      \"imageSize\": \"1K\"\n    }\n  } \n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        -128,
        752
      ],
      "id": "c1251865-104f-46e4-9a39-3f2fd264a583",
      "name": "create model-cut 4",
      "retryOnFail": true,
      "waitBetweenTries": 5000,
      "credentials": {
        "httpHeaderAuth": {
          "id": "evcIz8tBtY6ypLqT",
          "name": "Soonicorn_GeminiAPI"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://generativelanguage.googleapis.com/v1beta/models/gemini-3-pro-image-preview:generateContent\n",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"contents\" : [{\n    \"parts\": [\n      {\n          \"text\": {{ $json.cleanedPrompt }}\n        },\n      {\n        \"inline_data\": {\n          \"mime_type\": \"image/jpeg\",\n          \"data\": \"{{ $('resize thumbnail').all()[0].json.ThumbnailImage_Base64 }}\"\n        }\n      }\n    ]\n  }],\n  \"generationConfig\": {\n    \"responseModalities\": [\"TEXT\", \"IMAGE\"],\n    \"imageConfig\": {\n      \"aspectRatio\": \"4:5\",\n      \"imageSize\": \"1K\"\n    }\n  } \n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        -128,
        912
      ],
      "id": "c289b076-905e-42b8-b425-2f918cbecefb",
      "name": "create model-cut 5",
      "retryOnFail": true,
      "waitBetweenTries": 5000,
      "credentials": {
        "httpHeaderAuth": {
          "id": "evcIz8tBtY6ypLqT",
          "name": "Soonicorn_GeminiAPI"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://generativelanguage.googleapis.com/v1beta/models/gemini-3-pro-image-preview:generateContent\n",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"contents\" : [{\n    \"parts\": [\n      {\n          \"text\": {{ $json.cleanedPrompt }}\n        },\n      {\n        \"inline_data\": {\n          \"mime_type\": \"image/jpeg\",\n          \"data\": \"{{ $('resize thumbnail').all()[0].json.ThumbnailImage_Base64 }}\"\n        }\n      }\n    ]\n  }],\n  \"generationConfig\": {\n    \"responseModalities\": [\"TEXT\", \"IMAGE\"],\n    \"imageConfig\": {\n      \"aspectRatio\": \"4:5\",\n      \"imageSize\": \"1K\"\n    }\n  } \n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        -128,
        1072
      ],
      "id": "07340df7-86f4-4a3c-a641-e3128a6b5f0d",
      "name": "create model-cut 6",
      "retryOnFail": true,
      "waitBetweenTries": 5000,
      "credentials": {
        "httpHeaderAuth": {
          "id": "evcIz8tBtY6ypLqT",
          "name": "Soonicorn_GeminiAPI"
        }
      }
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "import base64\nfrom io import BytesIO\nfrom PIL import Image\n\n# ==========================================================\n# 1) base64 ì…ë ¥ ë°›ê¸°\n# ==========================================================\nbase64_input = _input.first().json.candidates[0].content.parts[0].inlineData.data\n\nif not base64_input:\n    raise Exception(\"base64 ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\")\n\nimage_data = base64.b64decode(base64_input)\n\n# ==========================================================\n# 2) ì´ë¯¸ì§€ ë¡œë“œ\n# ==========================================================\nimg = Image.open(BytesIO(image_data))\n\n# ==========================================================\n# 3) ë¹„ìœ¨ ìœ ì§€ + width 700px ë¦¬ì‚¬ì´ì¦ˆ\n# ==========================================================\ntarget_width = 700\nw, h = img.size\nratio = target_width / float(w)\ntarget_height = int(h * ratio)\n\nresized_img = img.resize((target_width, target_height), Image.LANCZOS)\n\n# ==========================================================\n# 4) ë‹¤ì‹œ base64ë¡œ ë³€í™˜\n# ==========================================================\nbuffered = BytesIO()\nresized_img.save(buffered, format=\"JPEG\")\noutput_base64 = base64.b64encode(buffered.getvalue()).decode(\"utf-8\")\n\n# ==========================================================\n# 5) n8n Output (ë°˜ë“œì‹œ list ë°˜í™˜)\n# ==========================================================\nreturn [\n    {\n        \"width\": target_width,\n        \"height\": target_height,\n        \"ModelImage_Base64\": output_base64\n    }\n]\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        48,
        400
      ],
      "id": "90384b5f-5ebf-4d16-a876-4be066ec6d58",
      "name": "resize model-cut 2"
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "import base64\nfrom io import BytesIO\nfrom PIL import Image\n\n# ==========================================================\n# 1) base64 ì…ë ¥ ë°›ê¸°\n# ==========================================================\nbase64_input = _input.first().json.candidates[0].content.parts[0].inlineData.data\n\nif not base64_input:\n    raise Exception(\"base64 ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\")\n\nimage_data = base64.b64decode(base64_input)\n\n# ==========================================================\n# 2) ì´ë¯¸ì§€ ë¡œë“œ\n# ==========================================================\nimg = Image.open(BytesIO(image_data))\n\n# ==========================================================\n# 3) ë¹„ìœ¨ ìœ ì§€ + width 700px ë¦¬ì‚¬ì´ì¦ˆ\n# ==========================================================\ntarget_width = 700\nw, h = img.size\nratio = target_width / float(w)\ntarget_height = int(h * ratio)\n\nresized_img = img.resize((target_width, target_height), Image.LANCZOS)\n\n# ==========================================================\n# 4) ë‹¤ì‹œ base64ë¡œ ë³€í™˜\n# ==========================================================\nbuffered = BytesIO()\nresized_img.save(buffered, format=\"JPEG\")\noutput_base64 = base64.b64encode(buffered.getvalue()).decode(\"utf-8\")\n\n# ==========================================================\n# 5) n8n Output (ë°˜ë“œì‹œ list ë°˜í™˜)\n# ==========================================================\nreturn [\n    {\n        \"width\": target_width,\n        \"height\": target_height,\n        \"ModelImage_Base64\": output_base64\n    }\n]\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        48,
        576
      ],
      "id": "a0b741a1-dc9a-4ced-a8a9-f36ad09b123e",
      "name": "resize model-cut 3"
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "import base64\nfrom io import BytesIO\nfrom PIL import Image\n\n# ==========================================================\n# 1) base64 ì…ë ¥ ë°›ê¸°\n# ==========================================================\nbase64_input = _input.first().json.candidates[0].content.parts[0].inlineData.data\n\nif not base64_input:\n    raise Exception(\"base64 ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\")\n\nimage_data = base64.b64decode(base64_input)\n\n# ==========================================================\n# 2) ì´ë¯¸ì§€ ë¡œë“œ\n# ==========================================================\nimg = Image.open(BytesIO(image_data))\n\n# ==========================================================\n# 3) ë¹„ìœ¨ ìœ ì§€ + width 700px ë¦¬ì‚¬ì´ì¦ˆ\n# ==========================================================\ntarget_width = 700\nw, h = img.size\nratio = target_width / float(w)\ntarget_height = int(h * ratio)\n\nresized_img = img.resize((target_width, target_height), Image.LANCZOS)\n\n# ==========================================================\n# 4) ë‹¤ì‹œ base64ë¡œ ë³€í™˜\n# ==========================================================\nbuffered = BytesIO()\nresized_img.save(buffered, format=\"JPEG\")\noutput_base64 = base64.b64encode(buffered.getvalue()).decode(\"utf-8\")\n\n# ==========================================================\n# 5) n8n Output (ë°˜ë“œì‹œ list ë°˜í™˜)\n# ==========================================================\nreturn [\n    {\n        \"width\": target_width,\n        \"height\": target_height,\n        \"ModelImage_Base64\": output_base64\n    }\n]\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        48,
        752
      ],
      "id": "791a9c6a-6ab4-434e-8933-c06bd687b63b",
      "name": "resize model-cut 4"
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "import base64\nfrom io import BytesIO\nfrom PIL import Image\n\n# ==========================================================\n# 1) base64 ì…ë ¥ ë°›ê¸°\n# ==========================================================\nbase64_input = _input.first().json.candidates[0].content.parts[0].inlineData.data\n\nif not base64_input:\n    raise Exception(\"base64 ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\")\n\nimage_data = base64.b64decode(base64_input)\n\n# ==========================================================\n# 2) ì´ë¯¸ì§€ ë¡œë“œ\n# ==========================================================\nimg = Image.open(BytesIO(image_data))\n\n# ==========================================================\n# 3) ë¹„ìœ¨ ìœ ì§€ + width 700px ë¦¬ì‚¬ì´ì¦ˆ\n# ==========================================================\ntarget_width = 700\nw, h = img.size\nratio = target_width / float(w)\ntarget_height = int(h * ratio)\n\nresized_img = img.resize((target_width, target_height), Image.LANCZOS)\n\n# ==========================================================\n# 4) ë‹¤ì‹œ base64ë¡œ ë³€í™˜\n# ==========================================================\nbuffered = BytesIO()\nresized_img.save(buffered, format=\"JPEG\")\noutput_base64 = base64.b64encode(buffered.getvalue()).decode(\"utf-8\")\n\n# ==========================================================\n# 5) n8n Output (ë°˜ë“œì‹œ list ë°˜í™˜)\n# ==========================================================\nreturn [\n    {\n        \"width\": target_width,\n        \"height\": target_height,\n        \"ModelImage_Base64\": output_base64\n    }\n]\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        48,
        912
      ],
      "id": "1ecb2d7b-c2de-46c8-bd7d-85fc6c27892a",
      "name": "resize model-cut 5"
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "import base64\nfrom io import BytesIO\nfrom PIL import Image\n\n# ==========================================================\n# 1) base64 ì…ë ¥ ë°›ê¸°\n# ==========================================================\nbase64_input = _input.first().json.candidates[0].content.parts[0].inlineData.data\n\nif not base64_input:\n    raise Exception(\"base64 ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\")\n\nimage_data = base64.b64decode(base64_input)\n\n# ==========================================================\n# 2) ì´ë¯¸ì§€ ë¡œë“œ\n# ==========================================================\nimg = Image.open(BytesIO(image_data))\n\n# ==========================================================\n# 3) ë¹„ìœ¨ ìœ ì§€ + width 700px ë¦¬ì‚¬ì´ì¦ˆ\n# ==========================================================\ntarget_width = 700\nw, h = img.size\nratio = target_width / float(w)\ntarget_height = int(h * ratio)\n\nresized_img = img.resize((target_width, target_height), Image.LANCZOS)\n\n# ==========================================================\n# 4) ë‹¤ì‹œ base64ë¡œ ë³€í™˜\n# ==========================================================\nbuffered = BytesIO()\nresized_img.save(buffered, format=\"JPEG\")\noutput_base64 = base64.b64encode(buffered.getvalue()).decode(\"utf-8\")\n\n# ==========================================================\n# 5) n8n Output (ë°˜ë“œì‹œ list ë°˜í™˜)\n# ==========================================================\nreturn [\n    {\n        \"width\": target_width,\n        \"height\": target_height,\n        \"ModelImage_Base64\": output_base64\n    }\n]\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        48,
        1072
      ],
      "id": "566ef2d5-4bb7-4e9f-a3c1-a95a9efa40ae",
      "name": "resize model-cut 6"
    },
    {
      "parameters": {
        "numberInputs": 6
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        480,
        656
      ],
      "id": "5fe2dc7e-55dc-46cb-a66a-176e19316df3",
      "name": "Merge"
    },
    {
      "parameters": {
        "jsCode": "// ëª¨ë“  input items ê°€ì ¸ì˜¤ê¸°\nconst items = $input.all();\n\n// Base64 ì›ë³¸ ëª¨ì•„ì„œ ì €ì¥í•  ë°°ì—´\nlet rawList = [];\n\nfor (const item of items) {\n  const value = item.json.ModelImage_Base64;\n\n  if (!value) continue;\n\n  // 1) ë°°ì—´ì¸ ê²½ìš°\n  if (Array.isArray(value)) {\n    rawList.push(...value);\n  } \n  // 2) ë¬¸ìì—´ì¸ ê²½ìš°\n  else if (typeof value === \"string\") {\n    rawList.push(value);\n  }\n}\n\n// base64ë§Œ ì¶”ì¶œ\nconst base64List = rawList\n  .map(str => {\n    if (!str) return null;\n\n    // data URLì¸ì§€ í™•ì¸\n    const parts = str.split(\",\");\n    return parts[1] ? parts[1] : parts[0];\n  })\n  .filter(b => b);\n\n// \"ê°’\", \"ê°’\", \"ê°’\" í˜•íƒœë¡œ ë³€í™˜\nconst result = base64List.map(b => `\"${b}\"`).join(\", \");\n\nreturn [\n  {\n    json: {\n      ModelImage_Base64: result\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        704,
        720
      ],
      "id": "5b0adb76-0974-4bc5-8521-015e33a00af6",
      "name": "merge model-cut images"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=ë‹¹ì‹ ì€ ì „ë¬¸ ì˜ë¥˜ ì „ì²˜ë¦¬ í’ˆì§ˆê²€ì‚¬ AI ì—ì´ì „íŠ¸ì…ë‹ˆë‹¤.\nì…ë ¥ëœ ì œí’ˆ ì´ë¯¸ì§€ê°€ CUTOUT(ì˜ë¥˜ë§Œ ë¶„ë¦¬) ì‘ì—…ì„ ìˆ˜í–‰í•˜ê¸°ì— ì í•©í•œì§€ë¥¼ íŒë‹¨í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.\nì–´ë–¤ ì´ë¯¸ì§€ë“  ì§ì ‘ ìƒì„±í•˜ê±°ë‚˜ ìˆ˜ì •í•˜ì§€ ì•Šìœ¼ë©°, ì˜¤ì§ â€œë¶„ì„/íŒë‹¨â€ë§Œ ìˆ˜í–‰í•©ë‹ˆë‹¤.\n\nğŸ¯ [AIì˜ í•µì‹¬ ì„ë¬´]\n\nì…ë ¥ëœ ì´ë¯¸ì§€ë¥¼ ë³´ê³  ì•„ë˜ í•­ëª©ì„ ì •í™•í•˜ê²Œ í‰ê°€í•˜ì‹œì˜¤:\n\n1) ì˜ë¥˜ê°€ ì •ë©´ì„ í–¥í•˜ê³  ìˆëŠ”ê°€?\n\n2) ì˜ë¥˜ ì „ì²´ê°€ í”„ë ˆì„ ì•ˆì— ì˜¨ì „íˆ í¬í•¨ë˜ì–´ ìˆëŠ”ê°€?\n   - ì¼ë¶€ê°€ ì˜ë ¤ ìˆë‹¤ë©´ ì‹¤íŒ¨ë¡œ íŒë‹¨\n\n3) ì‹¬í•œ ê·¸ë¦¼ì, ì–´ë‘ìš´ ì˜ì—­, ë°°ê²½ ë³µì¡ë„ ë“± CUTOUT ì •í™•ë„ë¥¼ ë°©í•´í•˜ëŠ” ìš”ì†ŒëŠ” ì—†ëŠ”ê°€?\n\n4) ìƒ‰ìƒ ì™œê³¡ ê°€ëŠ¥ì„±ì´ ìˆëŠ” ì¡°ëª…(ê°•í•œ ì—­ê´‘/ì»¬ëŸ¬ì¡°ëª…)ì´ ì¡´ì¬í•˜ëŠ”ê°€?\n\n5) ì „ì²´ì ìœ¼ë¡œ CUTOUTì´ â€œì •í™•í•˜ê²Œ ìƒì„±ë  ê°€ëŠ¥ì„±â€ì„ High / Medium / Low ë¡œ í‰ê°€í•˜ì‹œì˜¤.\n\n   ğŸ“Œ *white_background = true ì¡°ê±´ (ì•„ì£¼ ì—„ê²©í•¨)*  \n   ë‹¤ìŒ ì¡°ê±´ì„ ëª¨ë‘ ì¶©ì¡±í•´ì•¼ `\"is_white_background\": true` ë¡œ íŒì •í•œë‹¤:\n\n   - ë°°ê²½ì´ ë‹¨ìƒ‰ í°ìƒ‰ ë˜ëŠ” íšŒìƒ‰ê°™ì€ ë‹¨ìƒ‰ì´ì–´ì•¼ í•œë‹¤.  \n   - ë°°ê²½ì— **ì‚¬ëŒ, ì‹ ì²´ ì¼ë¶€(ë¨¸ë¦¬, ì–¼êµ´, íŒ”, ì†, ë‹¤ë¦¬), ë¨¸ë¦¬ì¹´ë½, ê·¸ë¦¼ì ì‹¤ë£¨ì—£, ê°€êµ¬, ì†Œí’ˆ, ì•…ì„¸ì„œë¦¬, ì¥ì‹ë¬¼ ë“± ë‹¨ í•˜ë‚˜ë¼ë„ ì¡´ì¬í•˜ë©´ false**  \n   - ë°°ê²½ì— **íŒ¨í„´, í…ìŠ¤ì²˜, ê·¸ë¼ë°ì´ì…˜, ìƒ‰ ë²ˆì§, ë…¸ì´ì¦ˆ, ê·¸ë¦¼ì ì–¼ë£©** ë“±ì´ ë³´ì´ë©´ false  \n   - **ì œí’ˆ ì™¸ ê°ì²´ê°€ í”„ë ˆì„ ì•ˆì— ì¡´ì¬í•˜ë©´ ë¬´ì¡°ê±´ false**  \n   - ì˜ë¥˜ ìì²´ì˜ ìì—° ê·¸ë¦¼ì(ë°‘ë‹¨ ì•„ë˜ ì•½í•œ íšŒìƒ‰ ê·¸ë¦¼ì)ëŠ” í—ˆìš©  \n   - ë‹¨ìˆœ í° ë°°ê²½ + ì˜¤ì§ ì œí’ˆ í•˜ë‚˜ë§Œ ìˆëŠ” êµ¬ì„±ì¼ ë•Œë§Œ true  \n   - ì¦‰, \"ìŠ¤íŠœë””ì˜¤ ëˆ„ë¼ìƒ·\"ì²˜ëŸ¼ **ì‚¬ëŒ ì—†ì´ ìˆœìˆ˜ ì œí’ˆë§Œ ì´¬ì˜ëœ ì´ë¯¸ì§€**ì—¬ì•¼ í•œë‹¤.\n\n   ìœ„ ì¡°ê±´ ì¤‘ í•˜ë‚˜ë¼ë„ ë¶ˆì¶©ì¡±í•˜ë©´ `\"is_white_background\": false` ë¡œ íŒì •í•œë‹¤.\n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nğŸ“Œ [ì •ë©´ ê¸°ì¤€ íŒë‹¨ ê·œì¹™]\n\në‹¤ìŒ ì¡°ê±´ì„ ì¶©ì¡±í•˜ë©´ â€œì •ë©´â€ìœ¼ë¡œ ê°„ì£¼:\n- ì˜ë¥˜ ì¤‘ì‹¬ì„ (ì§€í¼, ë²„íŠ¼ ë¼ì¸)ì´ ìˆ˜ì§ì— ê°€ê¹ë‹¤\n- ì¢Œìš° ì†Œë§¤ ê¸¸ì´ê°€ í¬ê²Œ ë‹¤ë¥´ì§€ ì•Šë‹¤\n- ì–´ê¹¨ ë¼ì¸ì´ ë¹„ëŒ€ì¹­ìœ¼ë¡œ ê¸°ìš¸ì§€ ì•Šì•˜ë‹¤\n- ëª¸í†µì´ ë¹„í‹€ë¦¬ê±°ë‚˜ ê³¼í•˜ê²Œ íšŒì „í•˜ì§€ ì•Šì•˜ë‹¤\n- ì œí’ˆ ê°ë„(ì¹˜ìš°ì¹¨, ì˜†ëª¨ìŠµ)ê°€ ì‹¬í•˜ì§€ ì•Šë‹¤\n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nğŸ“Œ [CUTOUT ê°€ëŠ¥ì„± íŒë‹¨ ê¸°ì¤€]\n\në‹¤ìŒ ìš”ì†Œê°€ í•˜ë‚˜ë¼ë„ ì‹¬ê°í•˜ë©´ CUTOUT ê°€ëŠ¥ì„± Low:\n- ì¸ì²´ ì‹¤ë£¨ì—£ì´ ì˜ë¥˜ í˜•íƒœë¥¼ ê°€ë¦¼\n- ë°°ê²½ê³¼ ì˜ë¥˜ ìƒ‰ìƒì´ ë¹„ìŠ·í•´ ê²½ê³„ê°€ íë¦¼\n- ë†’ì€ ì¡ìŒ, ì €í•´ìƒë„, í”ë“¤ë¦¼, ë¸”ëŸ¬\n- ì˜ë¥˜ ì¼ë¶€ê°€ í”„ë ˆì„ ë°–ìœ¼ë¡œ ë‚˜ê°\n- ë¨¸ë¦¬ì¹´ë½/ì†/íŒ” ë“± ì‹ ì²´ê°€ ì˜ë¥˜ë¥¼ ê°€ë¦¼\n- ê°•í•œ ê·¸ë¦¼ì/ë°˜ì‚¬ë¡œ ê²½ê³„ ì¸ì‹ì´ ì–´ë ¤ì›€\n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nğŸ“Œ [AI ì¶œë ¥ í˜•ì‹ â€” ë°˜ë“œì‹œ ì•„ë˜ í˜•ì‹ìœ¼ë¡œë§Œ ë°˜í™˜]\n\n{\n  \"is_front_facing\": true/false,\n  \"clothing_fully_visible\": true/false,\n  \"is_white_background\": true/false,\n  \"cutout_quality\": \"High\" | \"Medium\" | \"Low\",\n  \"reason\": \"íŒë‹¨ ê·¼ê±°ë¥¼ ê°„ë‹¨íˆ ê¸°ìˆ \"\n}\n",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        1648,
        1376
      ],
      "id": "0881f72b-a66f-4462-b632-a4c26a095d10",
      "name": "AI Agent4"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        1648,
        1584
      ],
      "id": "11647560-7749-498d-80b2-55f97ce7cc1c",
      "name": "Google Gemini Chat Model4",
      "credentials": {
        "googlePalmApi": {
          "id": "e7t27ilShPQLOWu7",
          "name": "Google Geminie Soonicron API"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "1"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        1744,
        1584
      ],
      "id": "fc40ae99-35e4-4b48-964f-2c24e3a343db",
      "name": "Simple Memory4"
    },
    {
      "parameters": {
        "jsCode": "const mainImageUrls = $('get images API').all()[0].json.data.mainImagesBase64 || [];\n\nreturn mainImageUrls.map((mainRaw) => {\n\n  // \"data:image/...,\" ì œê±°\n  const mainPure = mainRaw.split(',')[1] || mainRaw;\n\n  return {\n    json: {\n      mainImageBase64: mainPure\n    }\n  };\n});\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1248,
        1376
      ],
      "id": "ca5253ae-ede8-47d4-85ec-9a0bb362aa06",
      "name": "make pure mainImages base64"
    },
    {
      "parameters": {
        "operation": "toBinary",
        "sourceProperty": "mainImageBase64",
        "binaryPropertyName": "Image",
        "options": {}
      },
      "type": "n8n-nodes-base.convertToFile",
      "typeVersion": 1.1,
      "position": [
        1456,
        1376
      ],
      "id": "e8de9b8e-3aec-4f04-8c9d-30ce8f0f0d00",
      "name": "convert imageFIle"
    },
    {
      "parameters": {
        "jsCode": "const items = $input.all();\n\n// ê° ì•„ì´í…œì„ ê°œë³„ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ì—¬ ê²°ê³¼ ì•„ì´í…œ ë°°ì—´ ìƒì„±\nconst results = items.map(i => {\n  const raw = i.json.output;\n\n  // ```json ``` ë¸”ë¡ ì œê±°\n  const cleaned = String(raw ?? \"\")\n    .replace(/```json/g, \"\")\n    .replace(/```/g, \"\")\n    .trim();\n\n  // JSON íŒŒì‹±\n  let parsed;\n  try {\n    parsed = JSON.parse(cleaned);\n  } catch (e) {\n    parsed = { error: \"JSON parsing failed\", raw: cleaned };\n  }\n\n  // ê°œë³„ ì•„ì´í…œìœ¼ë¡œ ë°˜í™˜\n  return {\n    json: parsed\n  };\n});\n\nreturn results;\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1968,
        1376
      ],
      "id": "11ca613f-54f0-46c0-b74e-576d84e2fbe2",
      "name": "JSON parsing"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "4126ad34-525e-4e3b-9a38-6e24bf2a171c",
              "leftValue": "={{ $json.is_white_background}}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        2160,
        1376
      ],
      "id": "27af519c-cf98-4be5-8bef-126161ccf345",
      "name": "is background-removed image?"
    },
    {
      "parameters": {
        "jsCode": "// ëª¨ë“  input items ê°€ì ¸ì˜¤ê¸°\nconst items = $('get images API').all();\n\n\n// backgroundRemovedImagesBase64 ë°°ì—´ ëª¨ë‘ ëª¨ìœ¼ê¸°\n// ì˜ˆ: item.json.backgroundRemovedImagesBase64 = [\"data:image...\",\"data:image...\"]\nlet rawList = [];\n\nfor (const item of items) {\n  const arr = item.json.data.mainImagesBase64;\n  if (Array.isArray(arr)) {\n    rawList.push(...arr); // ë°°ì—´ í¼ì³ì„œ ì¶”ê°€\n  }\n}\n\n// base64ë§Œ ì¶”ì¶œí•˜ê³ , undefined/null/ë¹ˆ ë¬¸ìì—´ ì œì™¸\nconst base64List = rawList\n  .map(str => {\n    if (!str) return null;\n\n    // \"data:image/jpeg;base64,XXXX\" â†’ \"XXXX\"ë§Œ ì¶”ì¶œ\n    const parts = str.split(\",\");\n    return parts[1] ? parts[1] : parts[0]; \n  })\n  .filter(b => b); // falsy ì œê±°\n\n// ê²°ê³¼ë¥¼ \"ê°’\", \"ê°’\", \"ê°’\" í˜•íƒœë¡œ ì¶œë ¥ (ë§ˆì§€ë§‰ ì½¤ë§ˆ ì—†ìŒ)\nconst result = base64List\n  .map(b => `\"${b}\"`)\n  .join(\", \"); \n\nreturn [\n  {\n    json: {\n      backgroundRemovedImagesBase64: result\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2624,
        1088
      ],
      "id": "ea67df58-18a7-4a4d-9d6e-1ae8a5d9d442",
      "name": "make postData1"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "41b3c35d-f2ab-49ce-a84a-d21d40e954bd",
              "leftValue": "={{ $('get images API').all()[0].json.data.mainImagesBase64.length }}",
              "rightValue": "={{ $input.all().length }}",
              "operator": {
                "type": "number",
                "operation": "equals"
              }
            },
            {
              "id": "66164562-f318-4543-ab8b-004a38bfd205",
              "leftValue": "",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        2368,
        1280
      ],
      "id": "a0a91913-0d8a-4867-9e80-1e9c38070c0c",
      "name": "check true items count"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "5f17c3e0-f3bc-47fa-98fa-a978f8c74fb7",
              "leftValue": "={{ $('get images API').all()[0].json.data.mainImagesBase64.length }}",
              "rightValue": "={{ $input.all().length }}",
              "operator": {
                "type": "number",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        2368,
        1472
      ],
      "id": "7659e780-88a3-471b-a377-3855683f5450",
      "name": "check false items count"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=http://{{ $('When Executed by Another Workflow').all()[0].json.IP }}/api/products/update-background-removed",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n    \"productNumber\": \"{{ $('When Executed by Another Workflow').all()[0].json.ProductID }}\",\n  \"backgroundRemovedImages\": [{{ $json.backgroundRemovedImagesBase64 }}]\n}\n\n\n",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        2800,
        1088
      ],
      "id": "3bd67751-e310-4949-8219-f47d9065f3db",
      "name": "post background-removed image"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "85adc80f-b990-4528-b94f-d338194f943d",
              "leftValue": "={{ $json.is_front_facing }}",
              "rightValue": true,
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            },
            {
              "id": "36f22d9d-2efb-44b8-9cba-5436c218b9d8",
              "leftValue": "={{ $json.clothing_fully_visible}}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        2688,
        1296
      ],
      "id": "8a7dc9b0-0c58-44d0-af8f-baddd82e0be0",
      "name": "can create background-removed images?"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "f35afcd9-47c3-41ce-9a3d-bdb33bd513ee",
              "leftValue": "={{ $('get images API').all()[0].json.data.mainImagesBase64.length }}",
              "rightValue": "={{ $input.all().length }}",
              "operator": {
                "type": "number",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        2976,
        1280
      ],
      "id": "16a044e8-7258-4e71-8eae-c246acf0ccd8",
      "name": "check true items count 1"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "f35afcd9-47c3-41ce-9a3d-bdb33bd513ee",
              "leftValue": "={{ $('get images API').all()[0].json.data.mainImagesBase64.length }}",
              "rightValue": "={{ $input.all().length }}",
              "operator": {
                "type": "number",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        2976,
        1520
      ],
      "id": "2e93fb58-64df-4f6d-a681-58f9ab16bdf3",
      "name": "check false items count 1"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "6cf78535-14a3-4ea7-be07-3ee533242fe2",
              "leftValue": "={{ $('get images API').all()[0].json.data.mainImagesBase64.length }}",
              "rightValue": 1,
              "operator": {
                "type": "number",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        3424,
        1264
      ],
      "id": "de0643a7-c7ee-4827-861c-47bed01c39fa",
      "name": "check mainImages count"
    },
    {
      "parameters": {
        "jsCode": "const prompt = `\n[ì‹œìŠ¤í…œ ì—­í• ]\në‹¹ì‹ ì€ íŒ¨ì…˜ ì œí’ˆ ìƒ‰ìƒ ë¹„êµì— íŠ¹í™”ëœ ì „ë¬¸ ë¹„ì „ ëª¨ë¸ì…ë‹ˆë‹¤.\nì…ë ¥ëœ ë‘ ì¥ì˜ ì´ë¯¸ì§€ë¥¼ ë¶„ì„í•˜ì—¬ ë‘ ì´ë¯¸ì§€ ì† ì œí’ˆì˜ â€˜ìƒ‰ìƒ(Color)â€™ì´ ë™ì¼í•œì§€ ì—¬ë¶€ë§Œì„ íŒë‹¨í•´ì•¼ í•©ë‹ˆë‹¤.\n\nğŸ“Œ íŒë‹¨ ê¸°ì¤€ (Color-Only Judgment Rules)\n\në‘ ì´ë¯¸ì§€ì˜ ì œí’ˆì´ ë‹¤ìŒ ì¡°ê±´ì„ ë§Œì¡±í•˜ë©´ \"same_color = true\",\ní•˜ë‚˜ë¼ë„ ë‹¤ë¥´ë©´ \"same_color = false\" ë¡œ íŒë‹¨í•©ë‹ˆë‹¤.\n\nâœ” ë™ì¼í•˜ë‹¤ê³  íŒë‹¨ë˜ëŠ” ê²½ìš°\n\nìƒ‰ìƒ(Hue), ëª…ë„(Brightness), ì±„ë„(Saturation)ê°€ ì´¬ì˜ í™˜ê²½ ì°¨ì´ë¡œ ì¸í•œ ë¯¸ì„¸í•œ ë³€í™” ìˆ˜ì¤€\n\nìì—°ìŠ¤ëŸ¬ìš´ ì¡°ëª… ë³€í™”(ì‹¤ë‚´/ì‹¤ì™¸, ë°ê¸° ì°¨ì´ ë“±)ë¡œ ì¸í•œ ì˜¤ì°¨\n\nê·¸ë¦¼ì, ë°˜ì‚¬ê´‘ìœ¼ë¡œ ì¸í•œ ë¶€ë¶„ì  ìƒ‰ ë³€í™”\n\nâŒ ë‹¤ë¥´ë‹¤ê³  íŒë‹¨ë˜ëŠ” ê²½ìš°\n\nì£¼ìš” ìƒ‰ìƒ ìì²´ê°€ ë‹¤ë¦„ (ì˜ˆ: ë² ì´ì§€ vs ë¸Œë¼ìš´, ê²€ì • vs ì°¨ì½œ ë“±)\n\nì „ì²´ì ìœ¼ë¡œ Hue ë˜ëŠ” Saturationì´ ë‹¤ë¥¸ ìƒ‰ ê³„ì—´\n\nì›ë‹¨ì´ ë™ì¼í•´ ë³´ì´ì§€ ì•Šì„ ì •ë„ì˜ ê°•í•œ ìƒ‰ì¡° ì°¨ì´\n\nAIê°€ ìë™ ë³´ì •í•œ ë“¯í•œ ìƒ‰ í‹€ì–´ì§\n\nğŸš« ë¹„êµ ëŒ€ìƒì—ì„œ ì œì™¸ë˜ëŠ” ìš”ì†Œ\n\nìƒ‰ìƒ íŒë‹¨ë§Œ ìˆ˜í–‰í•˜ë©° ë‹¤ìŒ ìš”ì†ŒëŠ” íŒë‹¨ì— í¬í•¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤:\n\nì‹¤ë£¨ì—£, í•, ê¸¸ì´, ë²„íŠ¼, í¬ì¼“, íŒ¨í„´ ë“± ë””ìì¸ ë³€í™”\n\nì´ë¯¸ì§€ í•´ìƒë„\n\nëª¨ë¸ ë˜ëŠ” ë°°ê²½ ì°¨ì´\n\nì „ì²´ ì‚¬ì§„ì˜ í†¤ ìŠ¤íƒ€ì¼\n\nğŸ“¤ ì¶œë ¥ í˜•ì‹ (ë°˜ë“œì‹œ ì•„ë˜ í˜•ì‹ìœ¼ë¡œë§Œ ì¶œë ¥)\n\nì•„ë˜ JSON í•˜ë‚˜ë§Œ ì¶œë ¥í•©ë‹ˆë‹¤:\n\n{\n  \"same_color\": true | false,\n  \"reason\": \"ì§§ê³  ëª…í™•í•œ ìƒ‰ìƒ íŒë‹¨ ê·¼ê±°\"\n}\n\n\nì¶œë ¥ ì™¸ ë‹¤ë¥¸ í…ìŠ¤íŠ¸ëŠ” ì ˆëŒ€ ìƒì„±í•˜ì§€ ë§ˆì‹­ì‹œì˜¤.\n`;\n\nreturn [\n  {\n    json: {\n      cleanedPrompt: JSON.stringify(prompt)\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3680,
        1280
      ],
      "id": "4b5ebc4b-9ceb-4938-8fa0-4d4002cb50d7",
      "name": "make pure color-judgment prompt"
    },
    {
      "parameters": {
        "jsCode": "const urls = $('get images API').all()[0].json.data.mainImagesBase64 || [];\nconst len = urls.length;\n\n// ì‚¬ìš©í•  ì¸ë±ìŠ¤ ê²°ì •\nlet idx1, idx2;\n\nif (len === 2) {\n  idx1 = 0;\n  idx2 = 1;\n} else if (len >= 3) {\n  idx1 = 1;\n  idx2 = 2;\n} else {\n  // ì´ë¯¸ì§€ê°€ 2ê°œ ë¯¸ë§Œì´ë©´ null ì²˜ë¦¬\n  return [\n    {\n      json: {\n        img1_base64: null,\n        img2_base64: null,\n        message: \"ì´ë¯¸ì§€ê°€ 2ê°œ ë¯¸ë§Œì…ë‹ˆë‹¤.\"\n      }\n    }\n  ];\n}\n\n// Base64 ìˆœìˆ˜ê°’ ì¶”ì¶œ í•¨ìˆ˜\nconst extract = (raw) => raw ? (raw.split(',')[1] || raw) : null;\n\nreturn [\n  {\n    json: {\n      img1_base64: extract(urls[idx1]),\n      img2_base64: extract(urls[idx2])\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3888,
        1280
      ],
      "id": "d74a7a7d-9c6c-4d32-ba1b-6bc120d6bd18",
      "name": "make pure mainImages base64 data"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"contents\" : [{\n    \"parts\": [\n      {\n          \"text\": {{ $('make pure color-judgment prompt').all()[0].json.cleanedPrompt }}\n        },\n      {\n        \"inline_data\": {\n          \"mime_type\": \"image/jpeg\",\n          \"data\": \"{{ $json.img1_base64 }}\"\n        }\n      },\n {\n        \"inline_data\": {\n          \"mime_type\": \"image/jpeg\",\n          \"data\": \"{{ $json.img2_base64 }}\"\n        }\n      }\n    ]\n  }],\n  \"generationConfig\": {\n    \"responseModalities\": [\"TEXT\"]\n  } \n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        4096,
        1280
      ],
      "id": "eaf24458-92d9-44a9-ae44-64e83520eff7",
      "name": "color-judgment",
      "retryOnFail": true,
      "waitBetweenTries": 5000,
      "credentials": {
        "httpHeaderAuth": {
          "id": "evcIz8tBtY6ypLqT",
          "name": "Soonicorn_GeminiAPI"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const res = $input.first().json;\n\n// text ì¶”ì¶œ\nlet raw = res.candidates?.[0]?.content?.parts?.[0]?.text ?? \"\";\n\n// ì½”ë“œë¸”ë¡ ì œê±°\nraw = raw.replace(/```json|```/g, \"\").trim();\n\n// JSON íŒŒì‹±\nlet parsed = null;\ntry {\n  parsed = JSON.parse(raw);\n} catch (e) {\n  parsed = { error: \"JSON íŒŒì‹± ì‹¤íŒ¨\", raw };\n}\n\nreturn [\n  {\n    json: parsed\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4304,
        1280
      ],
      "id": "8eec5994-9020-4272-86f3-0e4b58d640e6",
      "name": "JSON parsing1"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "6c5436a8-f43a-4c6c-95db-6ea953569747",
              "leftValue": "={{ $json.same_color }}",
              "rightValue": false,
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        4528,
        1280
      ],
      "id": "a637975e-ec15-4bcf-bfc4-4f3d4533c3bb",
      "name": "is same color?"
    },
    {
      "parameters": {
        "jsCode": "const urls = $('get images API').all()[0].json.data.mainImagesBase64;\n\nreturn urls.map((u, index) => {\n  const pureBase64 = u.split(',')[1] || u; // \"data:image/...,\" ì œê±°\n  return {\n    json: {\n      base64: pureBase64\n    }\n  };\n});\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4992,
        1296
      ],
      "id": "9038ff2f-50e9-4734-a938-17a82cf381fb",
      "name": "make pure mainImage base64 data"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=http://{{ $('When Executed by Another Workflow').all()[0].json.IP }}/api/products/update-background-removed",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n    \"productNumber\": \"{{ $('When Executed by Another Workflow').all()[0].json.ProductID }}\",\n  \"backgroundRemovedImages\": [\n{{ $json.CutoutImage_Base64 }}\n  ]\n}\n\n\n",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        5792,
        1296
      ],
      "id": "2f1c42f0-d129-46e8-b427-66cb92f5b783",
      "name": "post background-removed image1"
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "import base64\nfrom io import BytesIO\nfrom PIL import Image\n\noutputs = []\n\n# ==========================================================\n# 1) input ì „ì²´ ë°˜ë³µ ì²˜ë¦¬\n# ==========================================================\nfor item in _input.all():\n\n    # base64 ìœ„ì¹˜ ì¶”ì¶œ (ì—†ìœ¼ë©´ skip)\n    base64_input = item.json.get(\"candidates\", [])[0].get(\"content\", {}).get(\"parts\", [])[0].get(\"inlineData\", {}).get(\"data\")\n\n    if not base64_input:\n        outputs.append({\n            \"error\": \"base64 ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\",\n            \"original_item\": item.json\n        })\n        continue\n\n    # base64 decode\n    image_data = base64.b64decode(base64_input)\n\n    # ==========================================================\n    # 2) ì´ë¯¸ì§€ ë¡œë“œ\n    # ==========================================================\n    img = Image.open(BytesIO(image_data))\n\n    # ==========================================================\n    # 3) ë¹„ìœ¨ ìœ ì§€ + width 700px ë¦¬ì‚¬ì´ì¦ˆ\n    # ==========================================================\n    target_width = 700\n    w, h = img.size\n    ratio = target_width / float(w)\n    target_height = int(h * ratio)\n\n    resized_img = img.resize((target_width, target_height), Image.LANCZOS)\n\n    # ==========================================================\n    # 4) ë‹¤ì‹œ base64ë¡œ ë³€í™˜\n    # ==========================================================\n    buffered = BytesIO()\n    resized_img.save(buffered, format=\"JPEG\")\n    output_base64 = base64.b64encode(buffered.getvalue()).decode(\"utf-8\")\n\n    # ==========================================================\n    # 5) output ë°°ì—´ì— ì¶”ê°€\n    # ==========================================================\n    outputs.append({\n        \"width\": target_width,\n        \"height\": target_height,\n        \"CutoutImage_Base64\": output_base64\n    })\n\n# ==========================================================\n# 6) n8n Output (items list ë°˜í™˜)\n# ==========================================================\nreturn outputs\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        5376,
        1296
      ],
      "id": "01369471-0dd7-4600-a87a-cbe96fcc8df5",
      "name": "resize background-removed image"
    },
    {
      "parameters": {
        "jsCode": "// ëª¨ë“  input items\nconst items = $input.all();\n\n// base64ë§Œ ì¶”ì¶œí•˜ê³ , undefined/null/ë¹ˆ ë¬¸ìì—´ ì œì™¸\nconst base64List = items\n  .map(i => i.json.CutoutImage_Base64)\n  .filter(b => b); // falsy ê°’ ì œê±°(undefined, null, \"\", 0)\n\n// âœ¨ ë§ˆì§€ë§‰ ì½¤ë§ˆ ì œê±° ë²„ì „ âœ¨\n// ê° ê°’ ì•ë’¤ì— í°ë”°ì˜´í‘œë§Œ ì¶”ê°€í•˜ê³  join(\", \")ìœ¼ë¡œ ì—°ê²°\nconst result = base64List\n  .map(b => `\"${b}\"`)\n  .join(\", \"); // ìë™ìœ¼ë¡œ ë§ˆì§€ë§‰ ì½¤ë§ˆ ì œê±°ë¨\n\nreturn [\n  {\n    json: {\n      CutoutImage_Base64: result\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        5568,
        1296
      ],
      "id": "7eaf8566-86da-4c86-a93b-502dca78a9ba",
      "name": "sum background-removed image"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://generativelanguage.googleapis.com/v1beta/models/gemini-3-pro-image-preview:generateContent",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"contents\" : [{\n    \"parts\": [\n      {\n          \"text\": {{ $('make pure background-removed prompt').all()[0].json.cleanedPrompt }}\n        },\n      {\n        \"inline_data\": {\n          \"mime_type\": \"image/jpeg\",\n          \"data\": \"{{ $json.base64 }}\"\n        }\n      }\n    ]\n  }],\n  \"generationConfig\": {\n    \"responseModalities\": [\"TEXT\", \"IMAGE\"],\n    \"imageConfig\": {\n      \"aspectRatio\": \"4:5\",\n      \"imageSize\": \"1K\"\n    }\n  } \n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        5184,
        1296
      ],
      "id": "8726f6ed-6579-475e-8770-0d5b49e940e3",
      "name": "create background-removed image",
      "retryOnFail": true,
      "waitBetweenTries": 5000,
      "credentials": {
        "httpHeaderAuth": {
          "id": "evcIz8tBtY6ypLqT",
          "name": "Soonicorn_GeminiAPI"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const category = $('get images API').all()[0].json.data.category;\n\n\nconst prompt = `\nğŸ§  [ì‹œìŠ¤í…œ ì—­í• ] â€” Garment Extraction AI\n\në‹¹ì‹ ì˜ ì‘ì—…ì€ ì…ë ¥ ì´ë¯¸ì§€ì—ì„œ ** ${category} **ë¡œ ì§€ì •ëœ ì˜ë¥˜ë§Œ ì •í™•í•˜ê²Œ ì¸ì‹Â·ë¶„ë¦¬í•œ ë’¤,\nì‚¬ëŒÂ·ë°°ê²½Â·ì†Œí’ˆì„ 100% ì œê±°í•˜ê³ ,\nìˆœìˆ˜ í°ìƒ‰(#FFFFFF) ë°°ê²½ ìœ„ì— í•´ë‹¹ ì˜ë¥˜ë§Œ ë‹¨ë…ìœ¼ë¡œ ì¬êµ¬ì„±í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\nì…ë ¥ìœ¼ë¡œ ì œê³µë˜ëŠ” ìš”ì†Œ:\n\nì´ë¯¸ì§€\n\nì¹´í…Œê³ ë¦¬ (ì˜ˆ: ìƒì˜-ë‹ˆíŠ¸, í•˜ì˜-íŒ¬ì¸ , ì•„ìš°í„°-ì½”íŠ¸ ë“±)\n\në‹¹ì‹ ì€ ë¨¼ì € ì´ë¯¸ì§€ ì†ì—ì„œ ì¹´í…Œê³ ë¦¬ì— í•´ë‹¹í•˜ëŠ” ì˜ë¥˜ë¥¼ ì •í™•íˆ ì°¾ì•„ì•¼ í•˜ë©°,\ní•´ë‹¹ ì˜ë¥˜ë§Œì„ ëŒ€ìƒìœ¼ë¡œ ì•„ë˜ì˜ ëª¨ë“  ê·œì¹™ì„ ì ìš©í•˜ì—¬ ê²°ê³¼ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.\n\nğŸ“Œ 1. ì ˆëŒ€ ë³€ê²½ ê¸ˆì§€ ê·œì¹™ (CRITICAL â€“ ë°˜ë“œì‹œ ì§€í‚¬ ê²ƒ)\nğŸ¨ [ìƒ‰ìƒ ì •í™•ë„ â€“ ABSOLUTE COLOR PRESERVATION]\n\nìƒ‰ìƒì€ ë‹¨ 1%ë¼ë„ ë³€ê²½ë˜ë©´ ì•ˆ ë¨.\n\nì›ë³¸ ì˜ë¥˜ì˜ ìƒ‰ìƒ, ëª…ë„, ì±„ë„, í†¤, í…ìŠ¤ì²˜ ê·¸ëŒ€ë¡œ ìœ ì§€\n\ní™”ì´íŠ¸ë°¸ëŸ°ìŠ¤ ì¡°ì • ê¸ˆì§€\n\nëŒ€ë¹„/ì±„ë„/í†¤/ì»¤ë¸Œ ì¡°ì • ê¸ˆì§€\n\nì„ ëª…ë„Â·ì§ˆê° ë³´ì • ê¸ˆì§€\n\nâ€œë” ì˜ˆì˜ê²Œ/ë” ì„ ëª…í•˜ê²Œâ€ ê°™ì€ ê°œì„  ì‘ì—… ê¸ˆì§€\n\në„¤ì´ë¹„ëŠ” ë„¤ì´ë¹„ ê·¸ëŒ€ë¡œ, ë¯¸ì„¸í•œ í†¤ ë³€í™”ë„ í—ˆìš©ë˜ì§€ ì•ŠìŒ\n\nğŸ“Œ 2. ê¸¸ì´Â·ë¹„ìœ¨ ìœ ì§€ ê·œì¹™ (LENGTH & PROPORTION)\n\nì˜ë¥˜ì˜ ì‹¤ë£¨ì—£, ê¸¸ì´, í­, í˜•íƒœëŠ” ì ˆëŒ€ë¡œ ìˆ˜ì • ê¸ˆì§€.\n\nì´ì¥, ì–´ê¹¨ë„ˆë¹„, ì†Œë§¤ê¸¸ì´ ë“± ì›ë³¸ ê·¸ëŒ€ë¡œ\n\nëŠ˜ë¦¬ê¸°, ì¤„ì´ê¸°, ë¹„ìœ¨ ì¡°ì • ê¸ˆì§€\n\ní˜•íƒœ ë³´ì •Â·ë¼ì¸ ë³´ì • ê¸ˆì§€\n\në” ê¹”ë”í•˜ê±°ë‚˜ ê· í˜• ì¡íŒ ëª¨ìŠµìœ¼ë¡œ ì¬êµ¬ì„±í•˜ë ¤ëŠ” ì‹œë„ ê¸ˆì§€\n\nğŸ“Œ 3. ì›ë³¸ ì¶©ì‹¤ë„ ê·œì¹™ (FAITHFUL REPRODUCTION)\n\nì›ë³¸ì— ìˆëŠ” ë””í…Œì¼ì€ ëª¨ë‘ ë³´ì¡´\n\nì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë””í…Œì¼, ì£¼ë¦„, ìŠ¤í‹°ì¹˜ ë“±ì„ ìƒì„± ê¸ˆì§€\n\nì¸ì²´ ì°©ìš©ìœ¼ë¡œ ì¸í•´ ìƒê¸´ ë¶€ìì—°ìŠ¤ëŸ¬ìš´ ì£¼ë¦„ì€ ì œê±° ê°€ëŠ¥\n\nì˜ë¥˜ ê³ ìœ ì˜ ìì—°ìŠ¤ëŸ¬ìš´ ì£¼ë¦„Â·ì§ˆê°ì€ ìœ ì§€\n\nğŸ“Œ 4. ì œê±°í•´ì•¼ í•  ìš”ì†Œ (REMOVAL REQUIREMENTS)\n\në‹¤ìŒ ìš”ì†ŒëŠ” 100% ì œê±°:\n\nğŸ‘¤ ì‚¬ëŒ ê´€ë ¨ ìš”ì†Œ\n\nì–¼êµ´, íŒ”, ë‹¤ë¦¬, ì†, ë¨¸ë¦¬ì¹´ë½, í”¼ë¶€\n\nì¸ì²´ ì‹¤ë£¨ì—£ í”ì , ë³¼ë¥¨ê°\n\nì°©ìš©ìœ¼ë¡œ ë‚¨ëŠ” ëª¸ë§¤ ìœ¤ê³½\n\nğŸ’ ì•¡ì„¸ì„œë¦¬Â·ì†Œí’ˆ\n\nê°€ë°©, ì¥ì‹ êµ¬, ë¨¸í”ŒëŸ¬, ëª¨ì, ì‹œê³„ ë“±\n(ë‹¨, ì˜ë¥˜ ìì²´ êµ¬ì„± ìš”ì†ŒëŠ” ì œê±° ê¸ˆì§€)\n\nğŸ  ë°°ê²½\n\nì‹¤ë‚´/ì‹¤ì™¸ ë°°ê²½\n\në°”ë‹¥, ë²½, ë°˜ì‚¬, ê·¸ë¦¼ì\n\në°”ë‹¥ ê·¸ë¦¼ìë„ ê°€ëŠ¥í•œ ìµœì†Œí™” ë˜ëŠ” ì œê±°\n\nğŸ“Œ 5. ì¶œë ¥ ìŠ¤íƒ€ì¼ (GARMENT PRESENTATION)\nğŸ”„ ì •ë ¬ & ëŒ€ì¹­\n\nì¢Œìš° ì™„ë²½í•œ ëŒ€ì¹­\n\nì¹´ë©”ë¼ ì •ë©´ ê¸°ì¤€ ì •í™•í•œ ìˆ˜í‰Â·ìˆ˜ì§\n\nì¤‘ì‹¬ ì§€í¼/ë²„íŠ¼ â†’ ì™„ì „í•œ ìˆ˜ì§\n\nì–´ê¹¨ ë¼ì¸ â†’ ì •í™•íˆ ìˆ˜í‰\n\nì†Œë§¤ ê¸¸ì´Â·í­ ê· ì¼í•˜ê²Œ ì •ë ¬\n\nğŸ‘• í˜•íƒœ\n\ní”Œë«ë ˆì´(flat-lay) ë˜ëŠ” ê³ ìŠ¤íŠ¸ ë§ˆë„¤í‚¹ ìŠ¤íƒ€ì¼\n\nìì—°ìŠ¤ëŸ¬ìš´ í˜•íƒœ ìœ ì§€\n\nì••ì¶•Â·ë‚©ì‘í•¨ ê¸ˆì§€\n\nëª¨ë“  ì£¼ë¦„, ì§ˆê°, ìŠ¤í‹°ì¹˜, ë””í…Œì¼ ìµœëŒ€ ë³´ì¡´\n\nğŸ“Œ 6. ìµœì¢… ì¶œë ¥ ì¡°ê±´ (OUTPUT)\n\në°°ê²½: ì™„ì „í•œ í°ìƒ‰ #FFFFFF\n\nì¹´í…Œê³ ë¦¬ì— í•´ë‹¹í•˜ëŠ” ì˜ë¥˜ë§Œ í™”ë©´ ì¤‘ì•™ ë°°ì¹˜\n\nê³ í•´ìƒë„ & ì„ ëª…í•œ ê°€ì¥ìë¦¬\n\nê·¸ë¦¼ì ìµœì†Œí™” ë˜ëŠ” ì œê±°\n\në¶ˆí•„ìš”í•œ ìš”ì†Œ ì ˆëŒ€ í¬í•¨ ê¸ˆì§€\n\nâŒ ì ˆëŒ€ ê¸ˆì§€ í•­ëª© (ABSOLUTE PROHIBITIONS)\n\nì‚¬ëŒÂ·ì–¼êµ´Â·ì‹ ì²´ ì”ì—¬ ìƒì„± ë˜ëŠ” ë‚¨ê¹€\n\në°°ê²½ ì¼ë¶€ë¼ë„ ë‚¨ê¹€\n\nì¹´í…Œê³ ë¦¬ì— í•´ë‹¹í•˜ì§€ ì•ŠëŠ” ì œí’ˆ í¬í•¨\n\nìƒ‰ìƒ ë³€ê²½(1%ë„ ë¶ˆê°€)\n\në¹„ìœ¨/ê¸¸ì´ ì™œê³¡\n\nì‹¤ë£¨ì—£ ë³´ì •\n\nì¡´ì¬í•˜ì§€ ì•ŠëŠ” ìš”ì†Œ ìƒì„±\n\në§ˆë„¤í‚¹/ëª¨ë¸ ìƒì„±\n\n\"ë” ê¹”ë”í•˜ê²Œ\" ê°™ì€ í’ˆì§ˆ ë³€ê²½ ì‹œë„\n\nì œí’ˆì„ ìë™ìœ¼ë¡œ ëŒ€ì¹­ ë³´ì •í•˜ê¸° ìœ„í•´ ë¹„ìœ¨Â·í˜•íƒœ ìˆ˜ì •í•˜ëŠ” í–‰ìœ„\n\nğŸ“Œ ìµœì¢… ì‘ì—… ì§€ì‹œ (FINAL INSTRUCTION)\n\nì…ë ¥ëœ **ì¹´í…Œê³ ë¦¬(category)**ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì´ë¯¸ì§€ ì†ì—ì„œ\ní•´ë‹¹ ì¹´í…Œê³ ë¦¬ì˜ ì˜ë¥˜ í•˜ë‚˜ë§Œ ì •í™•íˆ ì°¾ì•„ ì¸ì‹í•˜ì‹œì˜¤.\n\nê·¸ ì˜ë¥˜ë¥¼:\n\nì›ë³¸ ìƒ‰ìƒ 100% ìœ ì§€\n\nì›ë³¸ ë¹„ìœ¨Â·í˜•íƒœ 100% ìœ ì§€\n\nì¸ì²´/ë°°ê²½/ì†Œí’ˆ ì™„ì „ ì œê±°\n\ní”Œë«í•˜ê²Œ ì •ë ¬\n\nì™„ì „í•œ í°ìƒ‰(#FFFFFF) ë°°ê²½ ìœ„ì— ìì—°ìŠ¤ëŸ½ê²Œ ì¬êµ¬ì„±\n\ní•˜ì—¬ ì „ë¬¸ ì‡¼í•‘ëª° ëˆ„ë¼ìƒ· ìˆ˜ì¤€ìœ¼ë¡œ ì¶œë ¥í•˜ì‹œì˜¤.\n\nì¹´í…Œê³ ë¦¬ì— í•´ë‹¹í•˜ì§€ ì•ŠëŠ” ì˜ë¥˜Â·ì†Œí’ˆì€ ì ˆëŒ€ í¬í•¨í•˜ë©´ ì•ˆ ëœë‹¤.\n`;\n\nreturn [\n  {\n    json: {\n      cleanedPrompt: JSON.stringify(prompt)\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4800,
        1296
      ],
      "id": "0d00f69f-64cc-40ad-b3ea-54d66f251cc2",
      "name": "make pure background-removed prompt"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "6cf78535-14a3-4ea7-be07-3ee533242fe2",
              "leftValue": "={{ $('get images API').all()[0].json.data.mainImagesBase64.length }}",
              "rightValue": 1,
              "operator": {
                "type": "number",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        3392,
        1504
      ],
      "id": "e2f53897-ae92-431e-a68b-00a7e60a6fae",
      "name": "check mainImages count1"
    },
    {
      "parameters": {
        "jsCode": "const prompt = `\n[ì‹œìŠ¤í…œ ì—­í• ]\në‹¹ì‹ ì€ íŒ¨ì…˜ ì œí’ˆ ìƒ‰ìƒ ë¹„êµì— íŠ¹í™”ëœ ì „ë¬¸ ë¹„ì „ ëª¨ë¸ì…ë‹ˆë‹¤.\nì…ë ¥ëœ ë‘ ì¥ì˜ ì´ë¯¸ì§€ë¥¼ ë¶„ì„í•˜ì—¬ ë‘ ì´ë¯¸ì§€ ì† ì œí’ˆì˜ â€˜ìƒ‰ìƒ(Color)â€™ì´ ë™ì¼í•œì§€ ì—¬ë¶€ë§Œì„ íŒë‹¨í•´ì•¼ í•©ë‹ˆë‹¤.\n\nğŸ“Œ íŒë‹¨ ê¸°ì¤€ (Color-Only Judgment Rules)\n\në‘ ì´ë¯¸ì§€ì˜ ì œí’ˆì´ ë‹¤ìŒ ì¡°ê±´ì„ ë§Œì¡±í•˜ë©´ \"same_color = true\",\ní•˜ë‚˜ë¼ë„ ë‹¤ë¥´ë©´ \"same_color = false\" ë¡œ íŒë‹¨í•©ë‹ˆë‹¤.\n\nâœ” ë™ì¼í•˜ë‹¤ê³  íŒë‹¨ë˜ëŠ” ê²½ìš°\n\nìƒ‰ìƒ(Hue), ëª…ë„(Brightness), ì±„ë„(Saturation)ê°€ ì´¬ì˜ í™˜ê²½ ì°¨ì´ë¡œ ì¸í•œ ë¯¸ì„¸í•œ ë³€í™” ìˆ˜ì¤€\n\nìì—°ìŠ¤ëŸ¬ìš´ ì¡°ëª… ë³€í™”(ì‹¤ë‚´/ì‹¤ì™¸, ë°ê¸° ì°¨ì´ ë“±)ë¡œ ì¸í•œ ì˜¤ì°¨\n\nê·¸ë¦¼ì, ë°˜ì‚¬ê´‘ìœ¼ë¡œ ì¸í•œ ë¶€ë¶„ì  ìƒ‰ ë³€í™”\n\nâŒ ë‹¤ë¥´ë‹¤ê³  íŒë‹¨ë˜ëŠ” ê²½ìš°\n\nì£¼ìš” ìƒ‰ìƒ ìì²´ê°€ ë‹¤ë¦„ (ì˜ˆ: ë² ì´ì§€ vs ë¸Œë¼ìš´, ê²€ì • vs ì°¨ì½œ ë“±)\n\nì „ì²´ì ìœ¼ë¡œ Hue ë˜ëŠ” Saturationì´ ë‹¤ë¥¸ ìƒ‰ ê³„ì—´\n\nì›ë‹¨ì´ ë™ì¼í•´ ë³´ì´ì§€ ì•Šì„ ì •ë„ì˜ ê°•í•œ ìƒ‰ì¡° ì°¨ì´\n\nAIê°€ ìë™ ë³´ì •í•œ ë“¯í•œ ìƒ‰ í‹€ì–´ì§\n\nğŸš« ë¹„êµ ëŒ€ìƒì—ì„œ ì œì™¸ë˜ëŠ” ìš”ì†Œ\n\nìƒ‰ìƒ íŒë‹¨ë§Œ ìˆ˜í–‰í•˜ë©° ë‹¤ìŒ ìš”ì†ŒëŠ” íŒë‹¨ì— í¬í•¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤:\n\nì‹¤ë£¨ì—£, í•, ê¸¸ì´, ë²„íŠ¼, í¬ì¼“, íŒ¨í„´ ë“± ë””ìì¸ ë³€í™”\n\nì´ë¯¸ì§€ í•´ìƒë„\n\nëª¨ë¸ ë˜ëŠ” ë°°ê²½ ì°¨ì´\n\nì „ì²´ ì‚¬ì§„ì˜ í†¤ ìŠ¤íƒ€ì¼\n\nğŸ“¤ ì¶œë ¥ í˜•ì‹ (ë°˜ë“œì‹œ ì•„ë˜ í˜•ì‹ìœ¼ë¡œë§Œ ì¶œë ¥)\n\nì•„ë˜ JSON í•˜ë‚˜ë§Œ ì¶œë ¥í•©ë‹ˆë‹¤:\n\n{\n  \"same_color\": true | false,\n  \"reason\": \"ì§§ê³  ëª…í™•í•œ ìƒ‰ìƒ íŒë‹¨ ê·¼ê±°\"\n}\n\n\nì¶œë ¥ ì™¸ ë‹¤ë¥¸ í…ìŠ¤íŠ¸ëŠ” ì ˆëŒ€ ìƒì„±í•˜ì§€ ë§ˆì‹­ì‹œì˜¤.\n`;\n\nreturn [\n  {\n    json: {\n      cleanedPrompt: JSON.stringify(prompt)\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3664,
        1520
      ],
      "id": "df769eb2-d3a2-4460-834b-1a2dbef8bdbf",
      "name": "make pure color-judgment prompt1"
    },
    {
      "parameters": {
        "jsCode": "const urls = $('get images API').all()[0].json.data.mainImagesBase64 || [];\nconst len = urls.length;\n\n// ì‚¬ìš©í•  ì¸ë±ìŠ¤ ê²°ì •\nlet idx1, idx2;\n\nif (len === 2) {\n  idx1 = 0;\n  idx2 = 1;\n} else if (len >= 3) {\n  idx1 = 1;\n  idx2 = 2;\n} else {\n  // ì´ë¯¸ì§€ê°€ 2ê°œ ë¯¸ë§Œì´ë©´ null ì²˜ë¦¬\n  return [\n    {\n      json: {\n        img1_base64: null,\n        img2_base64: null,\n        message: \"ì´ë¯¸ì§€ê°€ 2ê°œ ë¯¸ë§Œì…ë‹ˆë‹¤.\"\n      }\n    }\n  ];\n}\n\n// Base64 ìˆœìˆ˜ê°’ ì¶”ì¶œ í•¨ìˆ˜\nconst extract = (raw) => raw ? (raw.split(',')[1] || raw) : null;\n\nreturn [\n  {\n    json: {\n      img1_base64: extract(urls[idx1]),\n      img2_base64: extract(urls[idx2])\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3872,
        1520
      ],
      "id": "1186347d-63da-49a8-b9fc-8a47f85eb7a2",
      "name": "make pure mainImages base64 data1"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"contents\" : [{\n    \"parts\": [\n      {\n          \"text\": {{ $('make pure color-judgment prompt').all()[0].json.cleanedPrompt }}\n        },\n      {\n        \"inline_data\": {\n          \"mime_type\": \"image/jpeg\",\n          \"data\": \"{{ $json.img1_base64 }}\"\n        }\n      },\n {\n        \"inline_data\": {\n          \"mime_type\": \"image/jpeg\",\n          \"data\": \"{{ $json.img2_base64 }}\"\n        }\n      }\n    ]\n  }],\n  \"generationConfig\": {\n    \"responseModalities\": [\"TEXT\"]\n  } \n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        4080,
        1520
      ],
      "id": "f553a42f-9ccc-4361-a778-5d0fa6a5340e",
      "name": "color-judgment1",
      "retryOnFail": true,
      "waitBetweenTries": 5000,
      "credentials": {
        "httpHeaderAuth": {
          "id": "evcIz8tBtY6ypLqT",
          "name": "Soonicorn_GeminiAPI"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const res = $input.first().json;\n\n// text ì¶”ì¶œ\nlet raw = res.candidates?.[0]?.content?.parts?.[0]?.text ?? \"\";\n\n// ì½”ë“œë¸”ë¡ ì œê±°\nraw = raw.replace(/```json|```/g, \"\").trim();\n\n// JSON íŒŒì‹±\nlet parsed = null;\ntry {\n  parsed = JSON.parse(raw);\n} catch (e) {\n  parsed = { error: \"JSON íŒŒì‹± ì‹¤íŒ¨\", raw };\n}\n\nreturn [\n  {\n    json: parsed\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4288,
        1520
      ],
      "id": "567847d2-dd39-44b9-844a-d44d8bad092b",
      "name": "JSON parsing2"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "6c5436a8-f43a-4c6c-95db-6ea953569747",
              "leftValue": "={{ $json.same_color }}",
              "rightValue": false,
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        4480,
        1520
      ],
      "id": "3ac628b2-80f9-4fe6-b51b-5abee6c9f18c",
      "name": "is same color?1"
    },
    {
      "parameters": {
        "jsCode": "const urls = $('get images API').all()[0].json.data.mainImagesBase64;\n\nreturn urls.map((u, index) => {\n  const pureBase64 = u.split(',')[1] || u; // \"data:image/...,\" ì œê±°\n  return {\n    json: {\n      base64: pureBase64\n    }\n  };\n});\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        5008,
        1536
      ],
      "id": "f672192b-0617-48d3-8cc1-dbbce5dc3ad2",
      "name": "make pure mainImage base64 data1"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://generativelanguage.googleapis.com/v1beta/models/gemini-3-pro-image-preview:generateContent",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"contents\" : [{\n    \"parts\": [\n      {\n          \"text\": {{ $('make pure background-removed prompt1').all()[0].json.cleanedPrompt }}\n        },\n      {\n        \"inline_data\": {\n          \"mime_type\": \"image/jpeg\",\n          \"data\": \"{{ $('resize thumbnail').all()[0].json.ThumbnailImage_Base64 }}\"\n        }\n      },\n {\n        \"inline_data\": {\n          \"mime_type\": \"image/jpeg\",\n          \"data\": \"{{ $json.base64 }}\"\n        }\n      }\n    ]\n  }],\n  \"generationConfig\": {\n    \"responseModalities\": [\"TEXT\", \"IMAGE\"],\n    \"imageConfig\": {\n      \"aspectRatio\": \"4:5\",\n      \"imageSize\": \"1K\"\n    }\n  } \n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        5184,
        1536
      ],
      "id": "3d475228-4d0f-4d85-a085-bf9004e32021",
      "name": "create background-removed image1",
      "retryOnFail": true,
      "waitBetweenTries": 5000,
      "credentials": {
        "httpHeaderAuth": {
          "id": "evcIz8tBtY6ypLqT",
          "name": "Soonicorn_GeminiAPI"
        }
      }
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "import base64\nfrom io import BytesIO\nfrom PIL import Image\n\noutputs = []\n\n# ==========================================================\n# 1) input ì „ì²´ ë°˜ë³µ ì²˜ë¦¬\n# ==========================================================\nfor item in _input.all():\n\n    # base64 ìœ„ì¹˜ ì¶”ì¶œ (ì—†ìœ¼ë©´ skip)\n    base64_input = item.json.get(\"candidates\", [])[0].get(\"content\", {}).get(\"parts\", [])[0].get(\"inlineData\", {}).get(\"data\")\n\n    if not base64_input:\n        outputs.append({\n            \"error\": \"base64 ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\",\n            \"original_item\": item.json\n        })\n        continue\n\n    # base64 decode\n    image_data = base64.b64decode(base64_input)\n\n    # ==========================================================\n    # 2) ì´ë¯¸ì§€ ë¡œë“œ\n    # ==========================================================\n    img = Image.open(BytesIO(image_data))\n\n    # ==========================================================\n    # 3) ë¹„ìœ¨ ìœ ì§€ + width 700px ë¦¬ì‚¬ì´ì¦ˆ\n    # ==========================================================\n    target_width = 700\n    w, h = img.size\n    ratio = target_width / float(w)\n    target_height = int(h * ratio)\n\n    resized_img = img.resize((target_width, target_height), Image.LANCZOS)\n\n    # ==========================================================\n    # 4) ë‹¤ì‹œ base64ë¡œ ë³€í™˜\n    # ==========================================================\n    buffered = BytesIO()\n    resized_img.save(buffered, format=\"JPEG\")\n    output_base64 = base64.b64encode(buffered.getvalue()).decode(\"utf-8\")\n\n    # ==========================================================\n    # 5) output ë°°ì—´ì— ì¶”ê°€\n    # ==========================================================\n    outputs.append({\n        \"width\": target_width,\n        \"height\": target_height,\n        \"CutoutImage_Base64\": output_base64\n    })\n\n# ==========================================================\n# 6) n8n Output (items list ë°˜í™˜)\n# ==========================================================\nreturn outputs\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        5376,
        1536
      ],
      "id": "201319b4-2b21-4757-b416-a52478ccb2b3",
      "name": "resize background-removed image1"
    },
    {
      "parameters": {
        "jsCode": "// ëª¨ë“  input items\nconst items = $input.all();\n\n// base64ë§Œ ì¶”ì¶œí•˜ê³ , undefined/null/ë¹ˆ ë¬¸ìì—´ ì œì™¸\nconst base64List = items\n  .map(i => i.json.CutoutImage_Base64)\n  .filter(b => b); // falsy ê°’ ì œê±°(undefined, null, \"\", 0)\n\n// âœ¨ ë§ˆì§€ë§‰ ì½¤ë§ˆ ì œê±° ë²„ì „ âœ¨\n// ê° ê°’ ì•ë’¤ì— í°ë”°ì˜´í‘œë§Œ ì¶”ê°€í•˜ê³  join(\", \")ìœ¼ë¡œ ì—°ê²°\nconst result = base64List\n  .map(b => `\"${b}\"`)\n  .join(\", \"); // ìë™ìœ¼ë¡œ ë§ˆì§€ë§‰ ì½¤ë§ˆ ì œê±°ë¨\n\nreturn [\n  {\n    json: {\n      CutoutImage_Base64: result\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        5568,
        1536
      ],
      "id": "08d3468a-e178-4374-a36a-1dd62bee162a",
      "name": "sum background-removed image1"
    },
    {
      "parameters": {
        "jsCode": "const prompt = `\në‹¹ì‹ ì€ ì‡¼í•‘ëª° ìƒì„¸í˜ì´ì§€(ì„¸ë¡œí˜•) ì´ë¯¸ì§€ë¥¼ ë¶„ì„í•˜ëŠ” ì „ë¬¸ ë¹„ì „ ë¶„ì„ ëª¨ë¸ì…ë‹ˆë‹¤.\nì•„ë˜ ê·œì¹™ì— ë”°ë¼ ì´ë¯¸ì§€ì—ì„œ **ì˜¤ì§ ì •ë³´ì˜ì—­(info_section)**ë§Œ ì •í™•í•˜ê²Œ ê°ì§€í•˜ê³ ,\nê·¸ í”½ì…€ ì¢Œí‘œ(x, y, width, height)ì™€ ì „ì²´ ì´ë¯¸ì§€ í¬ê¸°ë¥¼ ë°˜í™˜í•˜ì‹­ì‹œì˜¤.\n===========================================================\n:ê²½ê³ : ì¤‘ìš”: ì´ë¯¸ì§€ í¬ê¸° ì¸¡ì • ì›ì¹™\në°˜í™˜í•˜ëŠ” ai_processed_sizeëŠ” **ì‹¤ì œ ì´ë¯¸ì§€ì˜ í”½ì…€ í¬ê¸°**ì—¬ì•¼ í•©ë‹ˆë‹¤.\n- ì´ë¯¸ì§€ ë·°ì–´ì—ì„œ ë³´ì´ëŠ” í¬ê¸°ê°€ ì•„ë‹Œ, ì›ë³¸ íŒŒì¼ì˜ ì‹¤ì œ í”½ì…€ í•´ìƒë„ ê¸°ì¤€\n- ì„¸ë¡œë¡œ ê¸´ ìƒì„¸í˜ì´ì§€ì˜ ê²½ìš° widthëŠ” ë³´í†µ ì‘ê³ (100~1000px), heightê°€ ë§¤ìš° í¼(1000~10000px)\n===========================================================\n:ë‹¤íŠ¸: í•µì‹¬ ì›ì¹™ (ìµœìš°ì„  ì ìš©)\ninfo_sectionì€ **í…ìŠ¤íŠ¸ + í‘œ + ë„ì‹í™”**ë¡œ êµ¬ì„±ëœ ì •ë³´ ì˜ì—­ì´ë‹¤.\n**ì‹¤ì‚¬ ì‚¬ì§„ ë˜ëŠ” ì‹¤ì‚¬ ì‚¬ì§„ì˜ ë°°ê²½ìƒ‰ì´ 1pxì´ë¼ë„ í¬í•¨ë˜ë©´ ì•ˆ ëœë‹¤.**\n:í°ìƒ‰_í™•ì¸_í‘œì‹œ: í—ˆìš©:\n- ìˆœìˆ˜ í…ìŠ¤íŠ¸ / í‘œ(table)\n- ë„ì‹í™” (ì˜· ì‹¤ë£¨ì—£ + ì¹˜ìˆ˜ì„  ì¼ëŸ¬ìŠ¤íŠ¸)\n- ì•„ì´ì½˜, ì‹¬ë³¼\n- **í°ìƒ‰(#FFFFFF) ë˜ëŠ” ì™„ì „í•œ ë‹¨ìƒ‰ ë°°ê²½**\n:ì¶œì…ê¸ˆì§€: ì œì™¸ (ì‹¤ì‚¬ ì‚¬ì§„ ë° ê´€ë ¨ ìš”ì†Œ):\n- ì›ë‹¨/ì†Œì¬ í´ë¡œì¦ˆì—… ì‚¬ì§„\n- ì œí’ˆ ì°©ìš©ì»· / ëª¨ë¸ ì‚¬ì§„\n- ì œí’ˆ ë‹¨ë… ì‚¬ì§„\n- ë””í…Œì¼ í™•ëŒ€ ì‚¬ì§„\n- **ì‹¤ì‚¬ ì‚¬ì§„ì˜ ì¼ë¶€ê°€ ì˜ë¦° ì˜ì—­ (ë² ì´ì§€, ê·¸ë ˆì´ ë“± ì œí’ˆ/ë°°ê²½ ìƒ‰ìƒì´ ë³´ì´ëŠ” ë¶€ë¶„)**\n===========================================================\n:ì••ì •: info_section ì‹œì‘ì  ê°ì§€ ê·œì¹™ (í•„ìˆ˜ ì ìš©)\n:ë‹¤íŠ¸: **íŠ¹ìˆ˜ ê·œì¹™ â€“ \"Size Information\" í…ìŠ¤íŠ¸ ê¸°ì¤€ ì²˜ë¦¬**\nSTEP 1) ì´ë¯¸ì§€ ë‚´ì—ì„œ \"Size Information\" í…ìŠ¤íŠ¸ë¥¼ ì°¾ëŠ”ë‹¤\nSTEP 2) í•´ë‹¹ í…ìŠ¤íŠ¸ì˜ ìƒë‹¨ yì¢Œí‘œë¥¼ í™•ì¸í•œë‹¤\nSTEP 3) **ë°°ê²½ìƒ‰ ê²€ì¦ (í•„ìˆ˜)**\n- \"Size Information\" í…ìŠ¤íŠ¸ ë°”ë¡œ ìœ„ ì˜ì—­ì˜ ë°°ê²½ìƒ‰ì„ í™•ì¸\n- ë§Œì•½ í°ìƒ‰ì´ ì•„ë‹Œ ë‹¤ë¥¸ ìƒ‰ìƒ(ë² ì´ì§€, ê·¸ë ˆì´, ì œí’ˆ ìƒ‰ìƒ ë“±)ì´ ë³´ì´ë©´:\n â†’ í•´ë‹¹ ìƒ‰ìƒ ì˜ì—­ì´ ì™„ì „íˆ ëë‚˜ëŠ” ì§€ì ê¹Œì§€ yì¢Œí‘œë¥¼ ì•„ë˜ë¡œ ì´ë™\n- info_sectionì€ **ë°˜ë“œì‹œ í°ìƒ‰ ë°°ê²½ì—ì„œ ì‹œì‘**í•´ì•¼ í•¨\nSTEP 4) ìµœì¢… ì‹œì‘ì  ê²°ì •\n- ì‹œì‘ì (y) = í°ìƒ‰ ë°°ê²½ì´ ì‹œì‘ë˜ëŠ” ì§€ì  (ì‹¤ì‚¬ ì‚¬ì§„/ë°°ê²½ìƒ‰ ì™„ì „ ì œì™¸)\n===========================================================\n:ì••ì •: info_section ì¼ë°˜ ê°ì§€ ê·œì¹™ (\"Size Information\" í…ìŠ¤íŠ¸ê°€ ì—†ëŠ” ê²½ìš°)\nSTEP 1) **ì´ë¯¸ì§€ ë§¨ ì•„ë˜ì—ì„œ ìœ„ë¡œ ìŠ¤ìº”**\n- í•˜ë‹¨ë¶€í„° ì˜¬ë¼ê°€ë©° í…ìŠ¤íŠ¸/í‘œ/ë„ì‹í™” ì˜ì—­ í™•ì¸\nSTEP 2) **ì‹¤ì‚¬ ì‚¬ì§„ ë˜ëŠ” ë¹„-í°ìƒ‰ ë°°ê²½ì„ ë§Œë‚˜ë©´ ìŠ¤ìº” ì¤‘ì§€**\n- ìœ„ë¡œ ì˜¬ë¼ê°€ë‹¤ê°€ ì œí’ˆì‚¬ì§„ ë˜ëŠ” ì»¬ëŸ¬ ë°°ê²½ì„ ë°œê²¬í•˜ë©´ ë©ˆì¶¤\n- í•´ë‹¹ ì˜ì—­ì˜ **ê°€ì¥ ì•„ë˜ yì¢Œí‘œ(í•˜ë‹¨ ë)**ë¥¼ ê¸°ë¡\nSTEP 3) **info_section ì‹œì‘ì  ê³„ì‚°**\n- ì‹œì‘ì (y) = ì‹¤ì‚¬ ì˜ì—­ í•˜ë‹¨ yì¢Œí‘œ + ì—¬ë°±\n- í°ìƒ‰ ë°°ê²½ì´ í™•ì‹¤íˆ ì‹œì‘ë˜ëŠ” ì§€ì \nSTEP 4) **info_section ì¢…ë£Œì **\n- ì¢…ë£Œì  = ì´ë¯¸ì§€ ì „ì²´ height\n===========================================================\n:ì••ì •: ì‹¤ì‚¬ ì‚¬ì§„ vs ì •ë³´ ì˜ì—­ êµ¬ë¶„ ê¸°ì¤€\nì‹¤ì‚¬ ì‚¬ì§„ ì˜ì—­ (:ì¶œì…ê¸ˆì§€: ì œì™¸):\n- ì¹´ë©”ë¼ë¡œ ì´¬ì˜ëœ ì‹¤ì œ ì§ˆê°\n- ì›ë‹¨/ì œí’ˆì˜ ìŒì˜Â·ì…ì²´ê°\n- ì‚¬ì‹¤ì ì¸ ìƒ‰ê°, ì£¼ë¦„, ê·¸ë¦¼ì\n- **ë² ì´ì§€, ê·¸ë ˆì´, í¬ë¦¼ìƒ‰ ë“± ì´¬ì˜ ë°°ê²½ìƒ‰**\n- **ì œí’ˆ ìƒ‰ìƒì´ ì¼ë¶€ë¼ë„ ë³´ì´ëŠ” ì˜ì—­**\nì •ë³´ ì˜ì—­ (:í°ìƒ‰_í™•ì¸_í‘œì‹œ: í—ˆìš©):\n- ì„ í˜• ì¼ëŸ¬ìŠ¤íŠ¸ (ì¹˜ìˆ˜ ë„ì‹í™”)\n- ì¹˜ìˆ˜ ì•ˆë‚´ì„ , ìˆ«ìÂ·ë‹¨ìœ„\n- ë‹¨ìˆœ ì™¸ê³½ì„ , í‰ë©´ì  ê·¸ë˜í”½\n- **í°ìƒ‰ ë°°ê²½ ìœ„ì˜ í…ìŠ¤íŠ¸/í‘œ**\n===========================================================\n:ì••ì •: ìµœì¢… ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸\nì¶œë ¥ ì „ ë°˜ë“œì‹œ í™•ì¸:\nâ˜ ì‹œì‘ì (y) ìœ„ì¹˜ì— ì‹¤ì‚¬ ì‚¬ì§„ì´ ì—†ëŠ”ê°€?\nâ˜ ì‹œì‘ì (y) ìœ„ì¹˜ì˜ ë°°ê²½ì´ í°ìƒ‰ì¸ê°€?\nâ˜ ì‹œì‘ì (y) ~ y+50px êµ¬ê°„ì— ë² ì´ì§€/ê·¸ë ˆì´ ë“± ì»¬ëŸ¬ê°€ ì—†ëŠ”ê°€?\nâ˜ ai_processed_sizeê°€ ì‹¤ì œ ì´ë¯¸ì§€ í”½ì…€ í¬ê¸°ì™€ ì¼ì¹˜í•˜ëŠ”ê°€?\ní•˜ë‚˜ë¼ë„ ì‹¤íŒ¨í•˜ë©´ â†’ ì‹œì‘ì (y)ì„ ì•„ë˜ë¡œ ì¡°ì •\n===========================================================\n:ì••ì •: ì¶œë ¥ í˜•ì‹ (JSONë§Œ ì¶œë ¥)\n{\n \"ai_processed_size\": {\n  \"width\": number,  // ì‹¤ì œ ì´ë¯¸ì§€ í”½ì…€ ë„ˆë¹„\n  \"height\": number  // ì‹¤ì œ ì´ë¯¸ì§€ í”½ì…€ ë†’ì´\n },\n \"sections\": {\n  \"info_section\": {\n   \"x\": number,\n   \"y\": number,   // í°ìƒ‰ ë°°ê²½ ì‹œì‘ì \n   \"width\": number,\n   \"height\": number\n  } | null\n }\n}\n===========================================================\n:ê²½ê³ : ìµœì¢… ê°•ì¡°\n1. ì •ë³´ì˜ì—­ì— ì‹¤ì‚¬ ì‚¬ì§„ì´ ì ˆëŒ€ í¬í•¨ë˜ë©´ ì•ˆ ë¨\n2. ì‹¤ì‚¬ ì‚¬ì§„ì˜ ë°°ê²½ìƒ‰(ë² ì´ì§€, ê·¸ë ˆì´ ë“±)ë„ ì‹¤ì‚¬ ì˜ì—­ìœ¼ë¡œ ê°„ì£¼\n3. info_sectionì€ ë°˜ë“œì‹œ **í°ìƒ‰ ë°°ê²½**ì—ì„œ ì‹œì‘\n4. ì• ë§¤í•˜ë©´ ì‹œì‘ì ì„ ì•„ë˜ë¡œ (ë³´ìˆ˜ì ìœ¼ë¡œ íŒë‹¨)\n`;\n\nreturn [\n  {\n    json: {\n      cleanedPrompt: JSON.stringify(prompt)\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1472,
        720
      ],
      "id": "83b45edd-e90b-4c5e-b6ed-c002c92068ec",
      "name": "make pure info-section judgment prompt1"
    },
    {
      "parameters": {
        "jsCode": "const prompt = `\në‹¹ì‹ ì€ ì‡¼í•‘ëª° ìƒì„¸í˜ì´ì§€(ì„¸ë¡œí˜•) ì´ë¯¸ì§€ì—ì„œ **ì •ë³´ì˜ì—­(info_section)**ì˜ ì‹œì‘ì ì„ ì°¾ëŠ” ë¹„ì „ ë¶„ì„ ëª¨ë¸ì…ë‹ˆë‹¤.\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nğŸ“Œ ì •ë³´ì˜ì—­ ì •ì˜\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nì •ë³´ì˜ì—­ = í…ìŠ¤íŠ¸ ê¸°ë°˜ì˜ ì œí’ˆ ìƒì„¸ì •ë³´ê°€ ì‹œì‘ë˜ëŠ” ì§€ì ë¶€í„° ì´ë¯¸ì§€ ëê¹Œì§€\n\ní¬í•¨ ëŒ€ìƒ:\n- Color View, Fabric View Point Details, Size Information, Product Information ë“± ì •ë³´ í—¤ë”\n- ì‚¬ì´ì¦ˆ í‘œ, ì œí’ˆ ìŠ¤í™ í‘œ\n- ë„ì‹í™”(ì„ í™” í˜•íƒœì˜ ì¹˜ìˆ˜ ì•ˆë‚´ ì¼ëŸ¬ìŠ¤íŠ¸)\n- Notice, ë°°ì†¡ì•ˆë‚´, êµí™˜/ë°˜í’ˆ, ì£¼ì˜ì‚¬í•­ ë“± í…ìŠ¤íŠ¸ ì˜ì—­\n\nì œì™¸ ëŒ€ìƒ (ì ˆëŒ€ í¬í•¨ ê¸ˆì§€):\n- ì‹¤ì‚¬ ì œí’ˆ ì‚¬ì§„, ëª¨ë¸ ì»·, ì°©ìš©ìƒ·\n- ì›ë‹¨/ë””í…Œì¼ í´ë¡œì¦ˆì—… ì‚¬ì§„\n- ë°°ê²½ì´ ìˆëŠ” ì œí’ˆ ì´¬ì˜ ì´ë¯¸ì§€\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nğŸ¯ ì‹œì‘ì (y) ê²°ì • ê·œì¹™ (ìš°ì„ ìˆœìœ„)\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n[1ìˆœìœ„] ì •ë³´ í—¤ë” í…ìŠ¤íŠ¸ ê²€ìƒ‰\nì•„ë˜ í…ìŠ¤íŠ¸ ì¤‘ ê°€ì¥ ë¨¼ì €(ìœ„ìª½ì—) ë‚˜íƒ€ë‚˜ëŠ” ê²ƒì„ ì°¾ëŠ”ë‹¤:\n- \"Fabric View\" / \"Fabric\" / \"ì›ë‹¨ ì •ë³´\" /\n- \"Color View\" / \"Color Info\" / \"ìƒ‰ìƒ ì •ë³´\"\n- \"Point Details\" / \"Point Detail\"\n- \"Size Information\" / \"Size Info\" / \"ì‚¬ì´ì¦ˆ ì •ë³´\"\n- \"Product Information\" / \"Product Info\" / \"ì œí’ˆ ì •ë³´\"\n- \"Detail Information\" / \"ìƒì„¸ ì •ë³´\"\n\nì™„ì „ í¬í•¨ ì›ì¹™:\ní…ìŠ¤íŠ¸ì˜ ì²« ê¸€ìê°€ ì ˆëŒ€ ì˜ë¦¬ì§€ ì•Šë„ë¡ ë³´ìˆ˜ì ìœ¼ë¡œ ë„‰ë„‰í•˜ê²Œ ì¡ì„ ê²ƒ\nì‹œì‘ì  ì„¤ì • ë°©ì‹:\n\"í…ìŠ¤íŠ¸ê°€ ì‹œì‘ë˜ëŠ” ì§€ì \"ì´ ì•„ë‹ˆë¼ **\"í…ìŠ¤íŠ¸ ì˜ì—­ ë°”ë¡œ ìœ„ ì—¬ë°±ê¹Œì§€ í¬í•¨í•œ ì§€ì \"**ì„ ì‹œì‘ì ìœ¼ë¡œ ì¸ì‹\nâ†’ í•´ë‹¹ í…ìŠ¤íŠ¸ì˜ ìƒë‹¨ ê²½ê³„ì—ì„œ ì—¬ë°±ì´ ì‚´ì§ ë³´ì´ëŠ” ë¶€ë¶„ì˜ yê°’ì„ ì‹œì‘ì ìœ¼ë¡œ ì„¤ì •\nâ†’ ì ˆëŒ€ë¡œ ì˜·, ì œí’ˆì‚¬ì§„ì´ í¬í•¨ë˜ë©´ ì•ˆë¨.\n\n[2ìˆœìœ„] ì •ë³´ í—¤ë”ê°€ ì—†ëŠ” ê²½ìš°\nì‚¬ì´ì¦ˆ í‘œ(í…Œì´ë¸”) ë˜ëŠ” ìŠ¤í™ í‘œì˜ ìƒë‹¨ì„ ì°¾ëŠ”ë‹¤\nâ†’ í‘œ ìƒë‹¨ì—ì„œ ìœ„ë¡œ 30px ì—¬ë°±ì„ í¬í•¨í•œ yê°’ì„ ì‹œì‘ì ìœ¼ë¡œ ì„¤ì •\n\n[3ìˆœìœ„] ìœ„ ìš”ì†Œê°€ ëª¨ë‘ ì—†ëŠ” ê²½ìš°\në§ˆì§€ë§‰ ì‹¤ì‚¬ ì‚¬ì§„ì´ ëë‚˜ëŠ” ì§€ì ì„ ì°¾ëŠ”ë‹¤\nâ†’ ì‚¬ì§„ í•˜ë‹¨ + 30pxì„ ì‹œì‘ì ìœ¼ë¡œ ì„¤ì •\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nâš ï¸ ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸ (í•„ìˆ˜ í™•ì¸)\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nâ–¡ ì‹œì‘ì (y) ì•„ë˜ìª½ 20px ë‚´ì— ì‹¤ì‚¬ ì‚¬ì§„ì´ ì—†ëŠ”ê°€?\n\nâ†’ ì‹¤ì‚¬ ì‚¬ì§„ì´ ìˆì„ê²½ìš° yê°’ì„ ì‹¤ì‚¬ì‚¬ì§„ í•˜ë‹¨ ê²½ê³„ë¡œ ì´ë™.\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nğŸ“¤ ì¶œë ¥ í˜•ì‹\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\në°˜ë“œì‹œ ì•„ë˜ JSON í˜•ì‹ë§Œ ì¶œë ¥í•˜ì„¸ìš”. ì„¤ëª…ì´ë‚˜ ì¶”ê°€ í…ìŠ¤íŠ¸ ê¸ˆì§€.\n\n{\n  \"ai_processed_size\": {\n    \"width\": [ì´ë¯¸ì§€ ì „ì²´ ë„ˆë¹„],\n    \"height\": [ì´ë¯¸ì§€ ì „ì²´ ë†’ì´]\n  },\n  \"sections\": {\n    \"info_section\": {\n      \"x\": 0,\n      \"y\": [ì •ë³´ì˜ì—­ ì‹œì‘ yì¢Œí‘œ],\n      \"width\": [ì´ë¯¸ì§€ ì „ì²´ ë„ˆë¹„],\n      \"height\": [ì´ë¯¸ì§€ ë†’ì´ - ì‹œì‘ yì¢Œí‘œ]\n    }\n  }\n}\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nğŸ“ ê³„ì‚° ê³µì‹\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n- info_section.x = 0 (í•­ìƒ ì¢Œì¸¡ ëì—ì„œ ì‹œì‘)\n- info_section.width = ai_processed_size.width (ì „ì²´ ë„ˆë¹„)\n- info_section.height = ai_processed_size.height - info_section.y\n`;\n\nreturn [\n  {\n    json: {\n      cleanedPrompt: JSON.stringify(prompt)\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1680,
        720
      ],
      "id": "ae777e85-6d4d-4e13-baee-0f8462a02c3a",
      "name": "make pure info-section judgment prompt2"
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "\nimport base64\nfrom PIL import Image\nfrom io import BytesIO\n\n# ì¸í’‹ ì´ë¯¸ì§€ base64\nraw_b64 = _('make pure base64').first().json.SubImageBase64\npure_b64 = raw_b64.split(\",\")[-1]\n\nimg_data = base64.b64decode(pure_b64)\nimg = Image.open(BytesIO(img_data))\n\norig_w, orig_h = img.size\n\ntarget_h = 8000\ntarget_w = int(orig_w * (target_h / orig_h))\n\nreturn {\n    \"original_width\": orig_w,\n    \"original_height\": orig_h,\n    \"resize_width\": target_w,\n    \"resize_height\": target_h,\n}\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1280,
        720
      ],
      "id": "199c1f97-dd1e-4c7d-9c52-ad3da4e85278",
      "name": "caculate subimage size"
    },
    {
      "parameters": {
        "operation": "resize",
        "dataPropertyName": "Image",
        "width": "={{ $('caculate subimage size').all()[0].json.resize_width }}",
        "height": "={{ $('caculate subimage size').all()[0].json.resize_height }}",
        "options": {}
      },
      "type": "n8n-nodes-base.editImage",
      "typeVersion": 1,
      "position": [
        2320,
        720
      ],
      "id": "b9daab8d-53e3-4e89-92bd-bec1b5928002",
      "name": "resize subImage"
    },
    {
      "parameters": {
        "resource": "image",
        "modelId": {
          "__rl": true,
          "value": "claude-sonnet-4-5-20250929",
          "mode": "list",
          "cachedResultName": "claude-sonnet-4-5-20250929"
        },
        "text": "={{ $('make pure info-section judgment prompt1').all()[0].json.cleanedPrompt }}",
        "inputType": "binary",
        "binaryPropertyName": "Image",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.anthropic",
      "typeVersion": 1,
      "position": [
        2496,
        720
      ],
      "id": "c2c5b751-28c8-4e0d-869a-2cbf0dcbba10",
      "name": "Analyze subImage",
      "retryOnFail": true,
      "maxTries": 2,
      "waitBetweenTries": 5000,
      "credentials": {
        "anthropicApi": {
          "id": "s53gMH1GWKtYEmUN",
          "name": "Claude API_1"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// =======================================================\n// 1) AI output (TEXT í˜•íƒœ) ê°€ì ¸ì˜¤ê¸°\n// =======================================================\nlet text = \"\";\n\n// í˜•íƒœ 1: { content: [ { type: \"text\", text: \"...\" } ] }\nif ($json.content && Array.isArray($json.content) && $json.content[0]?.text) {\n  text = $json.content[0].text;\n}\n\n// í˜•íƒœ 2: { content: [ { parts: [ { text: \"...\" } ] } ] }\nif (!text && $json.content?.[0]?.parts?.[0]?.text) {\n  text = $json.content[0].parts[0].text;\n}\n\n// í˜•íƒœ 3: ì¼ë°˜ text\nif (!text && $json.text) {\n  text = $json.text;\n}\n\nif (!text) {\n  throw new Error(\"AIë¡œë¶€í„° ë°›ì€ í…ìŠ¤íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\");\n}\n\n// =======================================================\n// 2) ```json ... ``` ì•ˆì˜ JSONë§Œ ì¶”ì¶œ\n// =======================================================\nconst jsonMatch = text.match(/```json([\\s\\S]*?)```/);\n\nif (!jsonMatch) {\n  throw new Error(\"í…ìŠ¤íŠ¸ ì•ˆì—ì„œ JSON ë¸”ë¡ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\");\n}\n\nlet jsonString = jsonMatch[1].trim();\n\n// =======================================================\n// 3) JSON ë¬¸ìì—´ì„ ì‹¤ì œ ê°ì²´ë¡œ ë³€í™˜\n// =======================================================\nlet item;\ntry {\n  item = JSON.parse(jsonString);\n} catch (e) {\n  throw new Error(\"JSON íŒŒì‹± ì‹¤íŒ¨: \" + e.message);\n}\n\n// =======================================================\n// 4) ì›ë³¸ ì´ë¯¸ì§€ í¬ê¸° (Attach Base65 ë…¸ë“œ)ì—ì„œ ê°€ì ¸ì˜¤ê¸°\n// =======================================================\n\nconst W_org = $('caculate subimage size').first().json.resize_width;\nconst H_org = $('caculate subimage size').first().json.resize_height;\n\nif (!W_org || !H_org) {\n  throw new Error(\"ì›ë³¸ ì´ë¯¸ì§€ í¬ê¸°(resize_width, resize_height)ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\");\n}\n\n// =======================================================\n// 5) AIê°€ ë³¸ ì´ë¯¸ì§€ í¬ê¸°(ai_processed_size)\n// =======================================================\nconst ai = item.ai_processed_size;\n\nif (!ai || !ai.width || !ai.height) {\n  throw new Error(\"ai_processed_size.width/heightê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\");\n}\n\nconst W_ai = ai.width;\nconst H_ai = ai.height;\n\n// =======================================================\n// 6) ìŠ¤ì¼€ì¼ë§ í•¨ìˆ˜\n// =======================================================\nfunction scale(value, original, ai) {\n  return Math.round(value * (original / ai));\n}\n\n// =======================================================\n// 7) ì„¹ì…˜ ì¢Œí‘œë¥¼ ì›ë³¸ ìŠ¤ì¼€ì¼ ê¸°ì¤€ìœ¼ë¡œ ë³€í™˜\n// =======================================================\nconst output = [];\n\nfor (const key in item.sections) {\n  const sec = item.sections[key];\n\n  const scaled = {\n    section_name: key,\n    x: scale(sec.x, W_org, W_ai),\n    y: scale(sec.y, H_org, H_ai),\n    width: scale(sec.width, W_org, W_ai),\n    height: scale(sec.height, H_org, H_ai)\n  };\n\n  output.push({ json: scaled });\n}\n\n// =======================================================\n// 8) n8nì˜ Code nodeëŠ” ë°°ì—´ì„ ë°˜í™˜í•´ì•¼ í•¨\n// =======================================================\nreturn output;\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2688,
        720
      ],
      "id": "75180af8-2c1d-4c5c-9b2e-1a68ed496a01",
      "name": "JSON parsing3"
    },
    {
      "parameters": {
        "jsCode": "return [\n  {\n    json: {\n      base64: $('make pure base64').first().json.SubImageBase64\n    }\n  }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2912,
        720
      ],
      "id": "7fe07402-9f32-4e6e-9a81-88c58779ea72",
      "name": "get subImageBase"
    },
    {
      "parameters": {
        "jsCode": "return [\n  {\n    json: {\n      base64: $('make pure base64').first().json.SubImageBase64\n    }\n  }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1952,
        720
      ],
      "id": "1c27bc72-7d94-4b85-bfcc-5e131486ec7c",
      "name": "get subImageBase1"
    },
    {
      "parameters": {
        "operation": "toBinary",
        "sourceProperty": "base64",
        "binaryPropertyName": "Image",
        "options": {}
      },
      "type": "n8n-nodes-base.convertToFile",
      "typeVersion": 1.1,
      "position": [
        3104,
        720
      ],
      "id": "449c41d1-56dc-4041-af7c-9507e680ff0d",
      "name": "Convert Base64 To File1"
    },
    {
      "parameters": {
        "operation": "crop",
        "dataPropertyName": "Image",
        "width": "={{ $('JSON parsing3').all()[0].json.width }}",
        "height": "={{ $('JSON parsing3').all()[0].json.height }}",
        "positionX": "=0",
        "positionY": "={{ $('JSON parsing3').all()[0].json.y }}",
        "options": {}
      },
      "type": "n8n-nodes-base.editImage",
      "typeVersion": 1,
      "position": [
        3472,
        720
      ],
      "id": "e26727a9-6ade-4718-bd7a-684e3383cdf8",
      "name": "Edit Image"
    },
    {
      "parameters": {
        "resource": "image",
        "modelId": {
          "__rl": true,
          "value": "claude-sonnet-4-5-20250929",
          "mode": "list",
          "cachedResultName": "claude-sonnet-4-5-20250929"
        },
        "text": "={{ $('make pure info-section judgment prompt2').all()[0].json.cleanedPrompt }}",
        "inputType": "binary",
        "binaryPropertyName": "Image",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.anthropic",
      "typeVersion": 1,
      "position": [
        3664,
        720
      ],
      "id": "ce6b2701-1632-4b4a-a252-48a57606ab78",
      "name": "Analyze subImage1",
      "retryOnFail": true,
      "waitBetweenTries": 5000,
      "credentials": {
        "anthropicApi": {
          "id": "p6BLBZwDjHyrH8aE",
          "name": "Claude API_2"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// =======================================================\n// 1) AI output (TEXT í˜•íƒœ) ê°€ì ¸ì˜¤ê¸°\n// =======================================================\nlet text = \"\";\n\n// í˜•íƒœ 1: { content: [ { type: \"text\", text: \"...\" } ] }\nif ($json.content && Array.isArray($json.content) && $json.content[0]?.text) {\n  text = $json.content[0].text;\n}\n\n// í˜•íƒœ 2: { content: [ { parts: [ { text: \"...\" } ] } ] }\nif (!text && $json.content?.[0]?.parts?.[0]?.text) {\n  text = $json.content[0].parts[0].text;\n}\n\n// í˜•íƒœ 3: ì¼ë°˜ text\nif (!text && $json.text) {\n  text = $json.text;\n}\n\nif (!text) {\n  throw new Error(\"AIë¡œë¶€í„° ë°›ì€ í…ìŠ¤íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\");\n}\n\n// =======================================================\n// 2) ```json ... ``` ì•ˆì˜ JSONë§Œ ì¶”ì¶œ\n// =======================================================\nconst jsonMatch = text.match(/```json([\\s\\S]*?)```/);\n\nif (!jsonMatch) {\n  throw new Error(\"í…ìŠ¤íŠ¸ ì•ˆì—ì„œ JSON ë¸”ë¡ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\");\n}\n\nlet jsonString = jsonMatch[1].trim();\n\n// =======================================================\n// 3) JSON ë¬¸ìì—´ì„ ì‹¤ì œ ê°ì²´ë¡œ ë³€í™˜\n// =======================================================\nlet item;\ntry {\n  item = JSON.parse(jsonString);\n} catch (e) {\n  throw new Error(\"JSON íŒŒì‹± ì‹¤íŒ¨: \" + e.message);\n}\n\n// =======================================================\n// 4) ì›ë³¸ ì´ë¯¸ì§€ í¬ê¸° (Attach Base65 ë…¸ë“œ)ì—ì„œ ê°€ì ¸ì˜¤ê¸°\n// =======================================================\n\nconst W_org = $('JSON parsing3').all()[0].json.width;\nconst H_org = $('JSON parsing3').all()[0].json.height;\n\nif (!W_org || !H_org) {\n  throw new Error(\"ì›ë³¸ ì´ë¯¸ì§€ í¬ê¸°(resize_width, resize_height)ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\");\n}\n\n// =======================================================\n// 5) AIê°€ ë³¸ ì´ë¯¸ì§€ í¬ê¸°(ai_processed_size)\n// =======================================================\nconst ai = item.ai_processed_size;\n\nif (!ai || !ai.width || !ai.height) {\n  throw new Error(\"ai_processed_size.width/heightê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\");\n}\n\nconst W_ai = ai.width;\nconst H_ai = ai.height;\n\n// =======================================================\n// 6) ìŠ¤ì¼€ì¼ë§ í•¨ìˆ˜\n// =======================================================\nfunction scale(value, original, ai) {\n  return Math.round(value * (original / ai));\n}\n\n// =======================================================\n// 7) ì„¹ì…˜ ì¢Œí‘œë¥¼ ì›ë³¸ ìŠ¤ì¼€ì¼ ê¸°ì¤€ìœ¼ë¡œ ë³€í™˜\n// =======================================================\nconst output = [];\n\nfor (const key in item.sections) {\n  const sec = item.sections[key];\n\n  const scaled = {\n    section_name: key,\n    x: scale(sec.x, W_org, W_ai),\n    y: scale(sec.y, H_org, H_ai),\n    width: scale(sec.width, W_org, W_ai),\n    height: scale(sec.height, H_org, H_ai)\n  };\n\n  output.push({ json: scaled });\n}\n\n// =======================================================\n// 8) n8nì˜ Code nodeëŠ” ë°°ì—´ì„ ë°˜í™˜í•´ì•¼ í•¨\n// =======================================================\nreturn output;\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3856,
        720
      ],
      "id": "64995522-a8ba-4275-a42e-93782f68d29d",
      "name": "JSON parsing4"
    },
    {
      "parameters": {
        "jsCode": "return [\n  {\n    json: {\n      base64: $('make pure base64').first().json.SubImageBase64\n    }\n  }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4048,
        720
      ],
      "id": "a0ae3698-09e8-4f0f-b5f0-bc453f583ab2",
      "name": "get subImageBase2"
    },
    {
      "parameters": {
        "operation": "toBinary",
        "sourceProperty": "base64",
        "binaryPropertyName": "Image",
        "options": {}
      },
      "type": "n8n-nodes-base.convertToFile",
      "typeVersion": 1.1,
      "position": [
        4224,
        720
      ],
      "id": "59568827-13b8-403e-86d6-3f110cb1a7d0",
      "name": "Convert Base64 To File2"
    },
    {
      "parameters": {
        "operation": "resize",
        "dataPropertyName": "Image",
        "width": "={{ $('caculate subimage size').all()[0].json.resize_width }}",
        "height": "={{ $('caculate subimage size').all()[0].json.resize_height }}",
        "options": {}
      },
      "type": "n8n-nodes-base.editImage",
      "typeVersion": 1,
      "position": [
        4400,
        720
      ],
      "id": "21d8fb62-1cbe-4329-8e3a-8eadde46f0ef",
      "name": "Resize Image1"
    },
    {
      "parameters": {
        "operation": "crop",
        "dataPropertyName": "Image",
        "width": "={{ $('JSON parsing4').all()[0].json.width }}",
        "height": "={{ $('JSON parsing4').all()[0].json.height }}",
        "positionX": "=0",
        "positionY": "={{ 8000 - $('JSON parsing4').all()[0].json.height }}",
        "options": {}
      },
      "type": "n8n-nodes-base.editImage",
      "typeVersion": 1,
      "position": [
        4576,
        720
      ],
      "id": "84f162fd-a875-4f4c-b09d-ad57c719a90b",
      "name": "Edit Image1"
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "import base64\nfrom PIL import Image\nfrom io import BytesIO\n\n# base64 ë¶ˆëŸ¬ì˜¤ê¸°\nb64 = _input.first().json.Info_Image\nimg_data = base64.b64decode(b64.split(\",\")[-1])\nimg = Image.open(BytesIO(img_data))\n\n# RGBA â†’ RGB ë³€í™˜\nif img.mode in (\"RGBA\", \"LA\"):\n    img = img.convert(\"RGB\")\n\n# ë¦¬ì‚¬ì´ì¦ˆ (ì˜ˆì‹œ)\ntarget_w = 700\norig_w, orig_h = img.size\nratio = target_w / orig_w\ntarget_h = int(orig_h * ratio)\nimg = img.resize((target_w, target_h), Image.LANCZOS)\n\n# JPEGë¡œ ì €ì¥\nbuffer = BytesIO()\nimg.save(buffer, format=\"JPEG\", quality=90)\nout_b64 = base64.b64encode(buffer.getvalue()).decode()\n\nreturn {\n    \"resized_image\": \"data:image/jpeg;base64,\" + out_b64\n}\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4960,
        720
      ],
      "id": "245f80c6-4e40-4aa9-8402-ef982b62fb95",
      "name": "resize info-section image"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=http://{{ $('When Executed by Another Workflow').all()[0].json.IP }}/api/products/update-ai-images",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"productNumber\": \n    \"{{ $('When Executed by Another Workflow').all()[0].json.ProductID }}\",\n  \"AIThumbNailImage\": \n    \"{{ $('resize thumbnail').all()[0].json.ThumbnailImage_Base64 }}\",\n  \"AIMainImageUrls\": [\n    {{ $('merge model-cut images').all()[0].json.ModelImage_Base64 }}\n  ],\n  \"AISubImageUrls\": [ \n    {{ $('merge model-cut images').all()[0].json.ModelImage_Base64 }},\n    \"{{ $('resize info-section image').all()[0].json.resized_image }}\" \n  ],\n  \"AIDetailImageUrls\": [ \n    \"{{ $('resize info-section image').all()[0].json.resized_image }}\" \n  ]\n}\n\n\n",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        5152,
        720
      ],
      "id": "bf517688-850f-4de0-a79a-c89360c67a92",
      "name": "post image API"
    },
    {
      "parameters": {
        "content": "### Create thumbnail image",
        "height": 80,
        "width": 224,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -928,
        608
      ],
      "id": "b3804a27-57eb-4013-b16a-d120a66f89eb",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "content": "### Create model-cut image",
        "height": 80,
        "width": 224,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -304,
        128
      ],
      "id": "82d13add-bedc-467c-8671-1a1bd6f58aa0",
      "name": "Sticky Note2"
    },
    {
      "parameters": {
        "content": "### Create Detail image",
        "height": 80,
        "width": 224,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        1280,
        608
      ],
      "id": "08845c1b-7f22-4b65-be7a-17951ef8a209",
      "name": "Sticky Note3"
    },
    {
      "parameters": {
        "content": "### Create background-removed image\n",
        "height": 80,
        "width": 336,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        1248,
        1248
      ],
      "id": "e90de28d-e2cd-4856-a435-88855de295f8",
      "name": "Sticky Note4"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=ë‹¹ì‹ ì€ íŒ¨ì…˜ ì œí’ˆ ë¶„ì„ì— íŠ¹í™”ëœ ì „ë¬¸ ë¹„ì „ ê°ì§€ AIì…ë‹ˆë‹¤.\në‹¹ì‹ ì˜ ì—­í• ì€ ì²¨ë¶€ëœ ì œí’ˆ ì‚¬ì§„ì´ ìƒˆë¡œìš´ ì´ë¯¸ì§€ ìƒì„±ì— ì í•©í•œì§€,\nì¦‰ ì œí’ˆì´ ì‚¬ëŒì˜ ì‹ ì²´ë‚˜ ë‹¤ë¥¸ ì‚¬ë¬¼ì— ì˜í•´ ê°€ë ¤ì ¸ ìˆì§€ ì•Šì€ì§€ë¥¼\nì •í™•í•˜ê²Œ íŒë‹¨í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\në‹¹ì‹ ì€ ì ˆëŒ€ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ê±°ë‚˜ ìˆ˜ì •í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\nì˜¤ì§ â€œíŒë‹¨/í‰ê°€â€ë§Œ ìˆ˜í–‰í•©ë‹ˆë‹¤.\n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n[ì…ë ¥ ì •ë³´]\n\nì œí’ˆ ì¹´í…Œê³ ë¦¬: {{ $('get images API').all()[0].json.data.category }}\n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n[AIì˜ ì£¼ìš” ì„ë¬´]\n\nì‚¬ì§„ ì† ì œí’ˆì´ ì•„ë˜ ê¸°ì¤€ì— ë”°ë¼ ê°€ë ¤ì ¸ ìˆëŠ”ì§€ë¥¼ íŒë‹¨í•˜ì‹œì˜¤.\në‹¨, ì „ì²´ì ì¸ ì‹¤ë£¨ì—£ê³¼ í•µì‹¬ ë””í…Œì¼ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤ë©´\nê²½ë¯¸í•œ ê°€ì¥ìë¦¬ ì˜ë¦¼(ë°‘ë‹¨ 5~10% ì •ë„, í”„ë ˆì„ í¬ë¡­ ë“±)ì€ í—ˆìš©í•©ë‹ˆë‹¤.\n\nì œí’ˆ ì „ì²´ê°€ ì˜¨ì „íˆ ë³´ì´ëŠ”ê°€?\n\nì¹´í…Œê³ ë¦¬ ê¸°ì¤€ ì¤‘ìš”í•œ êµ¬ì„± ìš”ì†Œê°€ ëª¨ë‘ ì‹ë³„ ê°€ëŠ¥í•´ì•¼ í•©ë‹ˆë‹¤.\n\nì „ì²´ ìœ¤ê³½ê³¼ ì£¼ìš” ë””í…Œì¼ì„ íŒë‹¨í•  ìˆ˜ ìˆë‹¤ë©´ ì•½ê°„ì˜ ì»·íŒ…ì€ ê´œì°®ìŒ.\n\nê·¸ëŸ¬ë‚˜ ì¤‘ìš”í•œ ë¶€ë¶„(ì–´ê¹¨, ì•”í™€, í—ˆë¦¬ë¼ì¸, ì¹´ë¼, ì£¼ë¨¸ë‹ˆ ì—¬ë¶€ ë“±)ì´ ë³´ì´ì§€ ì•Šìœ¼ë©´ â€œê°€ë ¤ì§(true)â€.\n\nì‹ ì²´(ë¨¸ë¦¬Â·íŒ”Â·ì†Â·ë‹¤ë¦¬ ë“±)ì— ì˜í•´ ì œí’ˆ ì¼ë¶€ê°€ ê°€ë ¤ì ¸ ìˆëŠ”ê°€?\n\níŒ”ì´ë‚˜ ì†ì´ ì œí’ˆì„ ì‚´ì§ ìŠ¤ì¹˜ê±°ë‚˜ ì¼ë¶€ ë¼ì¸ì„ ê°€ë¦¬ëŠ” ì •ë„ëŠ” í—ˆìš©.\n\nê·¸ëŸ¬ë‚˜ ì œí’ˆì˜ ì‹¤ë£¨ì—£ íŒë‹¨ì„ ì–´ë µê²Œ ë§Œë“¤ ì •ë„ë¡œ ê°€ë ¸ë‹¤ë©´ â€œê°€ë ¤ì§(true)\".\n\në°°ê²½ ì‚¬ë¬¼Â·ì†Œí’ˆÂ·í…ìŠ¤íŠ¸Â·ê·¸ë¦¼ì ë“±ì— ì˜í•´ ì œí’ˆì´ ê°€ë ¤ì ¸ ìˆëŠ”ê°€?\n\nì œí’ˆì˜ ì£¼ìš” í˜•íƒœê°€ ì‹ë³„ ê°€ëŠ¥í•˜ë©´ ê²½ë¯¸í•œ ê°„ì„­ì€ í—ˆìš©.\n\ní•µì‹¬ ë””í…Œì¼ì´ ê°€ë ¤ì§€ë©´ \"true\".\n\nì¹´ë©”ë¼ê°ë„ë¡œ ì¸í•´ ì¤‘ìš”í•œ ë””í…Œì¼ì´ ë³´ì´ì§€ ì•ŠëŠ”ê°€?\n\nì¸¡ë©´ ì‚¬ì§„ì´ì–´ë„ ì „ì²´ ì‹¤ë£¨ì—£ê³¼ ì£¼ìš” ë””í…Œì¼ì„ ì‹ë³„í•  ìˆ˜ ìˆë‹¤ë©´ í—ˆìš©.\n\nê·¸ëŸ¬ë‚˜ ì „ë©´Â·ì¸¡ë©´ ë“± í•„ìˆ˜ ê´€ì°° ìš”ì†Œê°€ í™•ì¸ë˜ì§€ ì•Šìœ¼ë©´ \"true\".\n\nâ”€â”€â”€â”€â”€\n[ì¹´í…Œê³ ë¦¬ë³„ ì¤‘ìš” ë…¸ì¶œ ìš”ì†Œ â€” íŒë‹¨ ì‹œ ë°˜ë“œì‹œ ê³ ë ¤]\n\nìƒì˜(ìì¼“, í‹°ì…”ì¸ , ë‹ˆíŠ¸ ë“±): ì–´ê¹¨ì„ , ì•”í™€, ëª¸íŒ ì „ì²´ ì‹¤ë£¨ì—£, ì†Œë§¤, ë°‘ë‹¨, ì£¼ë¨¸ë‹ˆ ì—¬ë¶€\n\ní•˜ì˜(ë°”ì§€/ìŠ¤ì»¤íŠ¸): í—ˆë¦¬ ë¼ì¸, ì‹¤ë£¨ì—£ ì „ì²´, ë°‘ë‹¨\n\nì›í”¼ìŠ¤: ì–´ê¹¨~ë°‘ë‹¨ ì „ì²´ ì‹¤ë£¨ì—£\n\nì•„ìš°í„°: ì¹´ë¼/ë¼í , ì–´ê¹¨ì„ , ì†Œë§¤ ì „ì²´, ëª¸íŒ ì „ì²´, ì£¼ë¨¸ë‹ˆ ì—¬ë¶€\n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n[ì¶œë ¥ í˜•ì‹(JSONë§Œ ë°˜í™˜)]\n\n{\n  \"is_occluded\": true | false,\n  \"reason\": \"ì™œ ì´ë ‡ê²Œ íŒë‹¨í–ˆëŠ”ì§€ ìƒì„¸ ì„¤ëª…\"\n}\n\n\ntrue â†’ ì œí’ˆì´ ê°€ë ¤ì ¸ ìˆì–´ ìƒˆ ì´ë¯¸ì§€ ìƒì„±ì— ë¶€ì í•©\n\nfalse â†’ ì œí’ˆì´ ì˜¨ì „íˆ ë³´ì´ë©° ìƒì„± ê°€ëŠ¥",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        -2000,
        720
      ],
      "id": "3a2d4d71-03f7-4a86-aac1-ee855464ce91",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -2000,
        896
      ],
      "id": "4169a9a6-3d27-4ae3-8846-30b10218755b",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "e7t27ilShPQLOWu7",
          "name": "Google Geminie Soonicron API"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $('get images API').all()[0].json.data.category }}"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        -1904,
        896
      ],
      "id": "f3d09956-d3e9-435a-972b-ad220d5a0b6b",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "operation": "toBinary",
        "sourceProperty": "ThumbNailImageBase64",
        "binaryPropertyName": "Image",
        "options": {}
      },
      "type": "n8n-nodes-base.convertToFile",
      "typeVersion": 1.1,
      "position": [
        -2160,
        720
      ],
      "id": "a368db7d-1024-4f26-9f55-ff480c915a11",
      "name": "convert imageFIle1"
    },
    {
      "parameters": {
        "jsCode": "const items = $input.all();\n\n// ê° ì•„ì´í…œì„ ê°œë³„ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ì—¬ ê²°ê³¼ ì•„ì´í…œ ë°°ì—´ ìƒì„±\nconst results = items.map(i => {\n  const raw = i.json.output;\n\n  // ```json ``` ë¸”ë¡ ì œê±°\n  const cleaned = String(raw ?? \"\")\n    .replace(/```json/g, \"\")\n    .replace(/```/g, \"\")\n    .trim();\n\n  // JSON íŒŒì‹±\n  let parsed;\n  try {\n    parsed = JSON.parse(cleaned);\n  } catch (e) {\n    parsed = { error: \"JSON parsing failed\", raw: cleaned };\n  }\n\n  // ê°œë³„ ì•„ì´í…œìœ¼ë¡œ ë°˜í™˜\n  return {\n    json: parsed\n  };\n});\n\nreturn results;\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1712,
        720
      ],
      "id": "ee7f76b3-f098-49ff-85f7-c5763ecb7fe0",
      "name": "JSON parsing5"
    },
    {
      "parameters": {
        "jsCode": "// ì…ë ¥ í•„ë“œ ì´ë¦„ë§Œ ë³€ê²½í•´ì„œ ì‚¬ìš©í•˜ì„¸ìš”.\nconst ThumbNailImage = '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'\n\n\n\n\nlet ThumbNailImageBase64 = null;\n\n// ë¬¸ìì—´ì¸ì§€ ì²´í¬\nif (typeof ThumbNailImage === \"string\" && ThumbNailImage.includes(\",\")) {\n  ThumbNailImageBase64 = ThumbNailImage.split(\",\")[1];\n}\n\n\nreturn [\n  {\n    json: {\n      ThumbNailImageBase64: ThumbNailImageBase64\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2352,
        720
      ],
      "id": "ee4f14cd-efd7-4c8a-8a3c-d4e2dc1836a9",
      "name": "make pure thumbnail image"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=http://{{ $('When Executed by Another Workflow').all()[0].json.IP }}/api/products/update-ai-images",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"productNumber\": \n    \"{{ $('When Executed by Another Workflow').all()[0].json.ProductID }}\",\n  \"AIThumbNailImage\": \n    \"{{ $('get images API').all()[0].json.data.thumbNailImageBase64 }}\",\n  \"AIMainImageUrls\": \n    [{{ $json.mainImagesresultBase64 }}],\n  \n  \"AISubImageUrls\": \n    [{{ $json.subImagesresultBase64 }}]\n}\n",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        -1216,
        496
      ],
      "id": "2f4f0e01-0502-43c8-a15e-c75c6b41569e",
      "name": "HTTP Request"
    },
    {
      "parameters": {
        "jsCode": "// ëª¨ë“  input items ê°€ì ¸ì˜¤ê¸°\nconst items = $('get images API').all();\n\nlet mainImagesList = [];\nlet subImagesList = [];\n\nfor (const item of items) {\n  const arr = item.json.data.mainImagesBase64;\n  if (Array.isArray(arr)) {\n    mainImagesList.push(...arr); \n  }\n}\n\nfor (const item of items) {\n  const arr = item.json.data.subImagesBase64;\n  if (Array.isArray(arr)) {\n    subImagesList.push(...arr); \n  }\n}\n\nconst mainImagesbase64List = mainImagesList\n  .map(str => {\n    if (!str) return null;\n\n    const parts = str.split(\",\");\n    return parts[1] ? parts[1] : parts[0]; \n  })\n  .filter(b => b); \n\nconst subImagesbase64List = subImagesList\n  .map(str => {\n    if (!str) return null;\n\n    const parts = str.split(\",\");\n    return parts[1] ? parts[1] : parts[0]; \n  })\n  .filter(b => b); \n\n\n\nconst mainImagesresult = mainImagesbase64List\n  .map(b => `\"${b}\"`)\n  .join(\", \"); \n\nconst subImagesresult = subImagesbase64List\n  .map(b => `\"${b}\"`)\n  .join(\", \"); \n\nreturn [\n  {\n    json: {\n      mainImagesresultBase64: mainImagesresult,\n      subImagesresultBase64: subImagesresult\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1360,
        496
      ],
      "id": "2d76d941-bf26-4e95-8ac0-ce4d14a2c066",
      "name": "Code in JavaScript"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "4126ad34-525e-4e3b-9a38-6e24bf2a171c",
              "leftValue": "={{ $json.is_occluded}}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -1552,
        720
      ],
      "id": "0a4adfc8-cf37-4b37-be39-7ade2cf6320d",
      "name": "is thumbnail occluded?"
    },
    {
      "parameters": {
        "jsCode": "const prompt = `\n[ì‹œìŠ¤í…œ ì—­í• ]  \në‹¹ì‹ ì€ ì˜ë¥˜ ë¦¬í„°ì¹­ ë° íŒ¨ì…˜ ë””ì§€í„¸ í•©ì„± ì „ë¬¸ê°€ì…ë‹ˆë‹¤.  \në‘ ì¥ì˜ ì´ë¯¸ì§€ë¥¼ ë¶„ì„í•˜ì—¬ ë‹¤ìŒ ê·œì¹™ì— ë”°ë¼ ìƒˆë¡œìš´ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ì‹­ì‹œì˜¤.\n\n[ì…ë ¥ ì´ë¯¸ì§€ ì„¤ëª…]  \n- ì´ë¯¸ì§€ #1 : ìµœì¢… ê²°ê³¼ì—ì„œ **ëª¨ë¸ì˜ ì–¼êµ´, ì²´í˜•, í¬ì¦ˆ, ì¹´ë©”ë¼ ê°ë„, ì¡°ëª…**ì„ ê·¸ëŒ€ë¡œ ìœ ì§€í•´ì•¼ í•˜ëŠ” ê¸°ì¤€ ì´ë¯¸ì§€  \n- ì´ë¯¸ì§€ #2 : ëª¨ë¸ì´ ì…ê³  ìˆëŠ” **ì˜ë¥˜ì˜ ìƒ‰ìƒ ì •ë³´ë§Œ ì¶”ì¶œ**í•´ì•¼ í•˜ëŠ” ì°¸ê³  ì´ë¯¸ì§€  \n\n[í•µì‹¬ ì§€ì‹œì‚¬í•­]\n\n1. **ì´ë¯¸ì§€ #1ì˜ ìš”ì†ŒëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€**\n   - ëª¨ë¸ì˜ ì–¼êµ´ íŠ¹ì§•, ì²´í˜•, í—¤ì–´ìŠ¤íƒ€ì¼  \n   - í¬ì¦ˆ, ì† ìœ„ì¹˜, ë‹¤ë¦¬ ê°ë„  \n   - ì¹´ë©”ë¼ êµ¬ë„, ì¡°ëª… ë¶„ìœ„ê¸°  \n   - ë°°ê²½ê³¼ ì „ì²´ì ì¸ ì¥ë©´ êµ¬ì„±  \n\n2. **ì´ë¯¸ì§€ #2ì—ì„œ ê°€ì ¸ì˜¤ëŠ” ìš”ì†Œ**\n   - ì˜ë¥˜ì˜ **ì •í™•í•œ ìƒ‰ìƒ(Color only)**  \n   - ìƒ‰ì¡°, ì±„ë„, ëª…ë„ ë“± í†¤ ì •ë³´   \n   - *ë””ìì¸ì´ë‚˜ í˜•íƒœëŠ” ì ˆëŒ€ ë³€ê²½í•˜ì§€ ì•ŠìŒ.*\n\n3. **ì ˆëŒ€ ë³€ê²½í•˜ê±°ë‚˜ ê°€ì ¸ì˜¤ì§€ ë§ì•„ì•¼ í•  ê²ƒ**\n   - ì´ë¯¸ì§€ #2ì˜ ëª¨ë¸ ì–¼êµ´Â·í¬ì¦ˆ  \n   - ì´ë¯¸ì§€ #2ì˜ ì˜ìƒ í˜•íƒœ(ë””ìì¸, ì‹¤ë£¨ì—£, íŒ¨í„´)  \n   - ì´ë¯¸ì§€ #2ì˜ ë°°ê²½ ë° ì†Œí’ˆ  \n   - ì´ë¯¸ì§€ #1ì˜ ì˜ìƒ ë””ìì¸ì€ ì ˆëŒ€ ë³€ê²½ ê¸ˆì§€  \n     â†’ ì˜¤ì§ \"ìƒ‰ìƒ\"ë§Œ ëŒ€ì²´ ì ìš©  \n\n4. **ìµœì¢… ìƒì„± ì´ë¯¸ì§€ ìš”êµ¬ì‚¬í•­**\n   - ì´ë¯¸ì§€ #1ì˜ ì˜· **í˜•íƒœì™€ ì§ˆê°ì€ ìœ ì§€í•˜ë˜**,  \n     ìƒ‰ìƒë§Œ ì´ë¯¸ì§€ #2ì˜ ìƒ‰ê³¼ ì¼ê´€ë˜ê²Œ ì ìš©  \n   - ë¶€ìì—°ìŠ¤ëŸ½ê±°ë‚˜ ë©ì–´ë¦¬ì§„ ìƒ‰ ë²ˆì§ ì—†ì´ ìì—°ìŠ¤ëŸ¬ìš´ ì¬ì§ˆ í‘œí˜„  \n   - ì „ì²´ ì‚¬ì§„ í’ˆì§ˆì€ ì›ë³¸ ì´ìƒìœ¼ë¡œ ì„ ëª…í•˜ê³  ê¹¨ë—í•˜ê²Œ  \n\n[ì¶œë ¥ í˜•ì‹]  \n\"ì´ë¯¸ì§€ #1ì˜ ëª¨ë¸ê³¼ í¬ì¦ˆëŠ” ë™ì¼í•˜ê²Œ ìœ ì§€í•˜ê³ , ì˜ìƒì˜ ìƒ‰ìƒë§Œ ì´ë¯¸ì§€ #2ì˜ ìƒ‰ìƒìœ¼ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ ëŒ€ì²´í•œ ê³ í•´ìƒë„ íŒ¨ì…˜ í•©ì„± ì´ë¯¸ì§€ ìƒì„±.\"\n\n`;\n\nreturn [\n  {\n    json: {\n      cleanedPrompt: JSON.stringify(prompt)\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4752,
        1536
      ],
      "id": "59cf0552-115d-4355-834e-9a929c75341d",
      "name": "make pure background-removed prompt1"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://generativelanguage.googleapis.com/v1beta/models/gemini-3-pro-image-preview:generateContent\n",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"contents\" : [{\n    \"parts\": [\n      {\n          \"text\": {{ $json.cleanedPrompt }} },\n      {\n        \"inline_data\": {\n          \"mime_type\": \"image/jpeg\",\n          \"data\": \"{{ $('resize thumbnail1').all()[0].json.ThumbnailImage_Base64 }}\"\n        }\n      }\n    ]\n  }],\n  \"generationConfig\": {\n    \"responseModalities\": [\"TEXT\", \"IMAGE\"],\n    \"imageConfig\": {\n      \"aspectRatio\": \"4:5\",\n      \"imageSize\": \"1K\"\n    }\n  } \n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        -2512,
        1104
      ],
      "id": "b199419d-835c-4440-9f50-9910dcb9e303",
      "name": "create model-cut ",
      "retryOnFail": true,
      "waitBetweenTries": 5000,
      "credentials": {
        "httpHeaderAuth": {
          "id": "evcIz8tBtY6ypLqT",
          "name": "Soonicorn_GeminiAPI"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const prompt = `\n[ì‹œìŠ¤í…œ ì—­í• ]\në‹¹ì‹ ì€ ì—„ê²©í•œ ê·œì •ì„ ë”°ë¥´ëŠ” ì „ë¬¸ íŒ¨ì…˜ ì´ì»¤ë¨¸ìŠ¤ ì—ë””í„°ì´ë©°, íŠ¹ì • ëª¨ë¸ì˜ ì¼ê´€ëœ ì™¸í˜•ì„ ìœ ì§€í•´ì•¼ í•˜ëŠ” ì„ë¬´ë¥¼ ë°›ì•˜ìŠµë‹ˆë‹¤.\n\nì„ë¬´:\nëª¨ë¸ì˜ í¬ì¦ˆë§Œ ì•„ë˜ ì§€ì‹œì‚¬í•­ì— ë”°ë¼ êµì²´ëœ ìƒˆë¡œìš´ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ì‹­ì‹œì˜¤.\n\nI. [ëª¨ë¸ í˜ë¥´ì†Œë‚˜ ì¹´ë“œ] â€“ ì¼ê´€ì„± ìœ ì§€ (Critical Model Consistency)\n- 20ëŒ€ í›„ë°˜~30ëŒ€ ì´ˆë°˜ ì„¸ë ¨ëœ í•œêµ­ ëª¨ë¸\n- ì–¼êµ´ ì „ì²´ ëª…í™•íˆ ë³´ì„, ì‹œí¬í•˜ê³  ë¬´ì‹¬í•œ í‘œì •\n- ì…ì²´ì  ì´ëª©êµ¬ë¹„\n- ì‹œì„ : ì •ë©´ ë˜ëŠ” ì•½ê°„ ë¹„ì¼œê°\n- ìì—°ìŠ¤ëŸ¬ìš´ ì§ˆê°ì˜ ì§§ì€ ë‹¨ë°œ~ë¯¸ë””ì—„ í—¤ì–´, ì§™ì€ ê°ˆìƒ‰\n- ë§¤íŠ¸í•˜ê³  ê±´ê°•í•œ ì¿¨í†¤ í”¼ë¶€, ìì—°ìŠ¤ëŸ¬ìš´ ë©”ì´í¬ì—…\n- ë¶„ìœ„ê¸°: ë„ì‹œì , ì „ë¬¸ì , í•˜ì´ì—”ë“œ í™”ë³´\n\nII. ì´ë¯¸ì§€ ìƒì„± ê·œì¹™ (ì›ë³¸ ì°©ì¥ 100% ìœ ì§€, í¬ì¦ˆë§Œ ë³€ê²½)âš ï¸ í•µì‹¬ ì›ì¹™: ì¸í’‹ ì´ë¯¸ì§€ì˜ ëª¨ë¸ ì°©ì¥ì„ ì™„ë²½íˆ ë™ì¼í•˜ê²Œ ìœ ì§€í•˜ê³ , í¬ì¦ˆë§Œ ë³€ê²½í•©ë‹ˆë‹¤.ğŸ”’ ì›ë³¸ ì°©ì¥ ì™„ì „ ë³´ì¡´ (CRITICAL - DO NOT MODIFY)\nìƒì˜/ì•„ìš°í„°: ì›ë³¸ê³¼ 100% ë™ì¼ (ìƒ‰ìƒ/í•/ì†Œì¬/ë²„íŠ¼/í¬ì¼“/ì§ˆê°/íŒ¨í„´/ì£¼ë¦„/ë””í…Œì¼)\ní•˜ì˜: ì›ë³¸ ì´ë¯¸ì§€ì˜ í•˜ì˜ ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¢…ë¥˜/ìƒ‰ìƒ/í•/ì†Œì¬ ë³€ê²½ ê¸ˆì§€)\nì‹ ë°œ: ì›ë³¸ ì´ë¯¸ì§€ì˜ ì‹ ë°œ ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¢…ë¥˜/ìƒ‰ìƒ/ìŠ¤íƒ€ì¼ ë³€ê²½ ê¸ˆì§€)\nê°€ë°©/ì•¡ì„¸ì„œë¦¬: ì›ë³¸ ì´ë¯¸ì§€ì— ìˆëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¶”ê°€/ì œê±°/ë³€ê²½ ê¸ˆì§€)\nì „ì²´ ì½”ë””: ì¸í’‹ ì´ë¯¸ì§€ì˜ ì°©ì¥ì„ 1pxë„ ë³€ê²½í•˜ì§€ ì•ŠìŒ\n\nâŒ ì ˆëŒ€ ê¸ˆì§€:\ní•˜ì˜ë¥¼ ë‹¤ë¥¸ ì¢…ë¥˜ë¡œ êµì²´\nì‹ ë°œì„ ë‹¤ë¥¸ ì¢…ë¥˜ë¡œ êµì²´\nê°€ë°©ì„ ì¶”ê°€/ì œê±°/ë³€ê²½\nì•¡ì„¸ì„œë¦¬ë¥¼ ì¶”ê°€/ì œê±°/ë³€ê²½\nì›ë³¸ì— ì—†ëŠ” ì•„ì´í…œ ì¶”ê°€\nì›ë³¸ì— ìˆëŠ” ì•„ì´í…œ ì œê±°\n\nIII. Leg-Elongation Rule (í•„ìˆ˜ ì ìš©)\n- ëª¨ë¸ì˜ ë‹¤ë¦¬ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ê¸¸ê³  ìŠ¬ë¦¼í•˜ê²Œ ì—°ì¶œ\n- ì‹ ì²´ê°€ ë¶€ìì—°ìŠ¤ëŸ½ì§€ ì•Šë„ë¡ í”„ë¡œ íŒ¨ì…˜ ì´¬ì˜ ë¹„ìœ¨ë¡œ ì¡°ì •\n- ìƒì˜/ì•„ìš°í„° ì‹¤ë£¨ì—£ì€ ë³€í˜• ê¸ˆì§€  \n- í•˜ì˜ ì‹¤ë£¨ì—£ ê·¸ëŒ€ë¡œ ìœ ì§€  \n- ë°œÂ·ë°”ë‹¥Â·ê·¸ë¦¼ì ìì—°ìŠ¤ëŸ¬ìš´ ë¹„ë¡€ ìœ ì§€\n\nIV. ì£¼ì˜ì‚¬í•­\n- ì›ë³¸ ìƒí’ˆ ë””í…Œì¼ 1pxë„ ë³€ê²½ ê¸ˆì§€\n- í…ìŠ¤íŠ¸/ë ˆì´ì•„ì›ƒ 100% ë™ì¼í•˜ê²Œ ìœ ì§€\n- ëª¨ë¸ì»·ë§Œ êµì²´\n- ìƒí’ˆ ì¬í˜„ ì •í™•ë„ ìµœìš°ì„ \n\n[í¬ì¦ˆ ì§€ì‹œì‚¬í•­]\nëª¨ë¸ì€ í•œ ì†ì€ ë°”ì§€ ì£¼ë¨¸ë‹ˆì— ë„£ê³ , ë‹¤ë¥¸ ì†ìœ¼ë¡œëŠ” ê°€ë°©ì„ ë“¤ê³  ìˆìŠµë‹ˆë‹¤.\nëª¸ì˜ ì¤‘ì‹¬ì€ í•œìª½ ë‹¤ë¦¬ì— ì‹¤ë ¤ ìˆìœ¼ë©°, ìì—°ìŠ¤ëŸ½ê³  ì•ˆì •ì ì¸ ìŠ¤íƒ ë”© í¬ì¦ˆì…ë‹ˆë‹¤.\nì‹œì„ ì€ ê°€ë³ê²Œ ì •ë©´ì„ í–¥í•˜ê±°ë‚˜ ì•½ê°„ ì˜†ìœ¼ë¡œ.\nì „ì²´ì ìœ¼ë¡œ íŒ¨ì…˜ í™”ë³´ ê°™ì€ ì—¬ìœ ë¡œìš´ ë¶„ìœ„ê¸°.\nìƒí’ˆì˜ í•Â·ìƒ‰ìƒÂ·ì‹¤ë£¨ì—£ì€ ì›ë³¸ê³¼ ë™ì¼í•˜ê²Œ ìœ ì§€í•˜ì‹­ì‹œì˜¤.\n`;\n\nreturn [\n  {\n    json: {\n      cleanedPrompt: JSON.stringify(prompt)\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2688,
        1104
      ],
      "id": "2cc079fc-cb03-418f-bdba-8c005a8c5b4a",
      "name": "make pure model-cut prompt "
    },
    {
      "parameters": {
        "jsCode": "const prompt = `\n[ì‹œìŠ¤í…œ ì—­í• ]\në‹¹ì‹ ì€ ì—„ê²©í•œ ê·œì •ì„ ë”°ë¥´ëŠ” ì „ë¬¸ íŒ¨ì…˜ ì´ì»¤ë¨¸ìŠ¤ ì—ë””í„°ì´ë©°, íŠ¹ì • ëª¨ë¸ì˜ ì¼ê´€ëœ ì™¸í˜•ì„ ìœ ì§€í•´ì•¼ í•˜ëŠ” ì„ë¬´ë¥¼ ë°›ì•˜ìŠµë‹ˆë‹¤.\n\nì„ë¬´:\nëª¨ë¸ì˜ í¬ì¦ˆë§Œ ì•„ë˜ ì§€ì‹œì‚¬í•­ì— ë”°ë¼ êµì²´ëœ ìƒˆë¡œìš´ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ì‹­ì‹œì˜¤.\n\n\nI. [ëª¨ë¸ í˜ë¥´ì†Œë‚˜ ì¹´ë“œ] â€“ ì¼ê´€ì„± ìœ ì§€ (Critical Model Consistency)\n- 20ëŒ€ í›„ë°˜~30ëŒ€ ì´ˆë°˜ ì„¸ë ¨ëœ í•œêµ­ ëª¨ë¸\n- ì–¼êµ´ ì „ì²´ ëª…í™•íˆ ë³´ì„, ì‹œí¬í•˜ê³  ë¬´ì‹¬í•œ í‘œì •\n- ì…ì²´ì  ì´ëª©êµ¬ë¹„\n- ì‹œì„ : ì •ë©´ ë˜ëŠ” ì•½ê°„ ë¹„ì¼œê°\n- ìì—°ìŠ¤ëŸ¬ìš´ ì§ˆê°ì˜ ì§§ì€ ë‹¨ë°œ~ë¯¸ë””ì—„ í—¤ì–´, ì§™ì€ ê°ˆìƒ‰\n- ë§¤íŠ¸í•˜ê³  ê±´ê°•í•œ ì¿¨í†¤ í”¼ë¶€, ìì—°ìŠ¤ëŸ¬ìš´ ë©”ì´í¬ì—…\n- ë¶„ìœ„ê¸°: ë„ì‹œì , ì „ë¬¸ì , í•˜ì´ì—”ë“œ í™”ë³´\n\nII. ì´ë¯¸ì§€ ìƒì„± ê·œì¹™ (ì›ë³¸ ì°©ì¥ 100% ìœ ì§€, í¬ì¦ˆë§Œ ë³€ê²½)âš ï¸ í•µì‹¬ ì›ì¹™: ì¸í’‹ ì´ë¯¸ì§€ì˜ ëª¨ë¸ ì°©ì¥ì„ ì™„ë²½íˆ ë™ì¼í•˜ê²Œ ìœ ì§€í•˜ê³ , í¬ì¦ˆë§Œ ë³€ê²½í•©ë‹ˆë‹¤.ğŸ”’ ì›ë³¸ ì°©ì¥ ì™„ì „ ë³´ì¡´ (CRITICAL - DO NOT MODIFY)\nìƒì˜/ì•„ìš°í„°: ì›ë³¸ê³¼ 100% ë™ì¼ (ìƒ‰ìƒ/í•/ì†Œì¬/ë²„íŠ¼/í¬ì¼“/ì§ˆê°/íŒ¨í„´/ì£¼ë¦„/ë””í…Œì¼)\ní•˜ì˜: ì›ë³¸ ì´ë¯¸ì§€ì˜ í•˜ì˜ ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¢…ë¥˜/ìƒ‰ìƒ/í•/ì†Œì¬ ë³€ê²½ ê¸ˆì§€)\nì‹ ë°œ: ì›ë³¸ ì´ë¯¸ì§€ì˜ ì‹ ë°œ ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¢…ë¥˜/ìƒ‰ìƒ/ìŠ¤íƒ€ì¼ ë³€ê²½ ê¸ˆì§€)\nê°€ë°©/ì•¡ì„¸ì„œë¦¬: ì›ë³¸ ì´ë¯¸ì§€ì— ìˆëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¶”ê°€/ì œê±°/ë³€ê²½ ê¸ˆì§€)\nì „ì²´ ì½”ë””: ì¸í’‹ ì´ë¯¸ì§€ì˜ ì°©ì¥ì„ 1pxë„ ë³€ê²½í•˜ì§€ ì•ŠìŒ\n\nâŒ ì ˆëŒ€ ê¸ˆì§€:\ní•˜ì˜ë¥¼ ë‹¤ë¥¸ ì¢…ë¥˜ë¡œ êµì²´\nì‹ ë°œì„ ë‹¤ë¥¸ ì¢…ë¥˜ë¡œ êµì²´\nê°€ë°©ì„ ì¶”ê°€/ì œê±°/ë³€ê²½\nì•¡ì„¸ì„œë¦¬ë¥¼ ì¶”ê°€/ì œê±°/ë³€ê²½\nì›ë³¸ì— ì—†ëŠ” ì•„ì´í…œ ì¶”ê°€\nì›ë³¸ì— ìˆëŠ” ì•„ì´í…œ ì œê±°\n\nIII. Leg-Elongation Rule (í•„ìˆ˜ ì ìš©)\n- ëª¨ë¸ì˜ ë‹¤ë¦¬ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ê¸¸ê³  ìŠ¬ë¦¼í•˜ê²Œ ì—°ì¶œ\n- ì‹ ì²´ê°€ ë¶€ìì—°ìŠ¤ëŸ½ì§€ ì•Šë„ë¡ í”„ë¡œ íŒ¨ì…˜ ì´¬ì˜ ë¹„ìœ¨ë¡œ ì¡°ì •\n- ìƒì˜/ì•„ìš°í„° ì‹¤ë£¨ì—£ì€ ë³€í˜• ê¸ˆì§€  \n- í•˜ì˜ ì‹¤ë£¨ì—£ ê·¸ëŒ€ë¡œ ìœ ì§€  \n- ë°œÂ·ë°”ë‹¥Â·ê·¸ë¦¼ì ìì—°ìŠ¤ëŸ¬ìš´ ë¹„ë¡€ ìœ ì§€\n\nIV. ì£¼ì˜ì‚¬í•­\n- ì›ë³¸ ìƒí’ˆ ë””í…Œì¼ 1pxë„ ë³€ê²½ ê¸ˆì§€\n- í…ìŠ¤íŠ¸/ë ˆì´ì•„ì›ƒ 100% ë™ì¼í•˜ê²Œ ìœ ì§€\n- ëª¨ë¸ì»·ë§Œ êµì²´\n- ìƒí’ˆ ì¬í˜„ ì •í™•ë„ ìµœìš°ì„ \n\n[í¬ì¦ˆ ì§€ì‹œì‚¬í•­]\nFull body shot.\nëª¨ë¸ì´ ìì—°ìŠ¤ëŸ½ê²Œ ê±¸ì–´ì˜¤ëŠ” ë“¯í•œ ì›Œí‚¹ í¬ì¦ˆë¥¼ ì·¨í•©ë‹ˆë‹¤.\ní•œ ë°œì€ ì•ìœ¼ë¡œ ë‚´ë”›ê³ , ë‹¤ë¥¸ ë°œì€ ë’¤ì—ì„œ ë”°ë¼ì˜¤ëŠ” ìì—°ìŠ¤ëŸ¬ìš´ ë³´í­.\níŒ”ì€ ê±¸ìŒì— ë”°ë¼ ì‚´ì§ í”ë“¤ë¦¬ëŠ” ë“¯í•œ í¸ì•ˆí•œ ë™ì‘.\nì‹œì„ ì€ ì•½ê°„ ì•„ë˜ìª½ì´ë‚˜ ì •ë©´ ê°€ê¹Œì´ ìœ ì§€.\nê³¼ì¥ë˜ì§€ ì•Šì€ ìì—°ìŠ¤ëŸ¬ìš´ ëŸ°ì›¨ì´ ìŠ¤íƒ€ì¼ ê±·ê¸° í¬ì¦ˆ.\nì „ì²´ì ìœ¼ë¡œ ë„ì‹œì ì´ê³  ìì‹ ê° ìˆëŠ” íŒ¨ì…˜ ì›Œí‚¹ ëŠë‚Œ.\nì‹¤ë£¨ì—£ì´ ííŠ¸ëŸ¬ì§€ì§€ ì•Šê³  ê¹”ë”í•˜ê²Œ ìœ ì§€ë˜ë„ë¡ ì²˜ë¦¬.\n`;\n\nreturn [\n  {\n    json: {\n      cleanedPrompt: JSON.stringify(prompt)\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2688,
        1264
      ],
      "id": "e8ca8bef-756c-479d-b6dd-860936d9bd9d",
      "name": "make pure model-cut prompt 7"
    },
    {
      "parameters": {
        "jsCode": "const prompt = `\n[ì‹œìŠ¤í…œ ì—­í• ]\në‹¹ì‹ ì€ ì—„ê²©í•œ ê·œì •ì„ ë”°ë¥´ëŠ” ì „ë¬¸ íŒ¨ì…˜ ì´ì»¤ë¨¸ìŠ¤ ì—ë””í„°ì´ë©°, íŠ¹ì • ëª¨ë¸ì˜ ì¼ê´€ëœ ì™¸í˜•ì„ ìœ ì§€í•´ì•¼ í•˜ëŠ” ì„ë¬´ë¥¼ ë°›ì•˜ìŠµë‹ˆë‹¤.\n\nì„ë¬´:\nëª¨ë¸ì˜ í¬ì¦ˆë§Œ ì•„ë˜ ì§€ì‹œì‚¬í•­ì— ë”°ë¼ êµì²´ëœ ìƒˆë¡œìš´ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ì‹­ì‹œì˜¤.\n\n\nI. [ëª¨ë¸ í˜ë¥´ì†Œë‚˜ ì¹´ë“œ] â€“ ì¼ê´€ì„± ìœ ì§€ (Critical Model Consistency)\n- 20ëŒ€ í›„ë°˜~30ëŒ€ ì´ˆë°˜ ì„¸ë ¨ëœ í•œêµ­ ëª¨ë¸\n- ì–¼êµ´ ì „ì²´ ëª…í™•íˆ ë³´ì„, ì‹œí¬í•˜ê³  ë¬´ì‹¬í•œ í‘œì •\n- ì…ì²´ì  ì´ëª©êµ¬ë¹„\n- ì‹œì„ : ì •ë©´ ë˜ëŠ” ì•½ê°„ ë¹„ì¼œê°\n- ìì—°ìŠ¤ëŸ¬ìš´ ì§ˆê°ì˜ ì§§ì€ ë‹¨ë°œ~ë¯¸ë””ì—„ í—¤ì–´, ì§™ì€ ê°ˆìƒ‰\n- ë§¤íŠ¸í•˜ê³  ê±´ê°•í•œ ì¿¨í†¤ í”¼ë¶€, ìì—°ìŠ¤ëŸ¬ìš´ ë©”ì´í¬ì—…\n- ë¶„ìœ„ê¸°: ë„ì‹œì , ì „ë¬¸ì , í•˜ì´ì—”ë“œ í™”ë³´\n\nII. ì´ë¯¸ì§€ ìƒì„± ê·œì¹™ (ì›ë³¸ ì°©ì¥ 100% ìœ ì§€, í¬ì¦ˆë§Œ ë³€ê²½)âš ï¸ í•µì‹¬ ì›ì¹™: ì¸í’‹ ì´ë¯¸ì§€ì˜ ëª¨ë¸ ì°©ì¥ì„ ì™„ë²½íˆ ë™ì¼í•˜ê²Œ ìœ ì§€í•˜ê³ , í¬ì¦ˆë§Œ ë³€ê²½í•©ë‹ˆë‹¤.ğŸ”’ ì›ë³¸ ì°©ì¥ ì™„ì „ ë³´ì¡´ (CRITICAL - DO NOT MODIFY)\nìƒì˜/ì•„ìš°í„°: ì›ë³¸ê³¼ 100% ë™ì¼ (ìƒ‰ìƒ/í•/ì†Œì¬/ë²„íŠ¼/í¬ì¼“/ì§ˆê°/íŒ¨í„´/ì£¼ë¦„/ë””í…Œì¼)\ní•˜ì˜: ì›ë³¸ ì´ë¯¸ì§€ì˜ í•˜ì˜ ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¢…ë¥˜/ìƒ‰ìƒ/í•/ì†Œì¬ ë³€ê²½ ê¸ˆì§€)\nì‹ ë°œ: ì›ë³¸ ì´ë¯¸ì§€ì˜ ì‹ ë°œ ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¢…ë¥˜/ìƒ‰ìƒ/ìŠ¤íƒ€ì¼ ë³€ê²½ ê¸ˆì§€)\nê°€ë°©/ì•¡ì„¸ì„œë¦¬: ì›ë³¸ ì´ë¯¸ì§€ì— ìˆëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¶”ê°€/ì œê±°/ë³€ê²½ ê¸ˆì§€)\nì „ì²´ ì½”ë””: ì¸í’‹ ì´ë¯¸ì§€ì˜ ì°©ì¥ì„ 1pxë„ ë³€ê²½í•˜ì§€ ì•ŠìŒ\n\nâŒ ì ˆëŒ€ ê¸ˆì§€:\ní•˜ì˜ë¥¼ ë‹¤ë¥¸ ì¢…ë¥˜ë¡œ êµì²´\nì‹ ë°œì„ ë‹¤ë¥¸ ì¢…ë¥˜ë¡œ êµì²´\nê°€ë°©ì„ ì¶”ê°€/ì œê±°/ë³€ê²½\nì•¡ì„¸ì„œë¦¬ë¥¼ ì¶”ê°€/ì œê±°/ë³€ê²½\nì›ë³¸ì— ì—†ëŠ” ì•„ì´í…œ ì¶”ê°€\nì›ë³¸ì— ìˆëŠ” ì•„ì´í…œ ì œê±°\n\nIII. Leg-Elongation Rule (í•„ìˆ˜ ì ìš©)\n- ëª¨ë¸ì˜ ë‹¤ë¦¬ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ê¸¸ê³  ìŠ¬ë¦¼í•˜ê²Œ ì—°ì¶œ\n- ì‹ ì²´ê°€ ë¶€ìì—°ìŠ¤ëŸ½ì§€ ì•Šë„ë¡ í”„ë¡œ íŒ¨ì…˜ ì´¬ì˜ ë¹„ìœ¨ë¡œ ì¡°ì •\n- ìƒì˜/ì•„ìš°í„° ì‹¤ë£¨ì—£ì€ ë³€í˜• ê¸ˆì§€  \n- í•˜ì˜ ì‹¤ë£¨ì—£ ê·¸ëŒ€ë¡œ ìœ ì§€  \n- ë°œÂ·ë°”ë‹¥Â·ê·¸ë¦¼ì ìì—°ìŠ¤ëŸ¬ìš´ ë¹„ë¡€ ìœ ì§€\n\nIV. ì£¼ì˜ì‚¬í•­\n- ì›ë³¸ ìƒí’ˆ ë””í…Œì¼ 1pxë„ ë³€ê²½ ê¸ˆì§€\n- í…ìŠ¤íŠ¸/ë ˆì´ì•„ì›ƒ 100% ë™ì¼í•˜ê²Œ ìœ ì§€\n- ëª¨ë¸ì»·ë§Œ êµì²´\n- ìƒí’ˆ ì¬í˜„ ì •í™•ë„ ìµœìš°ì„ \n\n[í¬ì¦ˆ ì§€ì‹œì‚¬í•­]\nëª¨ë¸ì€ ì •ë©´ì„ ë³´ê³  ì„œ ìˆìœ¼ë©°,\në‘ ì†ì„ ëª¨ë‘ ë°”ì§€ ì£¼ë¨¸ë‹ˆì— ë„£ê³  ìˆìŠµë‹ˆë‹¤.\nì–´ê¹¨ëŠ” ì•„ì£¼ ì•½ê°„ ì•ìœ¼ë¡œ ê¸°ìš¸ì–´ì ¸ ìì—°ìŠ¤ëŸ¬ìš´ ë¬´ì‹¬í•œ ëŠë‚Œì„ ì¤ë‹ˆë‹¤.\nì‹œì„ ì€ ì •ë©´ì„ í–¥í•˜ë©°, ì‹œí¬í•˜ê³  í¸ì•ˆí•œ ìŠ¤íƒ ë”© í¬ì¦ˆì…ë‹ˆë‹¤.\nìƒí’ˆ ì‹¤ë£¨ì—£ê³¼ ì§ˆê°ì€ ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ì‹­ì‹œì˜¤.\n`;\n\nreturn [\n  {\n    json: {\n      cleanedPrompt: JSON.stringify(prompt)\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2688,
        1440
      ],
      "id": "dc3f46ea-4662-4665-8cdf-03416f571a8c",
      "name": "make pure model-cut prompt 8"
    },
    {
      "parameters": {
        "jsCode": "const prompt = `\n[ì‹œìŠ¤í…œ ì—­í• ]\në‹¹ì‹ ì€ ì—„ê²©í•œ ê·œì •ì„ ë”°ë¥´ëŠ” ì „ë¬¸ íŒ¨ì…˜ ì´ì»¤ë¨¸ìŠ¤ ì—ë””í„°ì´ë©°, íŠ¹ì • ëª¨ë¸ì˜ ì¼ê´€ëœ ì™¸í˜•ì„ ìœ ì§€í•´ì•¼ í•˜ëŠ” ì„ë¬´ë¥¼ ë°›ì•˜ìŠµë‹ˆë‹¤.\n\nì„ë¬´:\në¨¸ë¦¬ëŠ” ì‚´ì§ ê¸°ìš¸ì–´ ìˆìœ¼ë©°, ì‹œì„ ì€ ì¹´ë©”ë¼ë¥¼ ë²—ì–´ë‚˜ ì˜†ì„ í–¥í•©ë‹ˆë‹¤.\n\n\nI. [ëª¨ë¸ í˜ë¥´ì†Œë‚˜ ì¹´ë“œ] â€“ ì¼ê´€ì„± ìœ ì§€ (Critical Model Consistency)\n- 20ëŒ€ í›„ë°˜~30ëŒ€ ì´ˆë°˜ ì„¸ë ¨ëœ í•œêµ­ ëª¨ë¸\n- ì–¼êµ´ ì „ì²´ ëª…í™•íˆ ë³´ì„, ì‹œí¬í•˜ê³  ë¬´ì‹¬í•œ í‘œì •\n- ì…ì²´ì  ì´ëª©êµ¬ë¹„\n- ì‹œì„ : ì •ë©´ ë˜ëŠ” ì•½ê°„ ë¹„ì¼œê°\n- ìì—°ìŠ¤ëŸ¬ìš´ ì§ˆê°ì˜ ì§§ì€ ë‹¨ë°œ~ë¯¸ë””ì—„ í—¤ì–´, ì§™ì€ ê°ˆìƒ‰\n- ë§¤íŠ¸í•˜ê³  ê±´ê°•í•œ ì¿¨í†¤ í”¼ë¶€, ìì—°ìŠ¤ëŸ¬ìš´ ë©”ì´í¬ì—…\n- ë¶„ìœ„ê¸°: ë„ì‹œì , ì „ë¬¸ì , í•˜ì´ì—”ë“œ í™”ë³´\n\nII. ì´ë¯¸ì§€ ìƒì„± ê·œì¹™ (ì›ë³¸ ì°©ì¥ 100% ìœ ì§€, í¬ì¦ˆë§Œ ë³€ê²½)âš ï¸ í•µì‹¬ ì›ì¹™: ì¸í’‹ ì´ë¯¸ì§€ì˜ ëª¨ë¸ ì°©ì¥ì„ ì™„ë²½íˆ ë™ì¼í•˜ê²Œ ìœ ì§€í•˜ê³ , í¬ì¦ˆë§Œ ë³€ê²½í•©ë‹ˆë‹¤.ğŸ”’ ì›ë³¸ ì°©ì¥ ì™„ì „ ë³´ì¡´ (CRITICAL - DO NOT MODIFY)\nìƒì˜/ì•„ìš°í„°: ì›ë³¸ê³¼ 100% ë™ì¼ (ìƒ‰ìƒ/í•/ì†Œì¬/ë²„íŠ¼/í¬ì¼“/ì§ˆê°/íŒ¨í„´/ì£¼ë¦„/ë””í…Œì¼)\ní•˜ì˜: ì›ë³¸ ì´ë¯¸ì§€ì˜ í•˜ì˜ ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¢…ë¥˜/ìƒ‰ìƒ/í•/ì†Œì¬ ë³€ê²½ ê¸ˆì§€)\nì‹ ë°œ: ì›ë³¸ ì´ë¯¸ì§€ì˜ ì‹ ë°œ ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¢…ë¥˜/ìƒ‰ìƒ/ìŠ¤íƒ€ì¼ ë³€ê²½ ê¸ˆì§€)\nê°€ë°©/ì•¡ì„¸ì„œë¦¬: ì›ë³¸ ì´ë¯¸ì§€ì— ìˆëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¶”ê°€/ì œê±°/ë³€ê²½ ê¸ˆì§€)\nì „ì²´ ì½”ë””: ì¸í’‹ ì´ë¯¸ì§€ì˜ ì°©ì¥ì„ 1pxë„ ë³€ê²½í•˜ì§€ ì•ŠìŒ\n\nâŒ ì ˆëŒ€ ê¸ˆì§€:\ní•˜ì˜ë¥¼ ë‹¤ë¥¸ ì¢…ë¥˜ë¡œ êµì²´\nì‹ ë°œì„ ë‹¤ë¥¸ ì¢…ë¥˜ë¡œ êµì²´\nê°€ë°©ì„ ì¶”ê°€/ì œê±°/ë³€ê²½\nì•¡ì„¸ì„œë¦¬ë¥¼ ì¶”ê°€/ì œê±°/ë³€ê²½\nì›ë³¸ì— ì—†ëŠ” ì•„ì´í…œ ì¶”ê°€\nì›ë³¸ì— ìˆëŠ” ì•„ì´í…œ ì œê±°\n\nIII. Leg-Elongation Rule (í•„ìˆ˜ ì ìš©)\n- ëª¨ë¸ì˜ ë‹¤ë¦¬ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ê¸¸ê³  ìŠ¬ë¦¼í•˜ê²Œ ì—°ì¶œ\n- ì‹ ì²´ê°€ ë¶€ìì—°ìŠ¤ëŸ½ì§€ ì•Šë„ë¡ í”„ë¡œ íŒ¨ì…˜ ì´¬ì˜ ë¹„ìœ¨ë¡œ ì¡°ì •\n- ìƒì˜/ì•„ìš°í„° ì‹¤ë£¨ì—£ì€ ë³€í˜• ê¸ˆì§€  \n- í•˜ì˜ ì‹¤ë£¨ì—£ ê·¸ëŒ€ë¡œ ìœ ì§€  \n- ë°œÂ·ë°”ë‹¥Â·ê·¸ë¦¼ì ìì—°ìŠ¤ëŸ¬ìš´ ë¹„ë¡€ ìœ ì§€\n\nIV. ì£¼ì˜ì‚¬í•­\n- ì›ë³¸ ìƒí’ˆ ë””í…Œì¼ 1pxë„ ë³€ê²½ ê¸ˆì§€\n- í…ìŠ¤íŠ¸/ë ˆì´ì•„ì›ƒ 100% ë™ì¼í•˜ê²Œ ìœ ì§€\n- ëª¨ë¸ì»·ë§Œ êµì²´\n- ìƒí’ˆ ì¬í˜„ ì •í™•ë„ ìµœìš°ì„ \n\n[í¬ì¦ˆ ì§€ì‹œì‚¬í•­]\nMedium shot(í—ˆë¦¬~ê°€ìŠ´ ìœ„ ì¤‘ì‹¬ êµ¬ë„).\nëª¨ë¸ì€ ì–‘íŒ”ì„ ê°€ìŠ´ ì•ì—ì„œ ë¶€ë“œëŸ½ê²Œ ê°ì‹¸ë“¯ì´ êµì°¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.\në¨¸ë¦¬ëŠ” ì‚´ì§ ê¸°ìš¸ì–´ ìˆìœ¼ë©°, ì‹œì„ ì€ ì¹´ë©”ë¼ë¥¼ ë²—ì–´ë‚˜ ì˜†ì„ í–¥í•©ë‹ˆë‹¤.\në¶€ë“œëŸ¬ìš´ ë°”ë”” ë­ê·€ì§€, íŒ¨ì…˜ í™”ë³´ ê°™ì€ ë¬´ì‹¬í•œ ë§¤ë ¥.\nìƒí’ˆ ìƒì˜ ë””í…Œì¼ì€ ì ˆëŒ€ ë³€í˜• ì—†ì´ 100% ì¬í˜„í•˜ì‹­ì‹œì˜¤.\n`;\n\nreturn [\n  {\n    json: {\n      cleanedPrompt: JSON.stringify(prompt)\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2688,
        1616
      ],
      "id": "af5961a3-5bd9-4053-927b-aa98d4b0ce27",
      "name": "make pure model-cut prompt 9"
    },
    {
      "parameters": {
        "jsCode": "const prompt = `\n[ì‹œìŠ¤í…œ ì—­í• ]\në‹¹ì‹ ì€ ì—„ê²©í•œ ê·œì •ì„ ë”°ë¥´ëŠ” ì „ë¬¸ íŒ¨ì…˜ ì´ì»¤ë¨¸ìŠ¤ ì—ë””í„°ì´ë©°, íŠ¹ì • ëª¨ë¸ì˜ ì¼ê´€ëœ ì™¸í˜•ì„ ìœ ì§€í•´ì•¼ í•˜ëŠ” ì„ë¬´ë¥¼ ë°›ì•˜ìŠµë‹ˆë‹¤.\n\nì„ë¬´:\nëª¨ë¸ì˜ í¬ì¦ˆë§Œ ì•„ë˜ ì§€ì‹œì‚¬í•­ì— ë”°ë¼ êµì²´ëœ ìƒˆë¡œìš´ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ì‹­ì‹œì˜¤.\n\n\nI. [ëª¨ë¸ í˜ë¥´ì†Œë‚˜ ì¹´ë“œ] â€“ ì¼ê´€ì„± ìœ ì§€ (Critical Model Consistency)\n- 20ëŒ€ í›„ë°˜~30ëŒ€ ì´ˆë°˜ ì„¸ë ¨ëœ í•œêµ­ ëª¨ë¸\n- ì–¼êµ´ ì „ì²´ ëª…í™•íˆ ë³´ì„, ì‹œí¬í•˜ê³  ë¬´ì‹¬í•œ í‘œì •\n- ì…ì²´ì  ì´ëª©êµ¬ë¹„\n- ì‹œì„ : ì •ë©´ ë˜ëŠ” ì•½ê°„ ë¹„ì¼œê°\n- ìì—°ìŠ¤ëŸ¬ìš´ ì§ˆê°ì˜ ì§§ì€ ë‹¨ë°œ~ë¯¸ë””ì—„ í—¤ì–´, ì§™ì€ ê°ˆìƒ‰\n- ë§¤íŠ¸í•˜ê³  ê±´ê°•í•œ ì¿¨í†¤ í”¼ë¶€, ìì—°ìŠ¤ëŸ¬ìš´ ë©”ì´í¬ì—…\n- ë¶„ìœ„ê¸°: ë„ì‹œì , ì „ë¬¸ì , í•˜ì´ì—”ë“œ í™”ë³´\n\nII. ì´ë¯¸ì§€ ìƒì„± ê·œì¹™ (ì›ë³¸ ì°©ì¥ 100% ìœ ì§€, í¬ì¦ˆë§Œ ë³€ê²½)âš ï¸ í•µì‹¬ ì›ì¹™: ì¸í’‹ ì´ë¯¸ì§€ì˜ ëª¨ë¸ ì°©ì¥ì„ ì™„ë²½íˆ ë™ì¼í•˜ê²Œ ìœ ì§€í•˜ê³ , í¬ì¦ˆë§Œ ë³€ê²½í•©ë‹ˆë‹¤.ğŸ”’ ì›ë³¸ ì°©ì¥ ì™„ì „ ë³´ì¡´ (CRITICAL - DO NOT MODIFY)\nìƒì˜/ì•„ìš°í„°: ì›ë³¸ê³¼ 100% ë™ì¼ (ìƒ‰ìƒ/í•/ì†Œì¬/ë²„íŠ¼/í¬ì¼“/ì§ˆê°/íŒ¨í„´/ì£¼ë¦„/ë””í…Œì¼)\ní•˜ì˜: ì›ë³¸ ì´ë¯¸ì§€ì˜ í•˜ì˜ ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¢…ë¥˜/ìƒ‰ìƒ/í•/ì†Œì¬ ë³€ê²½ ê¸ˆì§€)\nì‹ ë°œ: ì›ë³¸ ì´ë¯¸ì§€ì˜ ì‹ ë°œ ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¢…ë¥˜/ìƒ‰ìƒ/ìŠ¤íƒ€ì¼ ë³€ê²½ ê¸ˆì§€)\nê°€ë°©/ì•¡ì„¸ì„œë¦¬: ì›ë³¸ ì´ë¯¸ì§€ì— ìˆëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¶”ê°€/ì œê±°/ë³€ê²½ ê¸ˆì§€)\nì „ì²´ ì½”ë””: ì¸í’‹ ì´ë¯¸ì§€ì˜ ì°©ì¥ì„ 1pxë„ ë³€ê²½í•˜ì§€ ì•ŠìŒ\n\nâŒ ì ˆëŒ€ ê¸ˆì§€:\ní•˜ì˜ë¥¼ ë‹¤ë¥¸ ì¢…ë¥˜ë¡œ êµì²´\nì‹ ë°œì„ ë‹¤ë¥¸ ì¢…ë¥˜ë¡œ êµì²´\nê°€ë°©ì„ ì¶”ê°€/ì œê±°/ë³€ê²½\nì•¡ì„¸ì„œë¦¬ë¥¼ ì¶”ê°€/ì œê±°/ë³€ê²½\nì›ë³¸ì— ì—†ëŠ” ì•„ì´í…œ ì¶”ê°€\nì›ë³¸ì— ìˆëŠ” ì•„ì´í…œ ì œê±°\n\nIII. Leg-Elongation Rule (í•„ìˆ˜ ì ìš©)\n- ëª¨ë¸ì˜ ë‹¤ë¦¬ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ê¸¸ê³  ìŠ¬ë¦¼í•˜ê²Œ ì—°ì¶œ\n- ì‹ ì²´ê°€ ë¶€ìì—°ìŠ¤ëŸ½ì§€ ì•Šë„ë¡ í”„ë¡œ íŒ¨ì…˜ ì´¬ì˜ ë¹„ìœ¨ë¡œ ì¡°ì •\n- ìƒì˜/ì•„ìš°í„° ì‹¤ë£¨ì—£ì€ ë³€í˜• ê¸ˆì§€  \n- í•˜ì˜ ì‹¤ë£¨ì—£ ê·¸ëŒ€ë¡œ ìœ ì§€  \n- ë°œÂ·ë°”ë‹¥Â·ê·¸ë¦¼ì ìì—°ìŠ¤ëŸ¬ìš´ ë¹„ë¡€ ìœ ì§€\n\nIV. ì£¼ì˜ì‚¬í•­\n- ì›ë³¸ ìƒí’ˆ ë””í…Œì¼ 1pxë„ ë³€ê²½ ê¸ˆì§€\n- í…ìŠ¤íŠ¸/ë ˆì´ì•„ì›ƒ 100% ë™ì¼í•˜ê²Œ ìœ ì§€\n- ëª¨ë¸ì»·ë§Œ êµì²´\n- ìƒí’ˆ ì¬í˜„ ì •í™•ë„ ìµœìš°ì„ \n\n[í¬ì¦ˆ ì§€ì‹œì‚¬í•­]\nFull body shot, ë¡œìš° ì•µê¸€ ëŠë‚Œ.\nëª¨ë¸ì€ ë‘ ì†ì„ ë°”ì§€ ì£¼ë¨¸ë‹ˆì— ë„£ê³  í¸ì•ˆíˆ ì„œ ìˆìŠµë‹ˆë‹¤.\në¨¸ë¦¬ëŠ” ì˜†ìœ¼ë¡œ ëŒë ¤ ì¸¡ë©´ í”„ë¡œí•„ ë¼ì¸ì´ ë³´ì´ë„ë¡ í•©ë‹ˆë‹¤.\nì‹œì„ ì€ ë©€ë¦¬ ë‹¤ë¥¸ ê³³ì„ ë°”ë¼ë´…ë‹ˆë‹¤.\ní•˜ì²´ ë¹„ìœ¨ì´ ê¸¸ê³  ìŠ¬ë¦¼í•˜ê²Œ ê°•ì¡°ëœ íŒ¨ì…˜ í™”ë³´ ìŠ¤íƒ€ì¼ë¡œ ì—°ì¶œí•˜ì‹­ì‹œì˜¤.\nìƒí’ˆì˜ í•ê³¼ ë””í…Œì¼ì€ ë³€í˜• ê¸ˆì§€.\n`;\n\nreturn [\n  {\n    json: {\n      cleanedPrompt: JSON.stringify(prompt)\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2688,
        1776
      ],
      "id": "1fe64aeb-9b1c-454e-a725-cbe745914922",
      "name": "make pure model-cut prompt 10"
    },
    {
      "parameters": {
        "jsCode": "const prompt = `\n[ì‹œìŠ¤í…œ ì—­í• ]\në‹¹ì‹ ì€ ì—„ê²©í•œ ê·œì •ì„ ë”°ë¥´ëŠ” ì „ë¬¸ íŒ¨ì…˜ ì´ì»¤ë¨¸ìŠ¤ ì—ë””í„°ì´ë©°, íŠ¹ì • ëª¨ë¸ì˜ ì¼ê´€ëœ ì™¸í˜•ì„ ìœ ì§€í•´ì•¼ í•˜ëŠ” ì„ë¬´ë¥¼ ë°›ì•˜ìŠµë‹ˆë‹¤.\n\nì„ë¬´:\nëª¨ë¸ì˜ í¬ì¦ˆë§Œ ì•„ë˜ ì§€ì‹œì‚¬í•­ì— ë”°ë¼ êµì²´ëœ ìƒˆë¡œìš´ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ì‹­ì‹œì˜¤.\n\n\nI. [ëª¨ë¸ í˜ë¥´ì†Œë‚˜ ì¹´ë“œ] â€“ ì¼ê´€ì„± ìœ ì§€ (Critical Model Consistency)\n- 20ëŒ€ í›„ë°˜~30ëŒ€ ì´ˆë°˜ ì„¸ë ¨ëœ í•œêµ­ ëª¨ë¸\n- ì–¼êµ´ ì „ì²´ ëª…í™•íˆ ë³´ì„, ì‹œí¬í•˜ê³  ë¬´ì‹¬í•œ í‘œì •\n- ì…ì²´ì  ì´ëª©êµ¬ë¹„\n- ì‹œì„ : ì •ë©´ ë˜ëŠ” ì•½ê°„ ë¹„ì¼œê°\n- ìì—°ìŠ¤ëŸ¬ìš´ ì§ˆê°ì˜ ì§§ì€ ë‹¨ë°œ~ë¯¸ë””ì—„ í—¤ì–´, ì§™ì€ ê°ˆìƒ‰\n- ë§¤íŠ¸í•˜ê³  ê±´ê°•í•œ ì¿¨í†¤ í”¼ë¶€, ìì—°ìŠ¤ëŸ¬ìš´ ë©”ì´í¬ì—…\n- ë¶„ìœ„ê¸°: ë„ì‹œì , ì „ë¬¸ì , í•˜ì´ì—”ë“œ í™”ë³´\n\nII. ì´ë¯¸ì§€ ìƒì„± ê·œì¹™ (ì›ë³¸ ì°©ì¥ 100% ìœ ì§€, í¬ì¦ˆë§Œ ë³€ê²½)âš ï¸ í•µì‹¬ ì›ì¹™: ì¸í’‹ ì´ë¯¸ì§€ì˜ ëª¨ë¸ ì°©ì¥ì„ ì™„ë²½íˆ ë™ì¼í•˜ê²Œ ìœ ì§€í•˜ê³ , í¬ì¦ˆë§Œ ë³€ê²½í•©ë‹ˆë‹¤.ğŸ”’ ì›ë³¸ ì°©ì¥ ì™„ì „ ë³´ì¡´ (CRITICAL - DO NOT MODIFY)\nìƒì˜/ì•„ìš°í„°: ì›ë³¸ê³¼ 100% ë™ì¼ (ìƒ‰ìƒ/í•/ì†Œì¬/ë²„íŠ¼/í¬ì¼“/ì§ˆê°/íŒ¨í„´/ì£¼ë¦„/ë””í…Œì¼)\ní•˜ì˜: ì›ë³¸ ì´ë¯¸ì§€ì˜ í•˜ì˜ ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¢…ë¥˜/ìƒ‰ìƒ/í•/ì†Œì¬ ë³€ê²½ ê¸ˆì§€)\nì‹ ë°œ: ì›ë³¸ ì´ë¯¸ì§€ì˜ ì‹ ë°œ ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¢…ë¥˜/ìƒ‰ìƒ/ìŠ¤íƒ€ì¼ ë³€ê²½ ê¸ˆì§€)\nê°€ë°©/ì•¡ì„¸ì„œë¦¬: ì›ë³¸ ì´ë¯¸ì§€ì— ìˆëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ (ì¶”ê°€/ì œê±°/ë³€ê²½ ê¸ˆì§€)\nì „ì²´ ì½”ë””: ì¸í’‹ ì´ë¯¸ì§€ì˜ ì°©ì¥ì„ 1pxë„ ë³€ê²½í•˜ì§€ ì•ŠìŒ\n\nâŒ ì ˆëŒ€ ê¸ˆì§€:\ní•˜ì˜ë¥¼ ë‹¤ë¥¸ ì¢…ë¥˜ë¡œ êµì²´\nì‹ ë°œì„ ë‹¤ë¥¸ ì¢…ë¥˜ë¡œ êµì²´\nê°€ë°©ì„ ì¶”ê°€/ì œê±°/ë³€ê²½\nì•¡ì„¸ì„œë¦¬ë¥¼ ì¶”ê°€/ì œê±°/ë³€ê²½\nì›ë³¸ì— ì—†ëŠ” ì•„ì´í…œ ì¶”ê°€\nì›ë³¸ì— ìˆëŠ” ì•„ì´í…œ ì œê±°\n\nIII. Leg-Elongation Rule (í•„ìˆ˜ ì ìš©)\n- ëª¨ë¸ì˜ ë‹¤ë¦¬ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ê¸¸ê³  ìŠ¬ë¦¼í•˜ê²Œ ì—°ì¶œ\n- ì‹ ì²´ê°€ ë¶€ìì—°ìŠ¤ëŸ½ì§€ ì•Šë„ë¡ í”„ë¡œ íŒ¨ì…˜ ì´¬ì˜ ë¹„ìœ¨ë¡œ ì¡°ì •\n- ìƒì˜/ì•„ìš°í„° ì‹¤ë£¨ì—£ì€ ë³€í˜• ê¸ˆì§€  \n- í•˜ì˜ ì‹¤ë£¨ì—£ ê·¸ëŒ€ë¡œ ìœ ì§€  \n- ë°œÂ·ë°”ë‹¥Â·ê·¸ë¦¼ì ìì—°ìŠ¤ëŸ¬ìš´ ë¹„ë¡€ ìœ ì§€\n\nIV. ì£¼ì˜ì‚¬í•­\n- ì›ë³¸ ìƒí’ˆ ë””í…Œì¼ 1pxë„ ë³€ê²½ ê¸ˆì§€\n- í…ìŠ¤íŠ¸/ë ˆì´ì•„ì›ƒ 100% ë™ì¼í•˜ê²Œ ìœ ì§€\n- ëª¨ë¸ì»·ë§Œ êµì²´\n- ìƒí’ˆ ì¬í˜„ ì •í™•ë„ ìµœìš°ì„ \n\n[í¬ì¦ˆ ì§€ì‹œì‚¬í•­]\nFull body shot.\nëª¨ë¸ì€ ì‹¬í”Œí•œ ë¸”ë¡ ë˜ëŠ” íë¸Œ ìœ„ì— ìì—°ìŠ¤ëŸ½ê²Œ ì•‰ì•„ ìˆìŠµë‹ˆë‹¤.\në‹¤ë¦¬ëŠ” í¸ì•ˆí•˜ê²Œ êµì°¨í•˜ê³ , ì‹œì„ ì€ ë¬´ë¦ì´ë‚˜ ì†ìª½ì„ ë³´ë©° ì•„ë˜ë¡œ í–¥í•©ë‹ˆë‹¤.\ní•œ ì†ì—ëŠ” ì‘ì€ ì˜¤ë¸Œì íŠ¸(ì˜ˆ: íœ´ëŒ€í° ë˜ëŠ” ì‘ì€ ì†Œí’ˆ)ë¥¼ ë“¤ê³  ìˆìŠµë‹ˆë‹¤.\nìì—°ìŠ¤ëŸ¬ìš´ ìºì£¼ì–¼ íŒ¨ì…˜ ì´¬ì˜ ëŠë‚Œìœ¼ë¡œ ì—°ì¶œí•˜ì‹­ì‹œì˜¤.\nìƒí’ˆ ì‹¤ë£¨ì—£ê³¼ ìƒ‰ìƒ, ì§ˆê°ì€ ì ˆëŒ€ ë³€ê²½í•˜ì§€ ë§ˆì‹­ì‹œì˜¤.\n`;\n\nreturn [\n  {\n    json: {\n      cleanedPrompt: JSON.stringify(prompt)\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2688,
        1936
      ],
      "id": "819e9705-7061-4d70-8fe2-8364ab0376d9",
      "name": "make pure model-cut prompt 11"
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "import base64\nfrom io import BytesIO\nfrom PIL import Image\n\n# ==========================================================\n# 1) base64 ì…ë ¥ ë°›ê¸°\n# ==========================================================\nbase64_input = _input.first().json.candidates[0].content.parts[0].inlineData.data\n\nif not base64_input:\n    raise Exception(\"base64 ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\")\n\nimage_data = base64.b64decode(base64_input)\n\n# ==========================================================\n# 2) ì´ë¯¸ì§€ ë¡œë“œ\n# ==========================================================\nimg = Image.open(BytesIO(image_data))\n\n# ==========================================================\n# 3) ë¹„ìœ¨ ìœ ì§€ + width 700px ë¦¬ì‚¬ì´ì¦ˆ\n# ==========================================================\ntarget_width = 700\nw, h = img.size\nratio = target_width / float(w)\ntarget_height = int(h * ratio)\n\nresized_img = img.resize((target_width, target_height), Image.LANCZOS)\n\n# ==========================================================\n# 4) ë‹¤ì‹œ base64ë¡œ ë³€í™˜\n# ==========================================================\nbuffered = BytesIO()\nresized_img.save(buffered, format=\"JPEG\")\noutput_base64 = base64.b64encode(buffered.getvalue()).decode(\"utf-8\")\n\n# ==========================================================\n# 5) n8n Output (ë°˜ë“œì‹œ list ë°˜í™˜)\n# ==========================================================\nreturn [\n    {\n        \"width\": target_width,\n        \"height\": target_height,\n        \"ModelImage_Base64\": output_base64\n    }\n]\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2336,
        1104
      ],
      "id": "96aac1b7-9060-4164-952e-cddfc9f31cc6",
      "name": "resize model-cut "
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://generativelanguage.googleapis.com/v1beta/models/gemini-3-pro-image-preview:generateContent\n",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"contents\" : [{\n    \"parts\": [\n      {\n          \"text\": {{ $json.cleanedPrompt }}\n        },\n      {\n        \"inline_data\": {\n          \"mime_type\": \"image/jpeg\",\n          \"data\": \"{{ $('resize thumbnail1').all()[0].json.ThumbnailImage_Base64 }}\"\n        }\n      }\n    ]\n  }],\n  \"generationConfig\": {\n    \"responseModalities\": [\"TEXT\", \"IMAGE\"],\n    \"imageConfig\": {\n      \"aspectRatio\": \"4:5\",\n      \"imageSize\": \"1K\"\n    }\n  } \n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        -2512,
        1264
      ],
      "id": "c5f2b40c-c493-4dd0-b3da-b111ec6f9f27",
      "name": "create model-cut 7",
      "retryOnFail": true,
      "waitBetweenTries": 5000,
      "credentials": {
        "httpHeaderAuth": {
          "id": "evcIz8tBtY6ypLqT",
          "name": "Soonicorn_GeminiAPI"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://generativelanguage.googleapis.com/v1beta/models/gemini-3-pro-image-preview:generateContent\n",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"contents\" : [{\n    \"parts\": [\n      {\n          \"text\": {{ $json.cleanedPrompt }}\n        },\n      {\n        \"inline_data\": {\n          \"mime_type\": \"image/jpeg\",\n          \"data\": \"{{ $('resize thumbnail1').all()[0].json.ThumbnailImage_Base64 }}\"\n        }\n      }\n    ]\n  }],\n  \"generationConfig\": {\n    \"responseModalities\": [\"TEXT\", \"IMAGE\"],\n    \"imageConfig\": {\n      \"aspectRatio\": \"4:5\",\n      \"imageSize\": \"1K\"\n    }\n  } \n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        -2512,
        1440
      ],
      "id": "5f563990-b2a2-40f9-b36a-eadd23778a34",
      "name": "create model-cut 8",
      "retryOnFail": true,
      "waitBetweenTries": 5000,
      "credentials": {
        "httpHeaderAuth": {
          "id": "evcIz8tBtY6ypLqT",
          "name": "Soonicorn_GeminiAPI"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://generativelanguage.googleapis.com/v1beta/models/gemini-3-pro-image-preview:generateContent\n",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"contents\" : [{\n    \"parts\": [\n      {\n          \"text\": {{ $json.cleanedPrompt }}\n        },\n      {\n        \"inline_data\": {\n          \"mime_type\": \"image/jpeg\",\n          \"data\": \"{{ $('resize thumbnail1').all()[0].json.ThumbnailImage_Base64 }}\"\n        }\n      }\n    ]\n  }],\n  \"generationConfig\": {\n    \"responseModalities\": [\"TEXT\", \"IMAGE\"],\n    \"imageConfig\": {\n      \"aspectRatio\": \"4:5\",\n      \"imageSize\": \"1K\"\n    }\n  } \n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        -2512,
        1616
      ],
      "id": "3a7d02f0-d902-4c18-89e7-14199d9f91bb",
      "name": "create model-cut 9",
      "retryOnFail": true,
      "waitBetweenTries": 5000,
      "credentials": {
        "httpHeaderAuth": {
          "id": "evcIz8tBtY6ypLqT",
          "name": "Soonicorn_GeminiAPI"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://generativelanguage.googleapis.com/v1beta/models/gemini-3-pro-image-preview:generateContent\n",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"contents\" : [{\n    \"parts\": [\n      {\n          \"text\": {{ $json.cleanedPrompt }}\n        },\n      {\n        \"inline_data\": {\n          \"mime_type\": \"image/jpeg\",\n          \"data\": \"{{ $('resize thumbnail1').all()[0].json.ThumbnailImage_Base64 }}\"\n        }\n      }\n    ]\n  }],\n  \"generationConfig\": {\n    \"responseModalities\": [\"TEXT\", \"IMAGE\"],\n    \"imageConfig\": {\n      \"aspectRatio\": \"4:5\",\n      \"imageSize\": \"1K\"\n    }\n  } \n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        -2512,
        1776
      ],
      "id": "6bf11c92-81ab-4d38-aa70-bb59bd0cabea",
      "name": "create model-cut 10",
      "retryOnFail": true,
      "waitBetweenTries": 5000,
      "credentials": {
        "httpHeaderAuth": {
          "id": "evcIz8tBtY6ypLqT",
          "name": "Soonicorn_GeminiAPI"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://generativelanguage.googleapis.com/v1beta/models/gemini-3-pro-image-preview:generateContent\n",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"contents\" : [{\n    \"parts\": [\n      {\n          \"text\": {{ $json.cleanedPrompt }}\n        },\n      {\n        \"inline_data\": {\n          \"mime_type\": \"image/jpeg\",\n          \"data\": \"{{ $('resize thumbnail1').all()[0].json.ThumbnailImage_Base64 }}\"\n        }\n      }\n    ]\n  }],\n  \"generationConfig\": {\n    \"responseModalities\": [\"TEXT\", \"IMAGE\"],\n    \"imageConfig\": {\n      \"aspectRatio\": \"4:5\",\n      \"imageSize\": \"1K\"\n    }\n  } \n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        -2512,
        1936
      ],
      "id": "6f12778f-e83a-4949-a97c-3befa6d9990e",
      "name": "create model-cut 11",
      "retryOnFail": true,
      "waitBetweenTries": 5000,
      "credentials": {
        "httpHeaderAuth": {
          "id": "evcIz8tBtY6ypLqT",
          "name": "Soonicorn_GeminiAPI"
        }
      }
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "import base64\nfrom io import BytesIO\nfrom PIL import Image\n\n# ==========================================================\n# 1) base64 ì…ë ¥ ë°›ê¸°\n# ==========================================================\nbase64_input = _input.first().json.candidates[0].content.parts[0].inlineData.data\n\nif not base64_input:\n    raise Exception(\"base64 ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\")\n\nimage_data = base64.b64decode(base64_input)\n\n# ==========================================================\n# 2) ì´ë¯¸ì§€ ë¡œë“œ\n# ==========================================================\nimg = Image.open(BytesIO(image_data))\n\n# ==========================================================\n# 3) ë¹„ìœ¨ ìœ ì§€ + width 700px ë¦¬ì‚¬ì´ì¦ˆ\n# ==========================================================\ntarget_width = 700\nw, h = img.size\nratio = target_width / float(w)\ntarget_height = int(h * ratio)\n\nresized_img = img.resize((target_width, target_height), Image.LANCZOS)\n\n# ==========================================================\n# 4) ë‹¤ì‹œ base64ë¡œ ë³€í™˜\n# ==========================================================\nbuffered = BytesIO()\nresized_img.save(buffered, format=\"JPEG\")\noutput_base64 = base64.b64encode(buffered.getvalue()).decode(\"utf-8\")\n\n# ==========================================================\n# 5) n8n Output (ë°˜ë“œì‹œ list ë°˜í™˜)\n# ==========================================================\nreturn [\n    {\n        \"width\": target_width,\n        \"height\": target_height,\n        \"ModelImage_Base64\": output_base64\n    }\n]\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2336,
        1264
      ],
      "id": "e9152fff-42cf-4e95-8652-310dd359a1da",
      "name": "resize model-cut 7"
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "import base64\nfrom io import BytesIO\nfrom PIL import Image\n\n# ==========================================================\n# 1) base64 ì…ë ¥ ë°›ê¸°\n# ==========================================================\nbase64_input = _input.first().json.candidates[0].content.parts[0].inlineData.data\n\nif not base64_input:\n    raise Exception(\"base64 ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\")\n\nimage_data = base64.b64decode(base64_input)\n\n# ==========================================================\n# 2) ì´ë¯¸ì§€ ë¡œë“œ\n# ==========================================================\nimg = Image.open(BytesIO(image_data))\n\n# ==========================================================\n# 3) ë¹„ìœ¨ ìœ ì§€ + width 700px ë¦¬ì‚¬ì´ì¦ˆ\n# ==========================================================\ntarget_width = 700\nw, h = img.size\nratio = target_width / float(w)\ntarget_height = int(h * ratio)\n\nresized_img = img.resize((target_width, target_height), Image.LANCZOS)\n\n# ==========================================================\n# 4) ë‹¤ì‹œ base64ë¡œ ë³€í™˜\n# ==========================================================\nbuffered = BytesIO()\nresized_img.save(buffered, format=\"JPEG\")\noutput_base64 = base64.b64encode(buffered.getvalue()).decode(\"utf-8\")\n\n# ==========================================================\n# 5) n8n Output (ë°˜ë“œì‹œ list ë°˜í™˜)\n# ==========================================================\nreturn [\n    {\n        \"width\": target_width,\n        \"height\": target_height,\n        \"ModelImage_Base64\": output_base64\n    }\n]\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2336,
        1440
      ],
      "id": "6f0e8125-e6c3-4a29-b340-7ac4d8a9aef7",
      "name": "resize model-cut 8"
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "import base64\nfrom io import BytesIO\nfrom PIL import Image\n\n# ==========================================================\n# 1) base64 ì…ë ¥ ë°›ê¸°\n# ==========================================================\nbase64_input = _input.first().json.candidates[0].content.parts[0].inlineData.data\n\nif not base64_input:\n    raise Exception(\"base64 ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\")\n\nimage_data = base64.b64decode(base64_input)\n\n# ==========================================================\n# 2) ì´ë¯¸ì§€ ë¡œë“œ\n# ==========================================================\nimg = Image.open(BytesIO(image_data))\n\n# ==========================================================\n# 3) ë¹„ìœ¨ ìœ ì§€ + width 700px ë¦¬ì‚¬ì´ì¦ˆ\n# ==========================================================\ntarget_width = 700\nw, h = img.size\nratio = target_width / float(w)\ntarget_height = int(h * ratio)\n\nresized_img = img.resize((target_width, target_height), Image.LANCZOS)\n\n# ==========================================================\n# 4) ë‹¤ì‹œ base64ë¡œ ë³€í™˜\n# ==========================================================\nbuffered = BytesIO()\nresized_img.save(buffered, format=\"JPEG\")\noutput_base64 = base64.b64encode(buffered.getvalue()).decode(\"utf-8\")\n\n# ==========================================================\n# 5) n8n Output (ë°˜ë“œì‹œ list ë°˜í™˜)\n# ==========================================================\nreturn [\n    {\n        \"width\": target_width,\n        \"height\": target_height,\n        \"ModelImage_Base64\": output_base64\n    }\n]\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2336,
        1616
      ],
      "id": "a51e1eb8-40bd-4c81-aa00-0d20f84bdb8f",
      "name": "resize model-cut 9"
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "import base64\nfrom io import BytesIO\nfrom PIL import Image\n\n# ==========================================================\n# 1) base64 ì…ë ¥ ë°›ê¸°\n# ==========================================================\nbase64_input = _input.first().json.candidates[0].content.parts[0].inlineData.data\n\nif not base64_input:\n    raise Exception(\"base64 ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\")\n\nimage_data = base64.b64decode(base64_input)\n\n# ==========================================================\n# 2) ì´ë¯¸ì§€ ë¡œë“œ\n# ==========================================================\nimg = Image.open(BytesIO(image_data))\n\n# ==========================================================\n# 3) ë¹„ìœ¨ ìœ ì§€ + width 700px ë¦¬ì‚¬ì´ì¦ˆ\n# ==========================================================\ntarget_width = 700\nw, h = img.size\nratio = target_width / float(w)\ntarget_height = int(h * ratio)\n\nresized_img = img.resize((target_width, target_height), Image.LANCZOS)\n\n# ==========================================================\n# 4) ë‹¤ì‹œ base64ë¡œ ë³€í™˜\n# ==========================================================\nbuffered = BytesIO()\nresized_img.save(buffered, format=\"JPEG\")\noutput_base64 = base64.b64encode(buffered.getvalue()).decode(\"utf-8\")\n\n# ==========================================================\n# 5) n8n Output (ë°˜ë“œì‹œ list ë°˜í™˜)\n# ==========================================================\nreturn [\n    {\n        \"width\": target_width,\n        \"height\": target_height,\n        \"ModelImage_Base64\": output_base64\n    }\n]\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2336,
        1776
      ],
      "id": "868c0dee-66c4-451d-95f9-b551b828469a",
      "name": "resize model-cut 10"
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "import base64\nfrom io import BytesIO\nfrom PIL import Image\n\n# ==========================================================\n# 1) base64 ì…ë ¥ ë°›ê¸°\n# ==========================================================\nbase64_input = _input.first().json.candidates[0].content.parts[0].inlineData.data\n\nif not base64_input:\n    raise Exception(\"base64 ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\")\n\nimage_data = base64.b64decode(base64_input)\n\n# ==========================================================\n# 2) ì´ë¯¸ì§€ ë¡œë“œ\n# ==========================================================\nimg = Image.open(BytesIO(image_data))\n\n# ==========================================================\n# 3) ë¹„ìœ¨ ìœ ì§€ + width 700px ë¦¬ì‚¬ì´ì¦ˆ\n# ==========================================================\ntarget_width = 700\nw, h = img.size\nratio = target_width / float(w)\ntarget_height = int(h * ratio)\n\nresized_img = img.resize((target_width, target_height), Image.LANCZOS)\n\n# ==========================================================\n# 4) ë‹¤ì‹œ base64ë¡œ ë³€í™˜\n# ==========================================================\nbuffered = BytesIO()\nresized_img.save(buffered, format=\"JPEG\")\noutput_base64 = base64.b64encode(buffered.getvalue()).decode(\"utf-8\")\n\n# ==========================================================\n# 5) n8n Output (ë°˜ë“œì‹œ list ë°˜í™˜)\n# ==========================================================\nreturn [\n    {\n        \"width\": target_width,\n        \"height\": target_height,\n        \"ModelImage_Base64\": output_base64\n    }\n]\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2336,
        1936
      ],
      "id": "d8a66302-664a-4b19-ae40-e380d085458b",
      "name": "resize model-cut 11"
    },
    {
      "parameters": {
        "jsCode": "const category = $('On form submission').all()[0].json.Category;\n\nconst prompt = `[ì‹œìŠ¤í…œ ì—­í• ]\në‹¹ì‹ ì€ ì—„ê²©í•œ ê·œì •ì„ ë”°ë¥´ëŠ” ì „ë¬¸ íŒ¨ì…˜ ì´ì»¤ë¨¸ìŠ¤ ì—ë””í„°ì´ë©°,\nì¹´í…Œê³ ë¦¬ì™€ ì²¨ë¶€ëœ ì œí’ˆ ì´ë¯¸ì§€ë“¤ì„ ê¸°ë°˜ìœ¼ë¡œ ëª¨ë¸ ì°©ìš© ì´ë¯¸ì§€ë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.\n\në‹¹ì‹ ì˜ ì„ë¬´ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n**ì¹´í…Œê³ ë¦¬ : ${category}**ë¥¼ ê¸°ì¤€ìœ¼ë¡œ\nì²¨ë¶€ëœ ì´ë¯¸ì§€ ì•ˆì—ì„œ í•´ë‹¹ ì¹´í…Œê³ ë¦¬ì— í•´ë‹¹í•˜ëŠ” ì œí’ˆì„ ì •í™•íˆ ì°¾ì•„ë‚´ê³ \nê·¸ ì œí’ˆì„ ëª¨ë¸ì´ ì°©ìš©í•œ ìƒˆë¡œìš´ ì°©ìš©ì»· ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\nI. [ëª¨ë¸ í˜ë¥´ì†Œë‚˜ ì¹´ë“œ] â€“ ì¼ê´€ì„± ìœ ì§€ (Critical Model Consistency)\nëª¨ë“  ì´ë¯¸ì§€ì—ì„œ ì•„ë˜ ëª¨ë¸ í˜ë¥´ì†Œë‚˜ë¥¼ ì™„ì „íˆ ìœ ì§€í•´ì•¼ í•©ë‹ˆë‹¤.\nì„±ë³„/ì—°ë ¹: 20ëŒ€ í›„ë°˜â€“30ëŒ€ ì´ˆë°˜ì˜ ì„¸ë ¨ëœ í•œêµ­ ì—¬ì„±/ë‚¨ì„±\nì–¼êµ´ íŠ¹ì§•:\n\nì–¼êµ´ ì „ì²´ê°€ ëª…í™•íˆ ë³´ì„\nì‹œí¬í•˜ê³  ë¬´ì‹¬í•œ í‘œì •\nì…ì²´ì ì¸ ì´ëª©êµ¬ë¹„\nì •ë©´ ë˜ëŠ” ì‚´ì§ ë¹„ì¼œê°€ëŠ” ì‹œì„ \n\ní—¤ì–´:\n\nìì—°ìŠ¤ëŸ¬ìš´ ì§ˆê°ì˜ ì§§ì€ ë‹¨ë°œ ë˜ëŠ” ì •ëˆëœ ë¯¸ë””ì—„\nì§™ì€ ê°ˆìƒ‰ ì»¬ëŸ¬\n\ní”¼ë¶€í†¤:\n\në§¤íŠ¸í•˜ê³  ê±´ê°•í•œ ì¿¨í†¤\nìì—°ìŠ¤ëŸ¬ìš´ ë©”ì´í¬ì—…\n\në¶„ìœ„ê¸°:\n\në„ì‹œì , ì „ë¬¸ì , í•˜ì´ì—”ë“œ ë§¤ê±°ì§„ í™”ë³´ ëŠë‚Œ\n\nII. ì œí’ˆ ì‹ë³„ ê·œì¹™ (ì¹´í…Œê³ ë¦¬ ê¸°ë°˜ Product Identification Rule)\n1) ì²¨ë¶€ ì´ë¯¸ì§€ ì†ì—ì„œ í•´ë‹¹ ì¹´í…Œê³ ë¦¬ì™€ ë§¤ì¹­ë˜ëŠ” ì œí’ˆì„ íƒì§€\n\nì¹´í…Œê³ ë¦¬ êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±ë¨:\nëŒ€ë¶„ë¥˜-ì¤‘ë¶„ë¥˜-ì†Œë¶„ë¥˜\nì˜ˆ) ì˜ë¥˜â€“ìŠ¤ì»¤íŠ¸â€“ë¡±, ì•…ì„¸ì‚¬ë¦¬â€“ëª¨ìâ€“ë¹„ë‹ˆ ë“±\n\nì´ë¯¸ì§€ ì† ì‹¤ì œ ì œí’ˆì˜ í˜•íƒœÂ·ì¬ì§ˆÂ·ì‹¤ë£¨ì—£ì„ ê¸°ë°˜ìœ¼ë¡œ ê°€ì¥ ì •í™•í•˜ê²Œ ë§¤ì¹­ë˜ëŠ” ì œí’ˆì„ ì„ íƒ.\n\n2) ì„ íƒëœ ì œí’ˆì˜ ëª¨ë“  ë””í…Œì¼ì„ ê·¸ëŒ€ë¡œ ìœ ì§€\n\nâœ” ìƒ‰ìƒ (Hue/Saturation/Brightness)\nâœ” ì‹¤ë£¨ì—£\nâœ” ì£¼ë¦„\nâœ” íŒ¨í„´\nâœ” ë²„íŠ¼Â·í¬ì¼“ ìœ„ì¹˜\nâœ” ì§ˆê°\nâœ” í•\n\nâš  ì›ë³¸ê³¼ ë‹¨ 1pxë„ ë‹¤ë¥´ê²Œ ìƒì„±ë˜ë©´ ì•ˆ ë¨.\n\n3) í•´ë‹¹ ì œí’ˆì„ ëª¨ë¸ì´ ìì—°ìŠ¤ëŸ½ê²Œ ì°©ìš©í•œ ìƒíƒœë¡œ ì¬êµ¬ì„±\n\nì œí’ˆ ë³€í˜• ê¸ˆì§€\n\nì™œê³¡ ê¸ˆì§€\n\nìƒ‰ ë³´ì • ê¸ˆì§€\n\nIII. ì´ë¯¸ì§€ ìƒì„± ê·œì¹™ (ìƒí’ˆ ìœ ì§€ê°€ ìµœìš°ì„ )\nì›ë³¸ ìƒí’ˆì´ ì ˆëŒ€ì ìœ¼ë¡œ ë™ì¼í•´ì•¼ í•œë‹¤.\n\nìƒ‰ìƒ ë³€ê²½ ê¸ˆì§€\nâ¤ ì›ë³¸ ìƒí’ˆì˜ ìƒ‰ìƒ(Hue, Saturation, Brightness í¬í•¨ ëª¨ë“  Color Attribute)ì€ 1pxë„ ë³€í™”í•˜ë©´ ì•ˆ ëœë‹¤.\nâ¤ AIê°€ ìë™ ë³´ì •/í™”ì´íŠ¸ë°¸ëŸ°ìŠ¤/ì¡°ëª… ì˜í–¥ ë“±ì„ í•‘ê³„ë¡œ ìƒ‰ì¡°ê°€ ë°”ë€ŒëŠ” ê²ƒë„ ê¸ˆì§€.\nâ¤ ì›ë³¸ ì œí’ˆ ìƒ‰ìƒì€ RAW Colorì²˜ëŸ¼ ê·¸ëŒ€ë¡œ ì ê¸ˆ ìƒíƒœ(Color-locked)ë¡œ ìœ ì§€í•´ì•¼ í•œë‹¤.\në””í…Œì¼ ë³€ê²½ ê¸ˆì§€\nì†Œì¬/í•/ë²„íŠ¼/í¬ì¼“ ìœ„ì¹˜/íŒ¨í„´/ì²œ ì§ˆê° ëª¨ë‘ ë™ì¼í•˜ê²Œ ìœ ì§€\nëª¨ë¸ì´ ì‹¤ì œë¡œ ê·¸ ìƒí’ˆì„ ì…ì€ ê²ƒì²˜ëŸ¼ ìì—°ìŠ¤ëŸ½ê²Œ ì¬í˜„í•  ê²ƒ\n\nì˜·ì´ ë‹ë³´ì´ë„ë¡ ì½”ë””ëŠ” ë”ìš± ì„¸ë ¨ë˜ê²Œ êµ¬ì„±í•˜ë˜, ìƒí’ˆì„ ë°©í•´í•˜ì§€ ì•Šì„ ê²ƒ.\nëª¨ë¸ ì–¼êµ´ì€ ê¼­ ë³´ì—¬ì•¼ í•œë‹¤.\nëª¨ë¸ í¬ì¦ˆ:\n\nëª¨ë¸ì€ ì •ë©´ì„ ë³´ê³  ì„œ ìˆìœ¼ë©°, í•œìª½ ì†ì€ ë°”ì§€ ì£¼ë¨¸ë‹ˆì— ë„£ê³  ë‹¤ë¥¸ ìª½ ì–´ê¹¨ì—ëŠ” ê°€ë°©ì„ ë©”ê³  ìˆìŠµë‹ˆë‹¤.\nëª¸ì€ ì •ë©´ì„ í–¥í•˜ì§€ë§Œ ì‹œì„ ì€ ì•½ê°„ ì˜¤ë¥¸ìª½\nì „ì²´ì ìœ¼ë¡œ í¸ì•ˆí•˜ê³  ì•ˆì •ì ì¸ ìŠ¤íƒ ë”© í¬ì¦ˆ\n\nìƒì„¸ ì´ë¯¸ì§€ ë¹„ìœ¨: 1 : 1.2\nì½”ë”” ê·œì¹™:\n\nì½”ë””ë˜ëŠ” ë‹¤ë¥¸ ì˜ë¥˜ëŠ” ì²´í¬ íŒ¨í„´ ì ˆëŒ€ ê¸ˆì§€\ní•˜ì˜ëŠ” ë‹¤ìŒ ì¤‘ í•˜ë‚˜ë§Œ í—ˆìš©: ë¶€ì¸ ì»· íŒ¬ì¸  / ìŠ¬ë™ìŠ¤ ì™€ì´ë“œ í•\nì‹ ë°œì€ ë‹¤ìŒ ì¤‘ í•˜ë‚˜ë§Œ í—ˆìš©: í”Œë« ë¡œí¼ / ìš´ë™í™” (êµ½ ë†’ì€ êµ¬ë‘ ì ˆëŒ€ ê¸ˆì§€)\nwinter season â†’ ì§™ì€ ìƒ‰ìƒ\nê°€ë°©ì€ ëª…í’ˆ ëŠë‚Œ ê¸ˆì§€, ì‹¬í”Œí•˜ê³  ë¯¸ë‹ˆë©€í•œ ë””ìì¸ë§Œ ì‚¬ìš©\n\nìƒí’ˆ ë””í…Œì¼ ì¬í˜„ ë§¤ìš° ì¤‘ìš”:\n\nì˜·ì˜ ì§ˆê°, ì£¼ë¦„, ë²„íŠ¼, ì‹¤ë£¨ì—£, ì»¬ëŸ¬, í• ëª¨ë‘ ì›ë³¸ê³¼ ë™ì¼\nì‚¬ì§„ ì† ì¡°ëª…/í™˜ê²½ ë³€í™”ì—ë„ ìƒí’ˆì´ ì›ë³¸ê³¼ ì •í™•íˆ ê°™ì•„ì•¼ í•¨\n\n\nâš¡ ì¶”ê°€ ê·œì¹™ â€” \"ëª¨ë¸ ë‹¤ë¦¬ ê¸¸ì´ ì¦ê°€ (Leg-Elongation Rule)\"\nì•„ë˜ ê·œì¹™ì„ ìƒˆë¡œ ì¶”ê°€í•©ë‹ˆë‹¤. í•„ìˆ˜ ì ìš©ì…ë‹ˆë‹¤.\n\nëª¨ë¸ì˜ ë‹¤ë¦¬ëŠ” ì¼ë°˜ì ì¸ ë¹„ìœ¨ë³´ë‹¤ ê¸¸ê³  ìŠ¬ë¦¼í•˜ê²Œ, íŒ¨ì…˜ í™”ë³´ ìŠ¤íƒ€ì¼ì˜ ë¡± ë ˆê·¸ ë¹„ìœ¨ì„ ì ìš©í•˜ì—¬ ì—°ì¶œí•˜ì‹­ì‹œì˜¤.\në‹¨, ì‹ ì²´ ë¹„ìœ¨ì´ ë¶€ìì—°ìŠ¤ëŸ½ì§€ ì•Šë„ë¡ í”„ë¡œ íŒ¨ì…˜ ì´¬ì˜ì²˜ëŸ¼ ìì—°ìŠ¤ëŸ½ê²Œ ì—°ì¥í•˜ì‹­ì‹œì˜¤.\në‹¤ë¦¬ë¥¼ ê¸¸ê²Œ ë§Œë“¤ ë•Œì—ë„ ìƒí’ˆ(ì™¸íˆ¬/ì•„ìš°í„°/ìƒì˜)ì˜ í•ì´ ì™œê³¡ë˜ê±°ë‚˜ ë³€í˜•ë˜ë©´ ì ˆëŒ€ ì•ˆ ëœë‹¤.\ní•˜ì˜ ì‹¤ë£¨ì—£(ë¶€ì¸ ì»·/ì™€ì´ë“œí•)ë„ ê·¸ëŒ€ë¡œ ìœ ì§€í•œ ìƒíƒœì—ì„œ ì „ì²´ì ì¸ ë¹„ìœ¨ë§Œ ìŠ¬ë¦¼í•˜ê³  ê¸¸ì–´ ë³´ì´ë„ë¡ ì²˜ë¦¬.\në°œ ìœ„ì¹˜Â·ë°”ë‹¥Â·ê·¸ë¦¼ìë„ í˜„ì‹¤ì ì¸ ë¹„ë¡€ê°ìœ¼ë¡œ ì¡°ì •í•´ ìì—°ìŠ¤ëŸ¬ì›€ì„ ìœ ì§€í•  ê²ƒ.\n\n\nğŸš« III. í…ìŠ¤íŠ¸ ìƒì„± ì ˆëŒ€ ê¸ˆì§€ (NO TEXT GENERATION - CRITICAL)\nâš ï¸ ì´ ê·œì¹™ì€ ìµœìš°ì„  ì ìš©ë©ë‹ˆë‹¤.\nâŒ ì ˆëŒ€ ê¸ˆì§€ ì‚¬í•­:\n\nì´ë¯¸ì§€ ë‚´ì— ìƒˆë¡œìš´ í…ìŠ¤íŠ¸, ê¸€ì, ë¬¸ì, ìˆ«ì, ê¸°í˜¸ë¥¼ ìƒì„±í•˜ì§€ ë§ˆì‹­ì‹œì˜¤\në¸Œëœë“œëª…, ë¡œê³ , ì›Œí„°ë§ˆí¬, ë¼ë²¨ì„ ìƒˆë¡œ ë§Œë“¤ì§€ ë§ˆì‹­ì‹œì˜¤\nì˜·ì— ê¸€ì”¨ë‚˜ í”„ë¦°íŠ¸ë¥¼ ì¶”ê°€í•˜ì§€ ë§ˆì‹­ì‹œì˜¤ (ì›ë³¸ì— ì—†ëŠ” ê²½ìš°)\në°°ê²½ì— ê°„íŒ, ë¬¸êµ¬, ì¥ì‹ í…ìŠ¤íŠ¸ë¥¼ ë„£ì§€ ë§ˆì‹­ì‹œì˜¤\nì–´ë–¤ í˜•íƒœì˜ í…ìŠ¤íŠ¸ë„ AIê°€ ì„ì˜ë¡œ ìƒì„±í•´ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤\n\n\"DO NOT generate, add, or create ANY text, letters, numbers, logos, watermarks, or written elements that do not exist in the original image. Text generation is strictly prohibited.\"\n\nIV. ì£¼ì˜ì‚¬í•­ (Critical)\n\nì›ë³¸ ìƒí’ˆ ë””í…Œì¼ì´ 1pxë„ ë°”ë€Œë©´ ì•ˆ ëœë‹¤\nì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ë”ë¼ë„ í…ìŠ¤íŠ¸, ì„¤ëª…, ì •ë³´ ë°°ì¹˜ëŠ” 100% ë™ì¼í•˜ê²Œ ìœ ì§€\nëª¨ë¸ì»·ë§Œ êµì²´\nìƒí’ˆ ì‹¤ë£¨ì—£/ìƒ‰ìƒ/ì§ˆê° ì¶©ì‹¤í•˜ê²Œ ë³µì›\në‹¤ë¦¬ ê¸¸ì´ ì¦ê°€ í¬í•¨\nìƒˆë¡œìš´ í…ìŠ¤íŠ¸ ìƒì„± ì ˆëŒ€ ê¸ˆì§€\nì „ì²´ ê²°ê³¼ë¬¼ì€ \"ì§„ì§œ ëª¨ë¸ì´ ê·¸ ìƒí’ˆì„ ì°©ìš©í•œ ê²ƒì²˜ëŸ¼\" ë³´ì—¬ì•¼ í•œë‹¤`;\n\n \n\nreturn [\n  {\n    json: {\n      cleanedPrompt: JSON.stringify(prompt)\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2688,
        928
      ],
      "id": "a075055d-9a56-4671-8266-03d095bc0c1b",
      "name": "make pure thumbnailPrompt1"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://generativelanguage.googleapis.com/v1beta/models/gemini-3-pro-image-preview:generateContent\n",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"contents\" : [{\n    \"parts\": [\n      {\n          \"text\": {{ $json.cleanedPrompt }} },\n      {\n        \"inline_data\": {\n          \"mime_type\": \"image/jpeg\",\n          \"data\": \"{{ $('make pure base').all()[0].json.ThumbNailImageBase64 }}\"\n        }\n      }\n    ]\n  }],\n  \"generationConfig\": {\n    \"responseModalities\": [\"TEXT\", \"IMAGE\"],\n    \"imageConfig\": {\n      \"aspectRatio\": \"4:5\",\n      \"imageSize\": \"1K\"\n    }\n  } \n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        -2512,
        928
      ],
      "id": "26559e57-c82c-4a6a-a1b5-e2f0e760eac9",
      "name": "create thumbnail1",
      "retryOnFail": true,
      "waitBetweenTries": 5000,
      "credentials": {
        "httpHeaderAuth": {
          "id": "evcIz8tBtY6ypLqT",
          "name": "Soonicorn_GeminiAPI"
        }
      }
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "import base64\nfrom io import BytesIO\nfrom PIL import Image\n\n# ==========================================================\n# 1) base64 ì…ë ¥ ë°›ê¸°\n# ==========================================================\nbase64_input = _input.first().json.candidates[0].content.parts[0].inlineData.data\n\nif not base64_input:\n    raise Exception(\"base64 ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\")\n\nimage_data = base64.b64decode(base64_input)\n\n# ==========================================================\n# 2) ì´ë¯¸ì§€ ë¡œë“œ\n# ==========================================================\nimg = Image.open(BytesIO(image_data))\n\n# ==========================================================\n# 3) ë¹„ìœ¨ ìœ ì§€ + width 700px ë¦¬ì‚¬ì´ì¦ˆ\n# ==========================================================\ntarget_width = 700\nw, h = img.size\nratio = target_width / float(w)\ntarget_height = int(h * ratio)\n\nresized_img = img.resize((target_width, target_height), Image.LANCZOS)\n\n# ==========================================================\n# 4) ë‹¤ì‹œ base64ë¡œ ë³€í™˜\n# ==========================================================\nbuffered = BytesIO()\nresized_img.save(buffered, format=\"JPEG\")\noutput_base64 = base64.b64encode(buffered.getvalue()).decode(\"utf-8\")\n\n# ==========================================================\n# 5) n8n Output (ë°˜ë“œì‹œ list ë°˜í™˜)\n# ==========================================================\nreturn [\n    {\n        \"width\": target_width,\n        \"height\": target_height,\n        \"ThumbnailImage_Base64\": output_base64\n    }\n]\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2352,
        928
      ],
      "id": "dc8ff138-81f5-4975-af5e-4524630564cd",
      "name": "resize thumbnail1"
    },
    {
      "parameters": {
        "jsCode": "// ì…ë ¥ í•„ë“œ ì´ë¦„ë§Œ ë³€ê²½í•´ì„œ ì‚¬ìš©í•˜ì„¸ìš”.\nconst ThumbNailImage = $input.first().json.Thumbnail;\n\n\nlet ThumbNailImageBase64 = null;\n\nif (typeof ThumbNailImage === \"string\" && ThumbNailImage.includes(\",\")) {\n  ThumbNailImageBase64 = ThumbNailImage.split(\",\")[1];\n}\n\n\n\nreturn [\n  {\n    json: {\n      ThumbNailImageBase64: ThumbNailImage,\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2928,
        928
      ],
      "id": "8b543441-59f1-4c2f-a2f2-d0e208246fe0",
      "name": "make pure base"
    },
    {
      "parameters": {
        "jsCode": "// ì…ë ¥ í•„ë“œ ì´ë¦„ë§Œ ë³€ê²½í•´ì„œ ì‚¬ìš©í•˜ì„¸ìš”.\nconst ThumbNailImage = $('On form submission').all()[0].json.MainImage1;\n\n\nlet ThumbNailImageBase64 = null;\n\nif (typeof ThumbNailImage === \"string\" && ThumbNailImage.includes(\",\")) {\n  ThumbNailImageBase64 = ThumbNailImage.split(\",\")[1];\n}\n\n\n\nreturn [\n  {\n    json: {\n      base64: ThumbNailImage    \n    }\n  }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2416,
        2944
      ],
      "id": "69808c07-f75a-47d1-93a6-61c3267eb8a1",
      "name": "make pure mainImage base64 data2"
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "import base64\nfrom io import BytesIO\nfrom PIL import Image\n\noutputs = []\n\n# ==========================================================\n# 1) input ì „ì²´ ë°˜ë³µ ì²˜ë¦¬\n# ==========================================================\nfor item in _input.all():\n\n    # base64 ìœ„ì¹˜ ì¶”ì¶œ (ì—†ìœ¼ë©´ skip)\n    base64_input = item.json.get(\"candidates\", [])[0].get(\"content\", {}).get(\"parts\", [])[0].get(\"inlineData\", {}).get(\"data\")\n\n    if not base64_input:\n        outputs.append({\n            \"error\": \"base64 ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\",\n            \"original_item\": item.json\n        })\n        continue\n\n    # base64 decode\n    image_data = base64.b64decode(base64_input)\n\n    # ==========================================================\n    # 2) ì´ë¯¸ì§€ ë¡œë“œ\n    # ==========================================================\n    img = Image.open(BytesIO(image_data))\n\n    # ==========================================================\n    # 3) ë¹„ìœ¨ ìœ ì§€ + width 700px ë¦¬ì‚¬ì´ì¦ˆ\n    # ==========================================================\n    target_width = 700\n    w, h = img.size\n    ratio = target_width / float(w)\n    target_height = int(h * ratio)\n\n    resized_img = img.resize((target_width, target_height), Image.LANCZOS)\n\n    # ==========================================================\n    # 4) ë‹¤ì‹œ base64ë¡œ ë³€í™˜\n    # ==========================================================\n    buffered = BytesIO()\n    resized_img.save(buffered, format=\"JPEG\")\n    output_base64 = base64.b64encode(buffered.getvalue()).decode(\"utf-8\")\n\n    # ==========================================================\n    # 5) output ë°°ì—´ì— ì¶”ê°€\n    # ==========================================================\n    outputs.append({\n        \"width\": target_width,\n        \"height\": target_height,\n        \"CutoutImage_Base64\": output_base64\n    })\n\n# ==========================================================\n# 6) n8n Output (items list ë°˜í™˜)\n# ==========================================================\nreturn outputs\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2048,
        2944
      ],
      "id": "68b4f785-0b42-4ae6-a682-9670058c6b3f",
      "name": "resize background-removed image2"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://generativelanguage.googleapis.com/v1beta/models/gemini-3-pro-image-preview:generateContent",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"contents\" : [{\n    \"parts\": [\n      {\n          \"text\": {{ $('make pure background-removed prompt2').all()[0].json.cleanedPrompt }}\n        },\n      {\n        \"inline_data\": {\n          \"mime_type\": \"image/jpeg\",\n          \"data\": \"{{ $json.base64 }}\"\n        }\n      }\n    ]\n  }],\n  \"generationConfig\": {\n    \"responseModalities\": [\"TEXT\", \"IMAGE\"],\n    \"imageConfig\": {\n      \"aspectRatio\": \"4:5\",\n      \"imageSize\": \"1K\"\n    }\n  } \n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        -2224,
        2944
      ],
      "id": "d8bffcfd-6adb-4d60-aaa2-841131a03e43",
      "name": "create background-removed image2",
      "retryOnFail": true,
      "waitBetweenTries": 5000,
      "credentials": {
        "httpHeaderAuth": {
          "id": "evcIz8tBtY6ypLqT",
          "name": "Soonicorn_GeminiAPI"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const category = $('On form submission').all()[0].json.Category;\n\n\nconst prompt = `\nğŸ§  [ì‹œìŠ¤í…œ ì—­í• ] â€” Garment Extraction AI\n\në‹¹ì‹ ì˜ ì‘ì—…ì€ ì…ë ¥ ì´ë¯¸ì§€ì—ì„œ ** ${category} **ë¡œ ì§€ì •ëœ ì˜ë¥˜ë§Œ ì •í™•í•˜ê²Œ ì¸ì‹Â·ë¶„ë¦¬í•œ ë’¤,\nì‚¬ëŒÂ·ë°°ê²½Â·ì†Œí’ˆì„ 100% ì œê±°í•˜ê³ ,\nìˆœìˆ˜ í°ìƒ‰(#FFFFFF) ë°°ê²½ ìœ„ì— í•´ë‹¹ ì˜ë¥˜ë§Œ ë‹¨ë…ìœ¼ë¡œ ì¬êµ¬ì„±í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\nì…ë ¥ìœ¼ë¡œ ì œê³µë˜ëŠ” ìš”ì†Œ:\n\nì´ë¯¸ì§€\n\nì¹´í…Œê³ ë¦¬ (ì˜ˆ: ìƒì˜-ë‹ˆíŠ¸, í•˜ì˜-íŒ¬ì¸ , ì•„ìš°í„°-ì½”íŠ¸ ë“±)\n\në‹¹ì‹ ì€ ë¨¼ì € ì´ë¯¸ì§€ ì†ì—ì„œ ì¹´í…Œê³ ë¦¬ì— í•´ë‹¹í•˜ëŠ” ì˜ë¥˜ë¥¼ ì •í™•íˆ ì°¾ì•„ì•¼ í•˜ë©°,\ní•´ë‹¹ ì˜ë¥˜ë§Œì„ ëŒ€ìƒìœ¼ë¡œ ì•„ë˜ì˜ ëª¨ë“  ê·œì¹™ì„ ì ìš©í•˜ì—¬ ê²°ê³¼ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.\n\nğŸ“Œ 1. ì ˆëŒ€ ë³€ê²½ ê¸ˆì§€ ê·œì¹™ (CRITICAL â€“ ë°˜ë“œì‹œ ì§€í‚¬ ê²ƒ)\nğŸ¨ [ìƒ‰ìƒ ì •í™•ë„ â€“ ABSOLUTE COLOR PRESERVATION]\n\nìƒ‰ìƒì€ ë‹¨ 1%ë¼ë„ ë³€ê²½ë˜ë©´ ì•ˆ ë¨.\n\nì›ë³¸ ì˜ë¥˜ì˜ ìƒ‰ìƒ, ëª…ë„, ì±„ë„, í†¤, í…ìŠ¤ì²˜ ê·¸ëŒ€ë¡œ ìœ ì§€\n\ní™”ì´íŠ¸ë°¸ëŸ°ìŠ¤ ì¡°ì • ê¸ˆì§€\n\nëŒ€ë¹„/ì±„ë„/í†¤/ì»¤ë¸Œ ì¡°ì • ê¸ˆì§€\n\nì„ ëª…ë„Â·ì§ˆê° ë³´ì • ê¸ˆì§€\n\nâ€œë” ì˜ˆì˜ê²Œ/ë” ì„ ëª…í•˜ê²Œâ€ ê°™ì€ ê°œì„  ì‘ì—… ê¸ˆì§€\n\në„¤ì´ë¹„ëŠ” ë„¤ì´ë¹„ ê·¸ëŒ€ë¡œ, ë¯¸ì„¸í•œ í†¤ ë³€í™”ë„ í—ˆìš©ë˜ì§€ ì•ŠìŒ\n\nğŸ“Œ 2. ê¸¸ì´Â·ë¹„ìœ¨ ìœ ì§€ ê·œì¹™ (LENGTH & PROPORTION)\n\nì˜ë¥˜ì˜ ì‹¤ë£¨ì—£, ê¸¸ì´, í­, í˜•íƒœëŠ” ì ˆëŒ€ë¡œ ìˆ˜ì • ê¸ˆì§€.\n\nì´ì¥, ì–´ê¹¨ë„ˆë¹„, ì†Œë§¤ê¸¸ì´ ë“± ì›ë³¸ ê·¸ëŒ€ë¡œ\n\nëŠ˜ë¦¬ê¸°, ì¤„ì´ê¸°, ë¹„ìœ¨ ì¡°ì • ê¸ˆì§€\n\ní˜•íƒœ ë³´ì •Â·ë¼ì¸ ë³´ì • ê¸ˆì§€\n\në” ê¹”ë”í•˜ê±°ë‚˜ ê· í˜• ì¡íŒ ëª¨ìŠµìœ¼ë¡œ ì¬êµ¬ì„±í•˜ë ¤ëŠ” ì‹œë„ ê¸ˆì§€\n\nğŸ“Œ 3. ì›ë³¸ ì¶©ì‹¤ë„ ê·œì¹™ (FAITHFUL REPRODUCTION)\n\nì›ë³¸ì— ìˆëŠ” ë””í…Œì¼ì€ ëª¨ë‘ ë³´ì¡´\n\nì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë””í…Œì¼, ì£¼ë¦„, ìŠ¤í‹°ì¹˜ ë“±ì„ ìƒì„± ê¸ˆì§€\n\nì¸ì²´ ì°©ìš©ìœ¼ë¡œ ì¸í•´ ìƒê¸´ ë¶€ìì—°ìŠ¤ëŸ¬ìš´ ì£¼ë¦„ì€ ì œê±° ê°€ëŠ¥\n\nì˜ë¥˜ ê³ ìœ ì˜ ìì—°ìŠ¤ëŸ¬ìš´ ì£¼ë¦„Â·ì§ˆê°ì€ ìœ ì§€\n\nğŸ“Œ 4. ì œê±°í•´ì•¼ í•  ìš”ì†Œ (REMOVAL REQUIREMENTS)\n\në‹¤ìŒ ìš”ì†ŒëŠ” 100% ì œê±°:\n\nğŸ‘¤ ì‚¬ëŒ ê´€ë ¨ ìš”ì†Œ\n\nì–¼êµ´, íŒ”, ë‹¤ë¦¬, ì†, ë¨¸ë¦¬ì¹´ë½, í”¼ë¶€\n\nì¸ì²´ ì‹¤ë£¨ì—£ í”ì , ë³¼ë¥¨ê°\n\nì°©ìš©ìœ¼ë¡œ ë‚¨ëŠ” ëª¸ë§¤ ìœ¤ê³½\n\nğŸ’ ì•¡ì„¸ì„œë¦¬Â·ì†Œí’ˆ\n\nê°€ë°©, ì¥ì‹ êµ¬, ë¨¸í”ŒëŸ¬, ëª¨ì, ì‹œê³„ ë“±\n(ë‹¨, ì˜ë¥˜ ìì²´ êµ¬ì„± ìš”ì†ŒëŠ” ì œê±° ê¸ˆì§€)\n\nğŸ  ë°°ê²½\n\nì‹¤ë‚´/ì‹¤ì™¸ ë°°ê²½\n\në°”ë‹¥, ë²½, ë°˜ì‚¬, ê·¸ë¦¼ì\n\në°”ë‹¥ ê·¸ë¦¼ìë„ ê°€ëŠ¥í•œ ìµœì†Œí™” ë˜ëŠ” ì œê±°\n\nğŸ“Œ 5. ì¶œë ¥ ìŠ¤íƒ€ì¼ (GARMENT PRESENTATION)\nğŸ”„ ì •ë ¬ & ëŒ€ì¹­\n\nì¢Œìš° ì™„ë²½í•œ ëŒ€ì¹­\n\nì¹´ë©”ë¼ ì •ë©´ ê¸°ì¤€ ì •í™•í•œ ìˆ˜í‰Â·ìˆ˜ì§\n\nì¤‘ì‹¬ ì§€í¼/ë²„íŠ¼ â†’ ì™„ì „í•œ ìˆ˜ì§\n\nì–´ê¹¨ ë¼ì¸ â†’ ì •í™•íˆ ìˆ˜í‰\n\nì†Œë§¤ ê¸¸ì´Â·í­ ê· ì¼í•˜ê²Œ ì •ë ¬\n\nğŸ‘• í˜•íƒœ\n\ní”Œë«ë ˆì´(flat-lay) ë˜ëŠ” ê³ ìŠ¤íŠ¸ ë§ˆë„¤í‚¹ ìŠ¤íƒ€ì¼\n\nìì—°ìŠ¤ëŸ¬ìš´ í˜•íƒœ ìœ ì§€\n\nì••ì¶•Â·ë‚©ì‘í•¨ ê¸ˆì§€\n\nëª¨ë“  ì£¼ë¦„, ì§ˆê°, ìŠ¤í‹°ì¹˜, ë””í…Œì¼ ìµœëŒ€ ë³´ì¡´\n\nğŸ“Œ 6. ìµœì¢… ì¶œë ¥ ì¡°ê±´ (OUTPUT)\n\në°°ê²½: ì™„ì „í•œ í°ìƒ‰ #FFFFFF\n\nì¹´í…Œê³ ë¦¬ì— í•´ë‹¹í•˜ëŠ” ì˜ë¥˜ë§Œ í™”ë©´ ì¤‘ì•™ ë°°ì¹˜\n\nê³ í•´ìƒë„ & ì„ ëª…í•œ ê°€ì¥ìë¦¬\n\nê·¸ë¦¼ì ìµœì†Œí™” ë˜ëŠ” ì œê±°\n\në¶ˆí•„ìš”í•œ ìš”ì†Œ ì ˆëŒ€ í¬í•¨ ê¸ˆì§€\n\nâŒ ì ˆëŒ€ ê¸ˆì§€ í•­ëª© (ABSOLUTE PROHIBITIONS)\n\nì‚¬ëŒÂ·ì–¼êµ´Â·ì‹ ì²´ ì”ì—¬ ìƒì„± ë˜ëŠ” ë‚¨ê¹€\n\në°°ê²½ ì¼ë¶€ë¼ë„ ë‚¨ê¹€\n\nì¹´í…Œê³ ë¦¬ì— í•´ë‹¹í•˜ì§€ ì•ŠëŠ” ì œí’ˆ í¬í•¨\n\nìƒ‰ìƒ ë³€ê²½(1%ë„ ë¶ˆê°€)\n\në¹„ìœ¨/ê¸¸ì´ ì™œê³¡\n\nì‹¤ë£¨ì—£ ë³´ì •\n\nì¡´ì¬í•˜ì§€ ì•ŠëŠ” ìš”ì†Œ ìƒì„±\n\në§ˆë„¤í‚¹/ëª¨ë¸ ìƒì„±\n\n\"ë” ê¹”ë”í•˜ê²Œ\" ê°™ì€ í’ˆì§ˆ ë³€ê²½ ì‹œë„\n\nì œí’ˆì„ ìë™ìœ¼ë¡œ ëŒ€ì¹­ ë³´ì •í•˜ê¸° ìœ„í•´ ë¹„ìœ¨Â·í˜•íƒœ ìˆ˜ì •í•˜ëŠ” í–‰ìœ„\n\nğŸ“Œ ìµœì¢… ì‘ì—… ì§€ì‹œ (FINAL INSTRUCTION)\n\nì…ë ¥ëœ **ì¹´í…Œê³ ë¦¬(category)**ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì´ë¯¸ì§€ ì†ì—ì„œ\ní•´ë‹¹ ì¹´í…Œê³ ë¦¬ì˜ ì˜ë¥˜ í•˜ë‚˜ë§Œ ì •í™•íˆ ì°¾ì•„ ì¸ì‹í•˜ì‹œì˜¤.\n\nê·¸ ì˜ë¥˜ë¥¼:\n\nì›ë³¸ ìƒ‰ìƒ 100% ìœ ì§€\n\nì›ë³¸ ë¹„ìœ¨Â·í˜•íƒœ 100% ìœ ì§€\n\nì¸ì²´/ë°°ê²½/ì†Œí’ˆ ì™„ì „ ì œê±°\n\ní”Œë«í•˜ê²Œ ì •ë ¬\n\nì™„ì „í•œ í°ìƒ‰(#FFFFFF) ë°°ê²½ ìœ„ì— ìì—°ìŠ¤ëŸ½ê²Œ ì¬êµ¬ì„±\n\ní•˜ì—¬ ì „ë¬¸ ì‡¼í•‘ëª° ëˆ„ë¼ìƒ· ìˆ˜ì¤€ìœ¼ë¡œ ì¶œë ¥í•˜ì‹œì˜¤.\n\nì¹´í…Œê³ ë¦¬ì— í•´ë‹¹í•˜ì§€ ì•ŠëŠ” ì˜ë¥˜Â·ì†Œí’ˆì€ ì ˆëŒ€ í¬í•¨í•˜ë©´ ì•ˆ ëœë‹¤.\n`;\n\nreturn [\n  {\n    json: {\n      cleanedPrompt: JSON.stringify(prompt)\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2608,
        2944
      ],
      "id": "ebb9a20a-56bc-4b16-96e0-1b7103cabd25",
      "name": "make pure background-removed prompt2"
    },
    {
      "parameters": {
        "jsCode": "// ì…ë ¥ í•„ë“œ ì´ë¦„ë§Œ ë³€ê²½í•´ì„œ ì‚¬ìš©í•˜ì„¸ìš”.\nconst ThumbNailImage = $('On form submission').all()[0].json.MainImage2;\n\n\nlet ThumbNailImageBase64 = null;\n\nif (typeof ThumbNailImage === \"string\" && ThumbNailImage.includes(\",\")) {\n  ThumbNailImageBase64 = ThumbNailImage.split(\",\")[1];\n}\n\n\n\nreturn [\n  {\n    json: {\n      base64: ThumbNailImage\n    }\n  }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2272,
        3216
      ],
      "id": "ba71ff6b-f489-403f-b221-9819ba34a9de",
      "name": "make pure mainImage base64 data3"
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "import base64\nfrom io import BytesIO\nfrom PIL import Image\n\noutputs = []\n\n# ==========================================================\n# 1) input ì „ì²´ ë°˜ë³µ ì²˜ë¦¬\n# ==========================================================\nfor item in _input.all():\n\n    # base64 ìœ„ì¹˜ ì¶”ì¶œ (ì—†ìœ¼ë©´ skip)\n    base64_input = item.json.get(\"candidates\", [])[0].get(\"content\", {}).get(\"parts\", [])[0].get(\"inlineData\", {}).get(\"data\")\n\n    if not base64_input:\n        outputs.append({\n            \"error\": \"base64 ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\",\n            \"original_item\": item.json\n        })\n        continue\n\n    # base64 decode\n    image_data = base64.b64decode(base64_input)\n\n    # ==========================================================\n    # 2) ì´ë¯¸ì§€ ë¡œë“œ\n    # ==========================================================\n    img = Image.open(BytesIO(image_data))\n\n    # ==========================================================\n    # 3) ë¹„ìœ¨ ìœ ì§€ + width 700px ë¦¬ì‚¬ì´ì¦ˆ\n    # ==========================================================\n    target_width = 700\n    w, h = img.size\n    ratio = target_width / float(w)\n    target_height = int(h * ratio)\n\n    resized_img = img.resize((target_width, target_height), Image.LANCZOS)\n\n    # ==========================================================\n    # 4) ë‹¤ì‹œ base64ë¡œ ë³€í™˜\n    # ==========================================================\n    buffered = BytesIO()\n    resized_img.save(buffered, format=\"JPEG\")\n    output_base64 = base64.b64encode(buffered.getvalue()).decode(\"utf-8\")\n\n    # ==========================================================\n    # 5) output ë°°ì—´ì— ì¶”ê°€\n    # ==========================================================\n    outputs.append({\n        \"width\": target_width,\n        \"height\": target_height,\n        \"CutoutImage_Base64\": output_base64\n    })\n\n# ==========================================================\n# 6) n8n Output (items list ë°˜í™˜)\n# ==========================================================\nreturn outputs\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1904,
        3216
      ],
      "id": "c3bee532-af84-4362-87de-09c29ea04a41",
      "name": "resize background-removed image3"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://generativelanguage.googleapis.com/v1beta/models/gemini-3-pro-image-preview:generateContent",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"contents\" : [{\n    \"parts\": [\n      {\n          \"text\": {{ $('make pure background-removed prompt2').all()[0].json.cleanedPrompt }}\n        },\n      {\n        \"inline_data\": {\n          \"mime_type\": \"image/jpeg\",\n          \"data\": \"{{ $json.base64 }}\"\n        }\n      }\n    ]\n  }],\n  \"generationConfig\": {\n    \"responseModalities\": [\"TEXT\", \"IMAGE\"],\n    \"imageConfig\": {\n      \"aspectRatio\": \"4:5\",\n      \"imageSize\": \"1K\"\n    }\n  } \n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        -2080,
        3216
      ],
      "id": "2d533e2c-a4d9-4bb1-9392-70300dce95cf",
      "name": "create background-removed image3",
      "retryOnFail": true,
      "waitBetweenTries": 5000,
      "credentials": {
        "httpHeaderAuth": {
          "id": "evcIz8tBtY6ypLqT",
          "name": "Soonicorn_GeminiAPI"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// ì…ë ¥ í•„ë“œ ì´ë¦„ë§Œ ë³€ê²½í•´ì„œ ì‚¬ìš©í•˜ì„¸ìš”.\nconst ThumbNailImage = $('On form submission').all()[0].json.MainImage1;\n\n\nlet ThumbNailImageBase64 = null;\n\nif (typeof ThumbNailImage === \"string\" && ThumbNailImage.includes(\",\")) {\n  ThumbNailImageBase64 = ThumbNailImage.split(\",\")[1];\n}\n\n\n\nreturn [\n  {\n    json: {\n      base64: ThumbNailImage    \n    }\n  }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2432,
        2176
      ],
      "id": "f45fb234-3b84-4748-8306-a800861eab6c",
      "name": "make pure mainImage base64 data4"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://generativelanguage.googleapis.com/v1beta/models/gemini-3-pro-image-preview:generateContent",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"contents\" : [{\n    \"parts\": [\n      {\n          \"text\": {{ $('make pure background-removed prompt3').all()[0].json.cleanedPrompt }}\n        },\n      {\n        \"inline_data\": {\n          \"mime_type\": \"image/jpeg\",\n          \"data\": \"{{ $('resize thumbnail1').all()[0].json.ThumbnailImage_Base64 }}\"\n        }\n      },\n {\n        \"inline_data\": {\n          \"mime_type\": \"image/jpeg\",\n          \"data\": \"{{ $json.base64 }}\"\n        }\n      }\n    ]\n  }],\n  \"generationConfig\": {\n    \"responseModalities\": [\"TEXT\", \"IMAGE\"],\n    \"imageConfig\": {\n      \"aspectRatio\": \"4:5\",\n      \"imageSize\": \"1K\"\n    }\n  } \n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        -2256,
        2176
      ],
      "id": "fdc80cd0-e02a-4c6e-8f20-993e9ab6cd5d",
      "name": "create background-removed image4",
      "retryOnFail": true,
      "waitBetweenTries": 5000,
      "credentials": {
        "httpHeaderAuth": {
          "id": "evcIz8tBtY6ypLqT",
          "name": "Soonicorn_GeminiAPI"
        }
      }
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "import base64\nfrom io import BytesIO\nfrom PIL import Image\n\noutputs = []\n\n# ==========================================================\n# 1) input ì „ì²´ ë°˜ë³µ ì²˜ë¦¬\n# ==========================================================\nfor item in _input.all():\n\n    # base64 ìœ„ì¹˜ ì¶”ì¶œ (ì—†ìœ¼ë©´ skip)\n    base64_input = item.json.get(\"candidates\", [])[0].get(\"content\", {}).get(\"parts\", [])[0].get(\"inlineData\", {}).get(\"data\")\n\n    if not base64_input:\n        outputs.append({\n            \"error\": \"base64 ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\",\n            \"original_item\": item.json\n        })\n        continue\n\n    # base64 decode\n    image_data = base64.b64decode(base64_input)\n\n    # ==========================================================\n    # 2) ì´ë¯¸ì§€ ë¡œë“œ\n    # ==========================================================\n    img = Image.open(BytesIO(image_data))\n\n    # ==========================================================\n    # 3) ë¹„ìœ¨ ìœ ì§€ + width 700px ë¦¬ì‚¬ì´ì¦ˆ\n    # ==========================================================\n    target_width = 700\n    w, h = img.size\n    ratio = target_width / float(w)\n    target_height = int(h * ratio)\n\n    resized_img = img.resize((target_width, target_height), Image.LANCZOS)\n\n    # ==========================================================\n    # 4) ë‹¤ì‹œ base64ë¡œ ë³€í™˜\n    # ==========================================================\n    buffered = BytesIO()\n    resized_img.save(buffered, format=\"JPEG\")\n    output_base64 = base64.b64encode(buffered.getvalue()).decode(\"utf-8\")\n\n    # ==========================================================\n    # 5) output ë°°ì—´ì— ì¶”ê°€\n    # ==========================================================\n    outputs.append({\n        \"width\": target_width,\n        \"height\": target_height,\n        \"CutoutImage_Base64\": output_base64\n    })\n\n# ==========================================================\n# 6) n8n Output (items list ë°˜í™˜)\n# ==========================================================\nreturn outputs\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2064,
        2176
      ],
      "id": "db2dd190-f889-4def-9b83-48546b1263f0",
      "name": "resize background-removed image4"
    },
    {
      "parameters": {
        "jsCode": "const prompt = `\n[ì‹œìŠ¤í…œ ì—­í• ]  \në‹¹ì‹ ì€ ì˜ë¥˜ ë¦¬í„°ì¹­ ë° íŒ¨ì…˜ ë””ì§€í„¸ í•©ì„± ì „ë¬¸ê°€ì…ë‹ˆë‹¤.  \në‘ ì¥ì˜ ì´ë¯¸ì§€ë¥¼ ë¶„ì„í•˜ì—¬ ë‹¤ìŒ ê·œì¹™ì— ë”°ë¼ ìƒˆë¡œìš´ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ì‹­ì‹œì˜¤.\n\n[ì…ë ¥ ì´ë¯¸ì§€ ì„¤ëª…]  \n- ì´ë¯¸ì§€ #1 : ìµœì¢… ê²°ê³¼ì—ì„œ **ëª¨ë¸ì˜ ì–¼êµ´, ì²´í˜•, í¬ì¦ˆ, ì¹´ë©”ë¼ ê°ë„, ì¡°ëª…**ì„ ê·¸ëŒ€ë¡œ ìœ ì§€í•´ì•¼ í•˜ëŠ” ê¸°ì¤€ ì´ë¯¸ì§€  \n- ì´ë¯¸ì§€ #2 : ëª¨ë¸ì´ ì…ê³  ìˆëŠ” **ì˜ë¥˜ì˜ ìƒ‰ìƒ ì •ë³´ë§Œ ì¶”ì¶œ**í•´ì•¼ í•˜ëŠ” ì°¸ê³  ì´ë¯¸ì§€  \n\n[í•µì‹¬ ì§€ì‹œì‚¬í•­]\n\n1. **ì´ë¯¸ì§€ #1ì˜ ìš”ì†ŒëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€**\n   - ëª¨ë¸ì˜ ì–¼êµ´ íŠ¹ì§•, ì²´í˜•, í—¤ì–´ìŠ¤íƒ€ì¼  \n   - í¬ì¦ˆ, ì† ìœ„ì¹˜, ë‹¤ë¦¬ ê°ë„  \n   - ì¹´ë©”ë¼ êµ¬ë„, ì¡°ëª… ë¶„ìœ„ê¸°  \n   - ë°°ê²½ê³¼ ì „ì²´ì ì¸ ì¥ë©´ êµ¬ì„±  \n\n2. **ì´ë¯¸ì§€ #2ì—ì„œ ê°€ì ¸ì˜¤ëŠ” ìš”ì†Œ**\n   - ì˜ë¥˜ì˜ **ì •í™•í•œ ìƒ‰ìƒ(Color only)**  \n   - ìƒ‰ì¡°, ì±„ë„, ëª…ë„ ë“± í†¤ ì •ë³´   \n   - *ë””ìì¸ì´ë‚˜ í˜•íƒœëŠ” ì ˆëŒ€ ë³€ê²½í•˜ì§€ ì•ŠìŒ.*\n\n3. **ì ˆëŒ€ ë³€ê²½í•˜ê±°ë‚˜ ê°€ì ¸ì˜¤ì§€ ë§ì•„ì•¼ í•  ê²ƒ**\n   - ì´ë¯¸ì§€ #2ì˜ ëª¨ë¸ ì–¼êµ´Â·í¬ì¦ˆ  \n   - ì´ë¯¸ì§€ #2ì˜ ì˜ìƒ í˜•íƒœ(ë””ìì¸, ì‹¤ë£¨ì—£, íŒ¨í„´)  \n   - ì´ë¯¸ì§€ #2ì˜ ë°°ê²½ ë° ì†Œí’ˆ  \n   - ì´ë¯¸ì§€ #1ì˜ ì˜ìƒ ë””ìì¸ì€ ì ˆëŒ€ ë³€ê²½ ê¸ˆì§€  \n     â†’ ì˜¤ì§ \"ìƒ‰ìƒ\"ë§Œ ëŒ€ì²´ ì ìš©  \n\n4. **ìµœì¢… ìƒì„± ì´ë¯¸ì§€ ìš”êµ¬ì‚¬í•­**\n   - ì´ë¯¸ì§€ #1ì˜ ì˜· **í˜•íƒœì™€ ì§ˆê°ì€ ìœ ì§€í•˜ë˜**,  \n     ìƒ‰ìƒë§Œ ì´ë¯¸ì§€ #2ì˜ ìƒ‰ê³¼ ì¼ê´€ë˜ê²Œ ì ìš©  \n   - ë¶€ìì—°ìŠ¤ëŸ½ê±°ë‚˜ ë©ì–´ë¦¬ì§„ ìƒ‰ ë²ˆì§ ì—†ì´ ìì—°ìŠ¤ëŸ¬ìš´ ì¬ì§ˆ í‘œí˜„  \n   - ì „ì²´ ì‚¬ì§„ í’ˆì§ˆì€ ì›ë³¸ ì´ìƒìœ¼ë¡œ ì„ ëª…í•˜ê³  ê¹¨ë—í•˜ê²Œ  \n\n[ì¶œë ¥ í˜•ì‹]  \n\"ì´ë¯¸ì§€ #1ì˜ ëª¨ë¸ê³¼ í¬ì¦ˆëŠ” ë™ì¼í•˜ê²Œ ìœ ì§€í•˜ê³ , ì˜ìƒì˜ ìƒ‰ìƒë§Œ ì´ë¯¸ì§€ #2ì˜ ìƒ‰ìƒìœ¼ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ ëŒ€ì²´í•œ ê³ í•´ìƒë„ íŒ¨ì…˜ í•©ì„± ì´ë¯¸ì§€ ìƒì„±.\"\n\n`;\n\nreturn [\n  {\n    json: {\n      cleanedPrompt: JSON.stringify(prompt)\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2688,
        2176
      ],
      "id": "7a29671f-2528-4aa0-afce-f32182134a73",
      "name": "make pure background-removed prompt3"
    },
    {
      "parameters": {
        "jsCode": "// ì…ë ¥ í•„ë“œ ì´ë¦„ë§Œ ë³€ê²½í•´ì„œ ì‚¬ìš©í•˜ì„¸ìš”.\nconst ThumbNailImage = $('On form submission').all()[0].json.MainImage2;\n\n\nlet ThumbNailImageBase64 = null;\n\nif (typeof ThumbNailImage === \"string\" && ThumbNailImage.includes(\",\")) {\n  ThumbNailImageBase64 = ThumbNailImage.split(\",\")[1];\n}\n\n\n\nreturn [\n  {\n    json: {\n      base64: ThumbNailImage    \n    }\n  }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2432,
        2384
      ],
      "id": "ad6ed847-3be3-41e7-b836-25c9c19cc27b",
      "name": "make pure mainImage base64 data5"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://generativelanguage.googleapis.com/v1beta/models/gemini-3-pro-image-preview:generateContent",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"contents\" : [{\n    \"parts\": [\n      {\n          \"text\": {{ $('make pure background-removed prompt3').all()[0].json.cleanedPrompt }}\n        },\n      {\n        \"inline_data\": {\n          \"mime_type\": \"image/jpeg\",\n          \"data\": \"{{ $('resize thumbnail1').all()[0].json.ThumbnailImage_Base64 }}\"\n        }\n      },\n {\n        \"inline_data\": {\n          \"mime_type\": \"image/jpeg\",\n          \"data\": \"{{ $json.base64 }}\"\n        }\n      }\n    ]\n  }],\n  \"generationConfig\": {\n    \"responseModalities\": [\"TEXT\", \"IMAGE\"],\n    \"imageConfig\": {\n      \"aspectRatio\": \"4:5\",\n      \"imageSize\": \"1K\"\n    }\n  } \n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        -2256,
        2384
      ],
      "id": "590f99f9-d7b5-4fe2-9aee-799b44e0280c",
      "name": "create background-removed image5",
      "retryOnFail": true,
      "waitBetweenTries": 5000,
      "credentials": {
        "httpHeaderAuth": {
          "id": "evcIz8tBtY6ypLqT",
          "name": "Soonicorn_GeminiAPI"
        }
      }
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "import base64\nfrom io import BytesIO\nfrom PIL import Image\n\noutputs = []\n\n# ==========================================================\n# 1) input ì „ì²´ ë°˜ë³µ ì²˜ë¦¬\n# ==========================================================\nfor item in _input.all():\n\n    # base64 ìœ„ì¹˜ ì¶”ì¶œ (ì—†ìœ¼ë©´ skip)\n    base64_input = item.json.get(\"candidates\", [])[0].get(\"content\", {}).get(\"parts\", [])[0].get(\"inlineData\", {}).get(\"data\")\n\n    if not base64_input:\n        outputs.append({\n            \"error\": \"base64 ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\",\n            \"original_item\": item.json\n        })\n        continue\n\n    # base64 decode\n    image_data = base64.b64decode(base64_input)\n\n    # ==========================================================\n    # 2) ì´ë¯¸ì§€ ë¡œë“œ\n    # ==========================================================\n    img = Image.open(BytesIO(image_data))\n\n    # ==========================================================\n    # 3) ë¹„ìœ¨ ìœ ì§€ + width 700px ë¦¬ì‚¬ì´ì¦ˆ\n    # ==========================================================\n    target_width = 700\n    w, h = img.size\n    ratio = target_width / float(w)\n    target_height = int(h * ratio)\n\n    resized_img = img.resize((target_width, target_height), Image.LANCZOS)\n\n    # ==========================================================\n    # 4) ë‹¤ì‹œ base64ë¡œ ë³€í™˜\n    # ==========================================================\n    buffered = BytesIO()\n    resized_img.save(buffered, format=\"JPEG\")\n    output_base64 = base64.b64encode(buffered.getvalue()).decode(\"utf-8\")\n\n    # ==========================================================\n    # 5) output ë°°ì—´ì— ì¶”ê°€\n    # ==========================================================\n    outputs.append({\n        \"width\": target_width,\n        \"height\": target_height,\n        \"CutoutImage_Base64\": output_base64\n    })\n\n# ==========================================================\n# 6) n8n Output (items list ë°˜í™˜)\n# ==========================================================\nreturn outputs\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2064,
        2384
      ],
      "id": "ae22c274-bc4d-4381-952b-afd199b4f9fb",
      "name": "resize background-removed image5"
    },
    {
      "parameters": {
        "formTitle": "Input Base64",
        "formFields": {
          "values": [
            {
              "fieldLabel": "Thumbnail",
              "requiredField": true
            },
            {
              "fieldLabel": "MainImage1"
            },
            {
              "fieldLabel": "MainImage2"
            },
            {
              "fieldLabel": "Category",
              "requiredField": true
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.formTrigger",
      "typeVersion": 2.3,
      "position": [
        -3216,
        928
      ],
      "id": "e09f2293-4c9c-4eac-94ea-40dd06acaae8",
      "name": "On form submission",
      "webhookId": "4d3ab9b8-2e48-4330-bb39-c28c4ea7268a"
    }
  ],
  "connections": {
    "Convert Base64 To File": {
      "main": [
        [
          {
            "node": "resize subImage",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Resize Image": {
      "main": [
        [
          {
            "node": "Edit Image",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract from File1": {
      "main": [
        [
          {
            "node": "resize info-section image",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure base64": {
      "main": [
        [
          {
            "node": "make pure thumbnailPrompt",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure thumbnailPrompt": {
      "main": [
        [
          {
            "node": "create thumbnail",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "create thumbnail": {
      "main": [
        [
          {
            "node": "resize thumbnail",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "resize thumbnail": {
      "main": [
        [
          {
            "node": "make pure model-cut prompt 1",
            "type": "main",
            "index": 0
          },
          {
            "node": "make pure model-cut prompt 2",
            "type": "main",
            "index": 0
          },
          {
            "node": "make pure model-cut prompt 3",
            "type": "main",
            "index": 0
          },
          {
            "node": "make pure model-cut prompt 4",
            "type": "main",
            "index": 0
          },
          {
            "node": "make pure model-cut prompt 5",
            "type": "main",
            "index": 0
          },
          {
            "node": "make pure model-cut prompt 6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "create model-cut 1": {
      "main": [
        [
          {
            "node": "resize model-cut 1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure model-cut prompt 1": {
      "main": [
        [
          {
            "node": "create model-cut 1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure model-cut prompt 2": {
      "main": [
        [
          {
            "node": "create model-cut 2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure model-cut prompt 3": {
      "main": [
        [
          {
            "node": "create model-cut 3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure model-cut prompt 4": {
      "main": [
        [
          {
            "node": "create model-cut 4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure model-cut prompt 5": {
      "main": [
        [
          {
            "node": "create model-cut 5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure model-cut prompt 6": {
      "main": [
        [
          {
            "node": "create model-cut 6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "resize model-cut 1": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "create model-cut 2": {
      "main": [
        [
          {
            "node": "resize model-cut 2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "create model-cut 3": {
      "main": [
        [
          {
            "node": "resize model-cut 3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "create model-cut 4": {
      "main": [
        [
          {
            "node": "resize model-cut 4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "create model-cut 5": {
      "main": [
        [
          {
            "node": "resize model-cut 5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "create model-cut 6": {
      "main": [
        [
          {
            "node": "resize model-cut 6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "resize model-cut 2": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "resize model-cut 3": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "resize model-cut 4": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 3
          }
        ]
      ]
    },
    "resize model-cut 5": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 4
          }
        ]
      ]
    },
    "resize model-cut 6": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 5
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "merge model-cut images",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "merge model-cut images": {
      "main": [
        [
          {
            "node": "caculate subimage size",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent4": {
      "main": [
        [
          {
            "node": "JSON parsing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model4": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent4",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory4": {
      "ai_memory": [
        [
          {
            "node": "AI Agent4",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "make pure mainImages base64": {
      "main": [
        [
          {
            "node": "convert imageFIle",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "convert imageFIle": {
      "main": [
        [
          {
            "node": "AI Agent4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "JSON parsing": {
      "main": [
        [
          {
            "node": "is background-removed image?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "is background-removed image?": {
      "main": [
        [
          {
            "node": "check true items count",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "check false items count",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make postData1": {
      "main": [
        [
          {
            "node": "post background-removed image",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "check true items count": {
      "main": [
        [
          {
            "node": "make postData1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "can create background-removed images?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "check false items count": {
      "main": [
        [
          {
            "node": "can create background-removed images?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "can create background-removed images?": {
      "main": [
        [
          {
            "node": "check true items count 1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "check false items count 1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "check true items count 1": {
      "main": [
        [
          {
            "node": "check mainImages count",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "check mainImages count1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "check false items count 1": {
      "main": [
        [
          {
            "node": "check mainImages count1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "check mainImages count": {
      "main": [
        [],
        [
          {
            "node": "make pure color-judgment prompt",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure color-judgment prompt": {
      "main": [
        [
          {
            "node": "make pure mainImages base64 data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure mainImages base64 data": {
      "main": [
        [
          {
            "node": "color-judgment",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "color-judgment": {
      "main": [
        [
          {
            "node": "JSON parsing1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "JSON parsing1": {
      "main": [
        [
          {
            "node": "is same color?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "is same color?": {
      "main": [
        [],
        [
          {
            "node": "make pure background-removed prompt",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure mainImage base64 data": {
      "main": [
        [
          {
            "node": "create background-removed image",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "resize background-removed image": {
      "main": [
        [
          {
            "node": "sum background-removed image",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "sum background-removed image": {
      "main": [
        [
          {
            "node": "post background-removed image1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "create background-removed image": {
      "main": [
        [
          {
            "node": "resize background-removed image",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure background-removed prompt": {
      "main": [
        [
          {
            "node": "make pure mainImage base64 data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "check mainImages count1": {
      "main": [
        [],
        [
          {
            "node": "make pure color-judgment prompt1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure color-judgment prompt1": {
      "main": [
        [
          {
            "node": "make pure mainImages base64 data1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure mainImages base64 data1": {
      "main": [
        [
          {
            "node": "color-judgment1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "color-judgment1": {
      "main": [
        [
          {
            "node": "JSON parsing2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "JSON parsing2": {
      "main": [
        [
          {
            "node": "is same color?1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "is same color?1": {
      "main": [
        [],
        [
          {
            "node": "make pure background-removed prompt1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure mainImage base64 data1": {
      "main": [
        [
          {
            "node": "create background-removed image1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "create background-removed image1": {
      "main": [
        [
          {
            "node": "resize background-removed image1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "resize background-removed image1": {
      "main": [
        [
          {
            "node": "sum background-removed image1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "sum background-removed image1": {
      "main": [
        [
          {
            "node": "post background-removed image1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure info-section judgment prompt1": {
      "main": [
        [
          {
            "node": "make pure info-section judgment prompt2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure info-section judgment prompt2": {
      "main": [
        [
          {
            "node": "get subImageBase1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "caculate subimage size": {
      "main": [
        [
          {
            "node": "make pure info-section judgment prompt1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "resize subImage": {
      "main": [
        [
          {
            "node": "Analyze subImage",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Analyze subImage": {
      "main": [
        [
          {
            "node": "JSON parsing3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "JSON parsing3": {
      "main": [
        [
          {
            "node": "get subImageBase",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "get subImageBase": {
      "main": [
        [
          {
            "node": "Convert Base64 To File1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "get subImageBase1": {
      "main": [
        [
          {
            "node": "Convert Base64 To File",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Convert Base64 To File1": {
      "main": [
        [
          {
            "node": "Resize Image",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Image": {
      "main": [
        [
          {
            "node": "Analyze subImage1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Analyze subImage1": {
      "main": [
        [
          {
            "node": "JSON parsing4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "JSON parsing4": {
      "main": [
        [
          {
            "node": "get subImageBase2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "get subImageBase2": {
      "main": [
        [
          {
            "node": "Convert Base64 To File2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Convert Base64 To File2": {
      "main": [
        [
          {
            "node": "Resize Image1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Resize Image1": {
      "main": [
        [
          {
            "node": "Edit Image1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Image1": {
      "main": [
        [
          {
            "node": "Extract from File1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "resize info-section image": {
      "main": [
        [
          {
            "node": "post image API",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "post image API": {
      "main": [
        [
          {
            "node": "make pure mainImages base64",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "JSON parsing5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "convert imageFIle1": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "JSON parsing5": {
      "main": [
        [
          {
            "node": "is thumbnail occluded?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure thumbnail image": {
      "main": [
        [
          {
            "node": "convert imageFIle1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript": {
      "main": [
        [
          {
            "node": "HTTP Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "is thumbnail occluded?": {
      "main": [
        [
          {
            "node": "Code in JavaScript",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "make pure base64",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure background-removed prompt1": {
      "main": [
        [
          {
            "node": "make pure mainImage base64 data1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "create model-cut ": {
      "main": [
        [
          {
            "node": "resize model-cut ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure model-cut prompt ": {
      "main": [
        [
          {
            "node": "create model-cut ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure model-cut prompt 7": {
      "main": [
        [
          {
            "node": "create model-cut 7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure model-cut prompt 8": {
      "main": [
        [
          {
            "node": "create model-cut 8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure model-cut prompt 9": {
      "main": [
        [
          {
            "node": "create model-cut 9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure model-cut prompt 10": {
      "main": [
        [
          {
            "node": "create model-cut 10",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure model-cut prompt 11": {
      "main": [
        [
          {
            "node": "create model-cut 11",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "create model-cut 7": {
      "main": [
        [
          {
            "node": "resize model-cut 7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "create model-cut 8": {
      "main": [
        [
          {
            "node": "resize model-cut 8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "create model-cut 9": {
      "main": [
        [
          {
            "node": "resize model-cut 9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "create model-cut 10": {
      "main": [
        [
          {
            "node": "resize model-cut 10",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "create model-cut 11": {
      "main": [
        [
          {
            "node": "resize model-cut 11",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure thumbnailPrompt1": {
      "main": [
        [
          {
            "node": "create thumbnail1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "create thumbnail1": {
      "main": [
        [
          {
            "node": "resize thumbnail1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "resize thumbnail1": {
      "main": [
        [
          {
            "node": "make pure model-cut prompt ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "resize model-cut ": {
      "main": [
        [
          {
            "node": "make pure model-cut prompt 7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "resize model-cut 7": {
      "main": [
        [
          {
            "node": "make pure model-cut prompt 8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "resize model-cut 8": {
      "main": [
        [
          {
            "node": "make pure model-cut prompt 9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "resize model-cut 9": {
      "main": [
        [
          {
            "node": "make pure model-cut prompt 10",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "resize model-cut 10": {
      "main": [
        [
          {
            "node": "make pure model-cut prompt 11",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure base": {
      "main": [
        [
          {
            "node": "make pure thumbnailPrompt1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure mainImage base64 data2": {
      "main": [
        [
          {
            "node": "create background-removed image2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "create background-removed image2": {
      "main": [
        [
          {
            "node": "resize background-removed image2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure background-removed prompt2": {
      "main": [
        [
          {
            "node": "make pure mainImage base64 data2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure mainImage base64 data3": {
      "main": [
        [
          {
            "node": "create background-removed image3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "create background-removed image3": {
      "main": [
        [
          {
            "node": "resize background-removed image3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "resize background-removed image2": {
      "main": [
        [
          {
            "node": "make pure mainImage base64 data3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure mainImage base64 data4": {
      "main": [
        [
          {
            "node": "create background-removed image4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "create background-removed image4": {
      "main": [
        [
          {
            "node": "resize background-removed image4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure background-removed prompt3": {
      "main": [
        [
          {
            "node": "make pure mainImage base64 data4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "make pure mainImage base64 data5": {
      "main": [
        [
          {
            "node": "create background-removed image5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "create background-removed image5": {
      "main": [
        [
          {
            "node": "resize background-removed image5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "resize background-removed image4": {
      "main": [
        [
          {
            "node": "make pure mainImage base64 data5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "resize model-cut 11": {
      "main": [
        [
          {
            "node": "make pure background-removed prompt3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "On form submission": {
      "main": [
        [
          {
            "node": "make pure base",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "meta": {},
  "pinData": {},
  "tags": [],
  "versionId": "53aa744f-5cf0-4e14-8664-b5476b2b8063"
}